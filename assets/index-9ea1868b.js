(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.17.0
 * @author George Michael Brower
 * @license MIT
 */class ht{constructor(t,e,i,s,n="div"){this.parent=t,this.object=e,this.property=i,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(s),this.$name=document.createElement("div"),this.$name.classList.add("name"),ht.nextNameID=ht.nextNameID||0,this.$name.id=`lil-gui-name-${++ht.nextNameID}`,this.$widget=document.createElement(n),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(t){return this._name=t,this.$name.innerHTML=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled?this:(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t),this)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){const e=this.parent.add(this.object,this.property,t);return e.name(this._name),this.destroy(),e}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.object[this.property]=t,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class Cr extends ht{constructor(t,e,i){super(t,e,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function Te(r){let t,e;return(t=r.match(/(#|0x)?([a-f0-9]{6})/i))?e=t[2]:(t=r.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?e=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=r.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(e=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e?"#"+e:!1}const Pr={isPrimitive:!0,match:r=>typeof r=="string",fromHexString:Te,toHexString:Te},jt={isPrimitive:!0,match:r=>typeof r=="number",fromHexString:r=>parseInt(r.substring(1),16),toHexString:r=>"#"+r.toString(16).padStart(6,0)},Or={isPrimitive:!1,match:Array.isArray,fromHexString(r,t,e=1){const i=jt.fromHexString(r);t[0]=(i>>16&255)/255*e,t[1]=(i>>8&255)/255*e,t[2]=(i&255)/255*e},toHexString([r,t,e],i=1){i=255/i;const s=r*i<<16^t*i<<8^e*i<<0;return jt.toHexString(s)}},Fr={isPrimitive:!1,match:r=>Object(r)===r,fromHexString(r,t,e=1){const i=jt.fromHexString(r);t.r=(i>>16&255)/255*e,t.g=(i>>8&255)/255*e,t.b=(i&255)/255*e},toHexString({r,g:t,b:e},i=1){i=255/i;const s=r*i<<16^t*i<<8^e*i<<0;return jt.toHexString(s)}},kr=[Pr,jt,Or,Fr];function Dr(r){return kr.find(t=>t.match(r))}class Lr extends ht{constructor(t,e,i,s){super(t,e,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=Dr(this.initialValue),this._rgbScale=s,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const n=Te(this.$text.value);n&&this._setValueFromHexString(n)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const e=this._format.fromHexString(t);this.setValue(e)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class ce extends ht{constructor(t,e,i){super(t,e,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",s=>{s.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class $r extends ht{constructor(t,e,i,s,n,a){super(t,e,i,"number"),this._initInput(),this.min(s),this.max(n);const h=a!==void 0;this.step(h?a:this._getImplicitStep(),h),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,e=!0){return this._step=t,this._stepExplicit=e,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let e=(t-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=e*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const t=()=>{let g=parseFloat(this.$input.value);isNaN(g)||(this._stepExplicit&&(g=this._snap(g)),this.setValue(this._clamp(g)))},e=g=>{const y=parseFloat(this.$input.value);isNaN(y)||(this._snapClampSetValue(y+g),this.$input.value=this.getValue())},i=g=>{g.code==="Enter"&&this.$input.blur(),g.code==="ArrowUp"&&(g.preventDefault(),e(this._step*this._arrowKeyMultiplier(g))),g.code==="ArrowDown"&&(g.preventDefault(),e(this._step*this._arrowKeyMultiplier(g)*-1))},s=g=>{this._inputFocused&&(g.preventDefault(),e(this._step*this._normalizeMouseWheel(g)))};let n=!1,a,h,l,o,u;const f=5,p=g=>{a=g.clientX,h=l=g.clientY,n=!0,o=this.getValue(),u=0,window.addEventListener("mousemove",d),window.addEventListener("mouseup",c)},d=g=>{if(n){const y=g.clientX-a,x=g.clientY-h;Math.abs(x)>f?(g.preventDefault(),this.$input.blur(),n=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(y)>f&&c()}if(!n){const y=g.clientY-l;u-=y*this._step*this._arrowKeyMultiplier(g),o+u>this._max?u=this._max-o:o+u<this._min&&(u=this._min-o),this._snapClampSetValue(o+u)}l=g.clientY},c=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",c)},_=()=>{this._inputFocused=!0},m=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",t),this.$input.addEventListener("keydown",i),this.$input.addEventListener("wheel",s,{passive:!1}),this.$input.addEventListener("mousedown",p),this.$input.addEventListener("focus",_),this.$input.addEventListener("blur",m)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const t=(g,y,x,b,A)=>(g-y)/(x-y)*(A-b)+b,e=g=>{const y=this.$slider.getBoundingClientRect();let x=t(g,y.left,y.right,this._min,this._max);this._snapClampSetValue(x)},i=g=>{this._setDraggingStyle(!0),e(g.clientX),window.addEventListener("mousemove",s),window.addEventListener("mouseup",n)},s=g=>{e(g.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",n)};let a=!1,h,l;const o=g=>{g.preventDefault(),this._setDraggingStyle(!0),e(g.touches[0].clientX),a=!1},u=g=>{g.touches.length>1||(this._hasScrollBar?(h=g.touches[0].clientX,l=g.touches[0].clientY,a=!0):o(g),window.addEventListener("touchmove",f,{passive:!1}),window.addEventListener("touchend",p))},f=g=>{if(a){const y=g.touches[0].clientX-h,x=g.touches[0].clientY-l;Math.abs(y)>Math.abs(x)?o(g):(window.removeEventListener("touchmove",f),window.removeEventListener("touchend",p))}else g.preventDefault(),e(g.touches[0].clientX)},p=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",p)},d=this._callOnFinishChange.bind(this),c=400;let _;const m=g=>{if(Math.abs(g.deltaX)<Math.abs(g.deltaY)&&this._hasScrollBar)return;g.preventDefault();const x=this._normalizeMouseWheel(g)*this._step;this._snapClampSetValue(this.getValue()+x),this.$input.value=this.getValue(),clearTimeout(_),_=setTimeout(d,c)};this.$slider.addEventListener("mousedown",i),this.$slider.addEventListener("touchstart",u,{passive:!1}),this.$slider.addEventListener("wheel",m,{passive:!1})}_setDraggingStyle(t,e="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${e}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:e,deltaY:i}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(e=0,i=-t.wheelDelta/120,i*=this._stepExplicit?1:10),e+-i}_arrowKeyMultiplier(t){let e=this._stepExplicit?1:10;return t.shiftKey?e*=10:t.altKey&&(e/=10),e}_snap(t){const e=Math.round(t/this._step)*this._step;return parseFloat(e.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class Rr extends ht{constructor(t,e,i,s){super(t,e,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(s)?s:Object.values(s),this._names=Array.isArray(s)?s:Object.keys(s),this._names.forEach(n=>{const a=document.createElement("option");a.innerHTML=n,this.$select.appendChild(a)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const t=this.getValue(),e=this._values.indexOf(t);return this.$select.selectedIndex=e,this.$display.innerHTML=e===-1?t:this._names[e],this}}class zr extends ht{constructor(t,e,i){super(t,e,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",s=>{s.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const Ir=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function Br(r){const t=document.createElement("style");t.innerHTML=r;const e=document.querySelector("head link[rel=stylesheet], head style");e?document.head.insertBefore(t,e):document.head.appendChild(t)}let He=!1;class Oi{constructor({parent:t,autoPlace:e=t===void 0,container:i,width:s,title:n="Controls",injectStyles:a=!0,touchStyles:h=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",l=>{(l.code==="Enter"||l.code==="Space")&&(l.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(n),h&&this.domElement.classList.add("allow-touch-styles"),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),!He&&a&&(Br(Ir),He=!0),i?i.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),s&&this.domElement.style.setProperty("--width",s+"px"),this.domElement.addEventListener("keydown",l=>l.stopPropagation()),this.domElement.addEventListener("keyup",l=>l.stopPropagation())}add(t,e,i,s,n){if(Object(i)===i)return new Rr(this,t,e,i);const a=t[e];switch(typeof a){case"number":return new $r(this,t,e,i,s,n);case"boolean":return new Cr(this,t,e);case"string":return new zr(this,t,e);case"function":return new ce(this,t,e)}console.error(`gui.add failed
	property:`,e,`
	object:`,t,`
	value:`,a)}addColor(t,e,i=1){return new Lr(this,t,e,i)}addFolder(t){return new Oi({parent:this,title:t})}load(t,e=!0){return t.controllers&&this.controllers.forEach(i=>{i instanceof ce||i._name in t.controllers&&i.load(t.controllers[i._name])}),e&&t.folders&&this.folders.forEach(i=>{i._title in t.folders&&i.load(t.folders[i._title])}),this}save(t=!0){const e={controllers:{},folders:{}};return this.controllers.forEach(i=>{if(!(i instanceof ce)){if(i._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${i._name}"`);e.controllers[i._name]=i.save()}}),t&&this.folders.forEach(i=>{if(i._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${i._title}"`);e.folders[i._title]=i.save()}),e}open(t=!0){return this._closed=!t,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._closed=!t,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");const i=n=>{n.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);const s=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame(()=>{this.$children.style.height=s+"px"})}),this}title(t){return this._title=t,this.$title.innerHTML=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),this._onChange!==void 0&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(e=>{t=t.concat(e.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(e=>{t=t.concat(e.foldersRecursive())}),t}}function je(r){let t=r[0],e=r[1],i=r[2];return Math.sqrt(t*t+e*e+i*i)}function Ce(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function Vr(r,t,e,i){return r[0]=t,r[1]=e,r[2]=i,r}function Ze(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function Ke(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r}function Nr(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r}function Ur(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r[2]=t[2]/e[2],r}function pe(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r}function Yr(r,t){let e=t[0]-r[0],i=t[1]-r[1],s=t[2]-r[2];return Math.sqrt(e*e+i*i+s*s)}function Xr(r,t){let e=t[0]-r[0],i=t[1]-r[1],s=t[2]-r[2];return e*e+i*i+s*s}function Qe(r){let t=r[0],e=r[1],i=r[2];return t*t+e*e+i*i}function Gr(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}function qr(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}function Pe(r,t){let e=t[0],i=t[1],s=t[2],n=e*e+i*i+s*s;return n>0&&(n=1/Math.sqrt(n)),r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r}function Fi(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}function Je(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[0],h=e[1],l=e[2];return r[0]=s*l-n*h,r[1]=n*a-i*l,r[2]=i*h-s*a,r}function Wr(r,t,e,i){let s=t[0],n=t[1],a=t[2];return r[0]=s+i*(e[0]-s),r[1]=n+i*(e[1]-n),r[2]=a+i*(e[2]-a),r}function Hr(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[3]*i+e[7]*s+e[11]*n+e[15];return a=a||1,r[0]=(e[0]*i+e[4]*s+e[8]*n+e[12])/a,r[1]=(e[1]*i+e[5]*s+e[9]*n+e[13])/a,r[2]=(e[2]*i+e[6]*s+e[10]*n+e[14])/a,r}function jr(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[3]*i+e[7]*s+e[11]*n+e[15];return a=a||1,r[0]=(e[0]*i+e[4]*s+e[8]*n)/a,r[1]=(e[1]*i+e[5]*s+e[9]*n)/a,r[2]=(e[2]*i+e[6]*s+e[10]*n)/a,r}function Zr(r,t,e){let i=t[0],s=t[1],n=t[2];return r[0]=i*e[0]+s*e[3]+n*e[6],r[1]=i*e[1]+s*e[4]+n*e[7],r[2]=i*e[2]+s*e[5]+n*e[8],r}function Kr(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[0],h=e[1],l=e[2],o=e[3],u=h*n-l*s,f=l*i-a*n,p=a*s-h*i,d=h*p-l*f,c=l*u-a*p,_=a*f-h*u,m=o*2;return u*=m,f*=m,p*=m,d*=2,c*=2,_*=2,r[0]=i+u+d,r[1]=s+f+c,r[2]=n+p+_,r}const Qr=function(){const r=[0,0,0],t=[0,0,0];return function(e,i){Ce(r,e),Ce(t,i),Pe(r,r),Pe(t,t);let s=Fi(r,t);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function Jr(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}class Q extends Array{constructor(t=0,e=t,i=t){return super(t,e,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,i=t){return t.length?this.copy(t):(Vr(this,t,e,i),this)}copy(t){return Ce(this,t),this}add(t,e){return e?Ze(this,t,e):Ze(this,this,t),this}sub(t,e){return e?Ke(this,t,e):Ke(this,this,t),this}multiply(t){return t.length?Nr(this,this,t):pe(this,this,t),this}divide(t){return t.length?Ur(this,this,t):pe(this,this,1/t),this}inverse(t=this){return qr(this,t),this}len(){return je(this)}distance(t){return t?Yr(this,t):je(this)}squaredLen(){return Qe(this)}squaredDistance(t){return t?Xr(this,t):Qe(this)}negate(t=this){return Gr(this,t),this}cross(t,e){return e?Je(this,t,e):Je(this,this,t),this}scale(t){return pe(this,this,t),this}normalize(){return Pe(this,this),this}dot(t){return Fi(this,t)}equals(t){return Jr(this,t)}applyMatrix3(t){return Zr(this,this,t),this}applyMatrix4(t){return Hr(this,this,t),this}scaleRotateMatrix4(t){return jr(this,this,t),this}applyQuaternion(t){return Kr(this,this,t),this}angle(t){return Qr(this,t)}lerp(t,e){return Wr(this,this,t,e),this}clone(){return new Q(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){const e=this[0],i=this[1],s=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*s,this[1]=t[1]*e+t[5]*i+t[9]*s,this[2]=t[2]*e+t[6]*i+t[10]*s,this.normalize()}}const ti=new Q;let ts=1,es=1,ei=!1;class is{constructor(t,e={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=ts++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in e)this.addAttribute(i,e[i])}addAttribute(t,e){if(this.attributes[t]=e,e.id=es++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else t==="index"?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){const e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((e,{name:i,type:s})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const n=this.attributes[i];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let a=1;s===35674&&(a=2),s===35675&&(a=3),s===35676&&(a=4);const h=n.size/a,l=a===1?0:a*a*a,o=a===1?0:a*a;for(let u=0;u<a;u++)this.gl.vertexAttribPointer(e+u,h,n.type,n.normalized,n.stride+l,n.offset+u*o),this.gl.enableVertexAttribArray(e+u),this.gl.renderer.vertexAttribDivisor(e+u,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((i,{name:s})=>{const n=this.attributes[s];n.needsUpdate&&this.updateAttribute(n)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!ei)return console.warn("No position buffer data found to compute bounds"),ei=!0}computeBoundingBox(t){t||(t=this.getPosition());const e=t.data,i=t.stride?t.stride/e.BYTES_PER_ELEMENT:t.size;this.bounds||(this.bounds={min:new Q,max:new Q,center:new Q,scale:new Q,radius:1/0});const s=this.bounds.min,n=this.bounds.max,a=this.bounds.center,h=this.bounds.scale;s.set(1/0),n.set(-1/0);for(let l=0,o=e.length;l<o;l+=i){const u=e[l],f=e[l+1],p=e[l+2];s.x=Math.min(u,s.x),s.y=Math.min(f,s.y),s.z=Math.min(p,s.z),n.x=Math.max(u,n.x),n.y=Math.max(f,n.y),n.z=Math.max(p,n.z)}h.sub(n,s),a.add(s,n).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const e=t.data,i=t.stride?t.stride/e.BYTES_PER_ELEMENT:t.size;this.bounds||this.computeBoundingBox(t);let s=0;for(let n=0,a=e.length;n<a;n+=i)ti.fromArray(e,n),s=Math.max(s,this.bounds.center.squaredDistance(ti));this.bounds.radius=Math.sqrt(s)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let rs=1;const ii={};class Fa{constructor(t,{vertex:e,fragment:i,uniforms:s={},transparent:n=!1,cullFace:a=t.BACK,frontFace:h=t.CCW,depthTest:l=!0,depthWrite:o=!0,depthFunc:u=t.LESS}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=s,this.id=rs++,e||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=n,this.cullFace=a,this.frontFace=h,this.depthTest=l,this.depthWrite=o,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const f=t.createShader(t.VERTEX_SHADER);t.shaderSource(f,e),t.compileShader(f),t.getShaderInfoLog(f)!==""&&console.warn(`${t.getShaderInfoLog(f)}
Vertex Shader
${ri(e)}`);const p=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(p,i),t.compileShader(p),t.getShaderInfoLog(p)!==""&&console.warn(`${t.getShaderInfoLog(p)}
Fragment Shader
${ri(i)}`),this.program=t.createProgram(),t.attachShader(this.program,f),t.attachShader(this.program,p),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return console.warn(t.getProgramInfoLog(this.program));t.deleteShader(f),t.deleteShader(p),this.uniformLocations=new Map;let d=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let m=0;m<d;m++){let g=t.getActiveUniform(this.program,m);this.uniformLocations.set(g,t.getUniformLocation(this.program,g.name));const y=g.name.match(/(\w+)/g);g.uniformName=y[0],y.length===3?(g.isStructArray=!0,g.structIndex=Number(y[1]),g.structProperty=y[2]):y.length===2&&isNaN(Number(y[1]))&&(g.isStruct=!0,g.structProperty=y[1])}this.attributeLocations=new Map;const c=[],_=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let m=0;m<_;m++){const g=t.getActiveAttrib(this.program,m),y=t.getAttribLocation(this.program,g.name);y!==-1&&(c[y]=g.name,this.attributeLocations.set(g,y))}this.attributeOrder=c.join("")}setBlendFunc(t,e,i,s){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=s,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,n)=>{let a=n.uniformName,h=this.uniforms[a];if(n.isStruct&&(h=h[n.structProperty],a+=`.${n.structProperty}`),n.isStructArray&&(h=h[n.structIndex][n.structProperty],a+=`[${n.structIndex}].${n.structProperty}`),!h)return si(`Active uniform ${a} has not been supplied`);if(h&&h.value===void 0)return si(`${a} uniform is missing a value parameter`);if(h.value.texture)return e=e+1,h.value.update(e),ge(this.gl,n.type,s,e);if(h.value.length&&h.value[0].texture){const l=[];return h.value.forEach(o=>{e=e+1,o.update(e),l.push(e)}),ge(this.gl,n.type,s,l)}ge(this.gl,n.type,s,h.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function ge(r,t,e,i){i=i.length?ss(i):i;const s=r.renderer.state.uniformLocations.get(e);if(i.length)if(s===void 0||s.length!==i.length)r.renderer.state.uniformLocations.set(e,i.slice(0));else{if(ns(s,i))return;s.set?s.set(i):as(s,i),r.renderer.state.uniformLocations.set(e,s)}else{if(s===i)return;r.renderer.state.uniformLocations.set(e,i)}switch(t){case 5126:return i.length?r.uniform1fv(e,i):r.uniform1f(e,i);case 35664:return r.uniform2fv(e,i);case 35665:return r.uniform3fv(e,i);case 35666:return r.uniform4fv(e,i);case 35670:case 5124:case 35678:case 35680:return i.length?r.uniform1iv(e,i):r.uniform1i(e,i);case 35671:case 35667:return r.uniform2iv(e,i);case 35672:case 35668:return r.uniform3iv(e,i);case 35673:case 35669:return r.uniform4iv(e,i);case 35674:return r.uniformMatrix2fv(e,!1,i);case 35675:return r.uniformMatrix3fv(e,!1,i);case 35676:return r.uniformMatrix4fv(e,!1,i)}}function ri(r){let t=r.split(`
`);for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join(`
`)}function ss(r){const t=r.length,e=r[0].length;if(e===void 0)return r;const i=t*e;let s=ii[i];s||(ii[i]=s=new Float32Array(i));for(let n=0;n<t;n++)s.set(r[n],n*e);return s}function ns(r,t){if(r.length!==t.length)return!1;for(let e=0,i=r.length;e<i;e++)if(r[e]!==t[e])return!1;return!0}function as(r,t){for(let e=0,i=r.length;e<i;e++)r[e]=t[e]}let _e=0;function si(r){_e>100||(console.warn(r),_e++,_e>100&&console.warn("More than 100 program warnings - stopping logs."))}const me=new Q;let hs=1;class ka{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:s=1,alpha:n=!1,depth:a=!0,stencil:h=!1,antialias:l=!1,premultipliedAlpha:o=!1,preserveDrawingBuffer:u=!1,powerPreference:f="default",autoClear:p=!0,webgl:d=2}={}){const c={alpha:n,depth:a,stencil:h,antialias:l,premultipliedAlpha:o,preserveDrawingBuffer:u,powerPreference:f};this.dpr=s,this.alpha=n,this.color=!0,this.depth=a,this.stencil=h,this.premultipliedAlpha=o,this.autoClear=p,this.id=hs++,d===2&&(this.gl=t.getContext("webgl2",c)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",c)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,i=0,s=0){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=i,this.state.viewport.y=s,this.gl.viewport(i,s,t,e))}setScissor(t,e,i=0,s=0){this.gl.scissor(i,s,t,e)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,s){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=s,i!==void 0?this.gl.blendFuncSeparate(t,e,i,s):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,e!==void 0?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:i,sort:s}){let n=[];if(e&&i&&e.updateFrustum(),t.traverse(a=>{if(!a.visible)return!0;a.draw&&(i&&a.frustumCulled&&e&&!e.frustumIntersectsMesh(a)||n.push(a))}),s){const a=[],h=[],l=[];n.forEach(o=>{o.program.transparent?o.program.depthTest?h.push(o):l.push(o):a.push(o),o.zDepth=0,!(o.renderOrder!==0||!o.program.depthTest||!e)&&(o.worldMatrix.getTranslation(me),me.applyMatrix4(e.projectionViewMatrix),o.zDepth=me.z)}),a.sort(this.sortOpaque),h.sort(this.sortTransparent),l.sort(this.sortUI),n=a.concat(h,l)}return n}render({scene:t,camera:e,target:i=null,update:s=!0,sort:n=!0,frustumCull:a=!0,clear:h}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(h||this.autoClear&&h!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:a,sort:n}).forEach(o=>{o.draw({camera:e})})}}function ls(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function os(r,t,e,i,s){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r}function us(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e*e+i*i+s*s+n*n;return a>0&&(a=1/Math.sqrt(a)),r[0]=e*a,r[1]=i*a,r[2]=s*a,r[3]=n*a,r}function fs(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}function ds(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function cs(r,t,e){e=e*.5;let i=Math.sin(e);return r[0]=i*t[0],r[1]=i*t[1],r[2]=i*t[2],r[3]=Math.cos(e),r}function ni(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=e[0],l=e[1],o=e[2],u=e[3];return r[0]=i*u+a*h+s*o-n*l,r[1]=s*u+a*l+n*h-i*o,r[2]=n*u+a*o+i*l-s*h,r[3]=a*u-i*h-s*l-n*o,r}function ps(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],a=t[3],h=Math.sin(e),l=Math.cos(e);return r[0]=i*l+a*h,r[1]=s*l+n*h,r[2]=n*l-s*h,r[3]=a*l-i*h,r}function gs(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],a=t[3],h=Math.sin(e),l=Math.cos(e);return r[0]=i*l-n*h,r[1]=s*l+a*h,r[2]=n*l+i*h,r[3]=a*l-s*h,r}function _s(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],a=t[3],h=Math.sin(e),l=Math.cos(e);return r[0]=i*l+s*h,r[1]=s*l-i*h,r[2]=n*l+a*h,r[3]=a*l-n*h,r}function ms(r,t,e,i){let s=t[0],n=t[1],a=t[2],h=t[3],l=e[0],o=e[1],u=e[2],f=e[3],p,d,c,_,m;return d=s*l+n*o+a*u+h*f,d<0&&(d=-d,l=-l,o=-o,u=-u,f=-f),1-d>1e-6?(p=Math.acos(d),c=Math.sin(p),_=Math.sin((1-i)*p)/c,m=Math.sin(i*p)/c):(_=1-i,m=i),r[0]=_*s+m*l,r[1]=_*n+m*o,r[2]=_*a+m*u,r[3]=_*h+m*f,r}function ys(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e*e+i*i+s*s+n*n,h=a?1/a:0;return r[0]=-e*h,r[1]=-i*h,r[2]=-s*h,r[3]=n*h,r}function xs(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r}function bs(r,t){let e=t[0]+t[4]+t[8],i;if(e>0)i=Math.sqrt(e+1),r[3]=.5*i,i=.5/i,r[0]=(t[5]-t[7])*i,r[1]=(t[6]-t[2])*i,r[2]=(t[1]-t[3])*i;else{let s=0;t[4]>t[0]&&(s=1),t[8]>t[s*3+s]&&(s=2);let n=(s+1)%3,a=(s+2)%3;i=Math.sqrt(t[s*3+s]-t[n*3+n]-t[a*3+a]+1),r[s]=.5*i,i=.5/i,r[3]=(t[n*3+a]-t[a*3+n])*i,r[n]=(t[n*3+s]+t[s*3+n])*i,r[a]=(t[a*3+s]+t[s*3+a])*i}return r}function ws(r,t,e="YXZ"){let i=Math.sin(t[0]*.5),s=Math.cos(t[0]*.5),n=Math.sin(t[1]*.5),a=Math.cos(t[1]*.5),h=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return e==="XYZ"?(r[0]=i*a*l+s*n*h,r[1]=s*n*l-i*a*h,r[2]=s*a*h+i*n*l,r[3]=s*a*l-i*n*h):e==="YXZ"?(r[0]=i*a*l+s*n*h,r[1]=s*n*l-i*a*h,r[2]=s*a*h-i*n*l,r[3]=s*a*l+i*n*h):e==="ZXY"?(r[0]=i*a*l-s*n*h,r[1]=s*n*l+i*a*h,r[2]=s*a*h+i*n*l,r[3]=s*a*l-i*n*h):e==="ZYX"?(r[0]=i*a*l-s*n*h,r[1]=s*n*l+i*a*h,r[2]=s*a*h-i*n*l,r[3]=s*a*l+i*n*h):e==="YZX"?(r[0]=i*a*l+s*n*h,r[1]=s*n*l+i*a*h,r[2]=s*a*h-i*n*l,r[3]=s*a*l-i*n*h):e==="XZY"&&(r[0]=i*a*l-s*n*h,r[1]=s*n*l-i*a*h,r[2]=s*a*h+i*n*l,r[3]=s*a*l+i*n*h),r}const As=ls,vs=os,Es=fs,Ms=us;class Ss extends Array{constructor(t=0,e=0,i=0,s=1){return super(t,e,i,s),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){return ds(this),this.onChange(),this}set(t,e,i,s){return t.length?this.copy(t):(vs(this,t,e,i,s),this.onChange(),this)}rotateX(t){return ps(this,this,t),this.onChange(),this}rotateY(t){return gs(this,this,t),this.onChange(),this}rotateZ(t){return _s(this,this,t),this.onChange(),this}inverse(t=this){return ys(this,t),this.onChange(),this}conjugate(t=this){return xs(this,t),this.onChange(),this}copy(t){return As(this,t),this.onChange(),this}normalize(t=this){return Ms(this,t),this.onChange(),this}multiply(t,e){return e?ni(this,t,e):ni(this,this,t),this.onChange(),this}dot(t){return Es(this,t)}fromMatrix3(t){return bs(this,t),this.onChange(),this}fromEuler(t){return ws(this,t,t.order),this}fromAxisAngle(t,e){return cs(this,t,e),this.onChange(),this}slerp(t,e){return ms(this,this,t,e),this.onChange(),this}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}const Ts=1e-6;function Cs(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function Ps(r,t,e,i,s,n,a,h,l,o,u,f,p,d,c,_,m){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r[4]=n,r[5]=a,r[6]=h,r[7]=l,r[8]=o,r[9]=u,r[10]=f,r[11]=p,r[12]=d,r[13]=c,r[14]=_,r[15]=m,r}function Os(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Fs(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],h=t[5],l=t[6],o=t[7],u=t[8],f=t[9],p=t[10],d=t[11],c=t[12],_=t[13],m=t[14],g=t[15],y=e*h-i*a,x=e*l-s*a,b=e*o-n*a,A=i*l-s*h,w=i*o-n*h,E=s*o-n*l,M=u*_-f*c,v=u*m-p*c,T=u*g-d*c,C=f*m-p*_,P=f*g-d*_,F=p*g-d*m,S=y*F-x*P+b*C+A*T-w*v+E*M;return S?(S=1/S,r[0]=(h*F-l*P+o*C)*S,r[1]=(s*P-i*F-n*C)*S,r[2]=(_*E-m*w+g*A)*S,r[3]=(p*w-f*E-d*A)*S,r[4]=(l*T-a*F-o*v)*S,r[5]=(e*F-s*T+n*v)*S,r[6]=(m*b-c*E-g*x)*S,r[7]=(u*E-p*b+d*x)*S,r[8]=(a*P-h*T+o*M)*S,r[9]=(i*T-e*P-n*M)*S,r[10]=(c*w-_*b+g*y)*S,r[11]=(f*b-u*w-d*y)*S,r[12]=(h*v-a*C-l*M)*S,r[13]=(e*C-i*v+s*M)*S,r[14]=(_*x-c*A-m*y)*S,r[15]=(u*A-f*x+p*y)*S,r):null}function ks(r){let t=r[0],e=r[1],i=r[2],s=r[3],n=r[4],a=r[5],h=r[6],l=r[7],o=r[8],u=r[9],f=r[10],p=r[11],d=r[12],c=r[13],_=r[14],m=r[15],g=t*a-e*n,y=t*h-i*n,x=t*l-s*n,b=e*h-i*a,A=e*l-s*a,w=i*l-s*h,E=o*c-u*d,M=o*_-f*d,v=o*m-p*d,T=u*_-f*c,C=u*m-p*c,P=f*m-p*_;return g*P-y*C+x*T+b*v-A*M+w*E}function ai(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],f=t[8],p=t[9],d=t[10],c=t[11],_=t[12],m=t[13],g=t[14],y=t[15],x=e[0],b=e[1],A=e[2],w=e[3];return r[0]=x*i+b*h+A*f+w*_,r[1]=x*s+b*l+A*p+w*m,r[2]=x*n+b*o+A*d+w*g,r[3]=x*a+b*u+A*c+w*y,x=e[4],b=e[5],A=e[6],w=e[7],r[4]=x*i+b*h+A*f+w*_,r[5]=x*s+b*l+A*p+w*m,r[6]=x*n+b*o+A*d+w*g,r[7]=x*a+b*u+A*c+w*y,x=e[8],b=e[9],A=e[10],w=e[11],r[8]=x*i+b*h+A*f+w*_,r[9]=x*s+b*l+A*p+w*m,r[10]=x*n+b*o+A*d+w*g,r[11]=x*a+b*u+A*c+w*y,x=e[12],b=e[13],A=e[14],w=e[15],r[12]=x*i+b*h+A*f+w*_,r[13]=x*s+b*l+A*p+w*m,r[14]=x*n+b*o+A*d+w*g,r[15]=x*a+b*u+A*c+w*y,r}function Ds(r,t,e){let i=e[0],s=e[1],n=e[2],a,h,l,o,u,f,p,d,c,_,m,g;return t===r?(r[12]=t[0]*i+t[4]*s+t[8]*n+t[12],r[13]=t[1]*i+t[5]*s+t[9]*n+t[13],r[14]=t[2]*i+t[6]*s+t[10]*n+t[14],r[15]=t[3]*i+t[7]*s+t[11]*n+t[15]):(a=t[0],h=t[1],l=t[2],o=t[3],u=t[4],f=t[5],p=t[6],d=t[7],c=t[8],_=t[9],m=t[10],g=t[11],r[0]=a,r[1]=h,r[2]=l,r[3]=o,r[4]=u,r[5]=f,r[6]=p,r[7]=d,r[8]=c,r[9]=_,r[10]=m,r[11]=g,r[12]=a*i+u*s+c*n+t[12],r[13]=h*i+f*s+_*n+t[13],r[14]=l*i+p*s+m*n+t[14],r[15]=o*i+d*s+g*n+t[15]),r}function Ls(r,t,e){let i=e[0],s=e[1],n=e[2];return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r[4]=t[4]*s,r[5]=t[5]*s,r[6]=t[6]*s,r[7]=t[7]*s,r[8]=t[8]*n,r[9]=t[9]*n,r[10]=t[10]*n,r[11]=t[11]*n,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function $s(r,t,e,i){let s=i[0],n=i[1],a=i[2],h=Math.hypot(s,n,a),l,o,u,f,p,d,c,_,m,g,y,x,b,A,w,E,M,v,T,C,P,F,S,L;return Math.abs(h)<Ts?null:(h=1/h,s*=h,n*=h,a*=h,l=Math.sin(e),o=Math.cos(e),u=1-o,f=t[0],p=t[1],d=t[2],c=t[3],_=t[4],m=t[5],g=t[6],y=t[7],x=t[8],b=t[9],A=t[10],w=t[11],E=s*s*u+o,M=n*s*u+a*l,v=a*s*u-n*l,T=s*n*u-a*l,C=n*n*u+o,P=a*n*u+s*l,F=s*a*u+n*l,S=n*a*u-s*l,L=a*a*u+o,r[0]=f*E+_*M+x*v,r[1]=p*E+m*M+b*v,r[2]=d*E+g*M+A*v,r[3]=c*E+y*M+w*v,r[4]=f*T+_*C+x*P,r[5]=p*T+m*C+b*P,r[6]=d*T+g*C+A*P,r[7]=c*T+y*C+w*P,r[8]=f*F+_*S+x*L,r[9]=p*F+m*S+b*L,r[10]=d*F+g*S+A*L,r[11]=c*F+y*S+w*L,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}function Rs(r,t){return r[0]=t[12],r[1]=t[13],r[2]=t[14],r}function ki(r,t){let e=t[0],i=t[1],s=t[2],n=t[4],a=t[5],h=t[6],l=t[8],o=t[9],u=t[10];return r[0]=Math.hypot(e,i,s),r[1]=Math.hypot(n,a,h),r[2]=Math.hypot(l,o,u),r}function zs(r){let t=r[0],e=r[1],i=r[2],s=r[4],n=r[5],a=r[6],h=r[8],l=r[9],o=r[10];const u=t*t+e*e+i*i,f=s*s+n*n+a*a,p=h*h+l*l+o*o;return Math.sqrt(Math.max(u,f,p))}const Is=function(){const r=[0,0,0];return function(t,e){let i=r;ki(i,e);let s=1/i[0],n=1/i[1],a=1/i[2],h=e[0]*s,l=e[1]*n,o=e[2]*a,u=e[4]*s,f=e[5]*n,p=e[6]*a,d=e[8]*s,c=e[9]*n,_=e[10]*a,m=h+f+_,g=0;return m>0?(g=Math.sqrt(m+1)*2,t[3]=.25*g,t[0]=(p-c)/g,t[1]=(d-o)/g,t[2]=(l-u)/g):h>f&&h>_?(g=Math.sqrt(1+h-f-_)*2,t[3]=(p-c)/g,t[0]=.25*g,t[1]=(l+u)/g,t[2]=(d+o)/g):f>_?(g=Math.sqrt(1+f-h-_)*2,t[3]=(d-o)/g,t[0]=(l+u)/g,t[1]=.25*g,t[2]=(p+c)/g):(g=Math.sqrt(1+_-h-f)*2,t[3]=(l-u)/g,t[0]=(d+o)/g,t[1]=(p+c)/g,t[2]=.25*g),t}}();function Bs(r,t,e,i){let s=t[0],n=t[1],a=t[2],h=t[3],l=s+s,o=n+n,u=a+a,f=s*l,p=s*o,d=s*u,c=n*o,_=n*u,m=a*u,g=h*l,y=h*o,x=h*u,b=i[0],A=i[1],w=i[2];return r[0]=(1-(c+m))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*A,r[5]=(1-(f+m))*A,r[6]=(_+g)*A,r[7]=0,r[8]=(d+y)*w,r[9]=(_-g)*w,r[10]=(1-(f+c))*w,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function Vs(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e+e,h=i+i,l=s+s,o=e*a,u=i*a,f=i*h,p=s*a,d=s*h,c=s*l,_=n*a,m=n*h,g=n*l;return r[0]=1-f-c,r[1]=u+g,r[2]=p-m,r[3]=0,r[4]=u-g,r[5]=1-o-c,r[6]=d+_,r[7]=0,r[8]=p+m,r[9]=d-_,r[10]=1-o-f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Ns(r,t,e,i,s){let n=1/Math.tan(t/2),a=1/(i-s);return r[0]=n/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(s+i)*a,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*s*i*a,r[15]=0,r}function Us(r,t,e,i,s,n,a){let h=1/(t-e),l=1/(i-s),o=1/(n-a);return r[0]=-2*h,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*o,r[11]=0,r[12]=(t+e)*h,r[13]=(s+i)*l,r[14]=(a+n)*o,r[15]=1,r}function Ys(r,t,e,i){let s=t[0],n=t[1],a=t[2],h=i[0],l=i[1],o=i[2],u=s-e[0],f=n-e[1],p=a-e[2],d=u*u+f*f+p*p;d===0?p=1:(d=1/Math.sqrt(d),u*=d,f*=d,p*=d);let c=l*p-o*f,_=o*u-h*p,m=h*f-l*u;return d=c*c+_*_+m*m,d===0&&(o?h+=1e-6:l?o+=1e-6:l+=1e-6,c=l*p-o*f,_=o*u-h*p,m=h*f-l*u,d=c*c+_*_+m*m),d=1/Math.sqrt(d),c*=d,_*=d,m*=d,r[0]=c,r[1]=_,r[2]=m,r[3]=0,r[4]=f*m-p*_,r[5]=p*c-u*m,r[6]=u*_-f*c,r[7]=0,r[8]=u,r[9]=f,r[10]=p,r[11]=0,r[12]=s,r[13]=n,r[14]=a,r[15]=1,r}class ne extends Array{constructor(t=1,e=0,i=0,s=0,n=0,a=1,h=0,l=0,o=0,u=0,f=1,p=0,d=0,c=0,_=0,m=1){return super(t,e,i,s,n,a,h,l,o,u,f,p,d,c,_,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,s,n,a,h,l,o,u,f,p,d,c,_,m){return t.length?this.copy(t):(Ps(this,t,e,i,s,n,a,h,l,o,u,f,p,d,c,_,m),this)}translate(t,e=this){return Ds(this,e,t),this}rotate(t,e,i=this){return $s(this,i,t,e),this}scale(t,e=this){return Ls(this,e,typeof t=="number"?[t,t,t]:t),this}multiply(t,e){return e?ai(this,t,e):ai(this,this,t),this}identity(){return Os(this),this}copy(t){return Cs(this,t),this}fromPerspective({fov:t,aspect:e,near:i,far:s}={}){return Ns(this,t,e,i,s),this}fromOrthogonal({left:t,right:e,bottom:i,top:s,near:n,far:a}){return Us(this,t,e,i,s,n,a),this}fromQuaternion(t){return Vs(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return Fs(this,t),this}compose(t,e,i){return Bs(this,t,e,i),this}getRotation(t){return Is(t,this),this}getTranslation(t){return Rs(t,this),this}getScaling(t){return ki(t,this),this}getMaxScaleOnAxis(){return zs(this)}lookAt(t,e,i){return Ys(this,t,e,i),this}determinant(){return ks(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}function Xs(r,t,e="YXZ"){return e==="XYZ"?(r[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(r[0]=Math.atan2(-t[9],t[10]),r[2]=Math.atan2(-t[4],t[0])):(r[0]=Math.atan2(t[6],t[5]),r[2]=0)):e==="YXZ"?(r[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(r[1]=Math.atan2(t[8],t[10]),r[2]=Math.atan2(t[1],t[5])):(r[1]=Math.atan2(-t[2],t[0]),r[2]=0)):e==="ZXY"?(r[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(r[1]=Math.atan2(-t[2],t[10]),r[2]=Math.atan2(-t[4],t[5])):(r[1]=0,r[2]=Math.atan2(t[1],t[0]))):e==="ZYX"?(r[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(r[0]=Math.atan2(t[6],t[10]),r[2]=Math.atan2(t[1],t[0])):(r[0]=0,r[2]=Math.atan2(-t[4],t[5]))):e==="YZX"?(r[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(r[0]=Math.atan2(-t[9],t[5]),r[1]=Math.atan2(-t[2],t[0])):(r[0]=0,r[1]=Math.atan2(t[8],t[10]))):e==="XZY"&&(r[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(r[0]=Math.atan2(t[6],t[5]),r[1]=Math.atan2(t[8],t[0])):(r[0]=Math.atan2(-t[9],t[10]),r[1]=0)),r}const hi=new ne;class Gs extends Array{constructor(t=0,e=t,i=t,s="YXZ"){return super(t,e,i),this.order=s,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t,e=t,i=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return Xs(this,t,e),this.onChange(),this}fromQuaternion(t,e=this.order){return hi.fromQuaternion(t),this.fromRotationMatrix(hi,e)}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class qs{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new ne,this.worldMatrix=new ne,this.matrixAutoUpdate=!0,this.position=new Q,this.quaternion=new Ss,this.scale=new Q(1),this.rotation=new Gs,this.up=new Q(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}function Ws(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[4],r[4]=t[5],r[5]=t[6],r[6]=t[8],r[7]=t[9],r[8]=t[10],r}function Hs(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e+e,h=i+i,l=s+s,o=e*a,u=i*a,f=i*h,p=s*a,d=s*h,c=s*l,_=n*a,m=n*h,g=n*l;return r[0]=1-f-c,r[3]=u-g,r[6]=p+m,r[1]=u+g,r[4]=1-o-c,r[7]=d-_,r[2]=p-m,r[5]=d+_,r[8]=1-o-f,r}function js(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function Zs(r,t,e,i,s,n,a,h,l,o){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r[4]=n,r[5]=a,r[6]=h,r[7]=l,r[8]=o,r}function Ks(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Qs(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],h=t[5],l=t[6],o=t[7],u=t[8],f=u*a-h*o,p=-u*n+h*l,d=o*n-a*l,c=e*f+i*p+s*d;return c?(c=1/c,r[0]=f*c,r[1]=(-u*i+s*o)*c,r[2]=(h*i-s*a)*c,r[3]=p*c,r[4]=(u*e-s*l)*c,r[5]=(-h*e+s*n)*c,r[6]=d*c,r[7]=(-o*e+i*l)*c,r[8]=(a*e-i*n)*c,r):null}function li(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],f=t[8],p=e[0],d=e[1],c=e[2],_=e[3],m=e[4],g=e[5],y=e[6],x=e[7],b=e[8];return r[0]=p*i+d*a+c*o,r[1]=p*s+d*h+c*u,r[2]=p*n+d*l+c*f,r[3]=_*i+m*a+g*o,r[4]=_*s+m*h+g*u,r[5]=_*n+m*l+g*f,r[6]=y*i+x*a+b*o,r[7]=y*s+x*h+b*u,r[8]=y*n+x*l+b*f,r}function Js(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],f=t[8],p=e[0],d=e[1];return r[0]=i,r[1]=s,r[2]=n,r[3]=a,r[4]=h,r[5]=l,r[6]=p*i+d*a+o,r[7]=p*s+d*h+u,r[8]=p*n+d*l+f,r}function tn(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],f=t[8],p=Math.sin(e),d=Math.cos(e);return r[0]=d*i+p*a,r[1]=d*s+p*h,r[2]=d*n+p*l,r[3]=d*a-p*i,r[4]=d*h-p*s,r[5]=d*l-p*n,r[6]=o,r[7]=u,r[8]=f,r}function en(r,t,e){let i=e[0],s=e[1];return r[0]=i*t[0],r[1]=i*t[1],r[2]=i*t[2],r[3]=s*t[3],r[4]=s*t[4],r[5]=s*t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function rn(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],h=t[5],l=t[6],o=t[7],u=t[8],f=t[9],p=t[10],d=t[11],c=t[12],_=t[13],m=t[14],g=t[15],y=e*h-i*a,x=e*l-s*a,b=e*o-n*a,A=i*l-s*h,w=i*o-n*h,E=s*o-n*l,M=u*_-f*c,v=u*m-p*c,T=u*g-d*c,C=f*m-p*_,P=f*g-d*_,F=p*g-d*m,S=y*F-x*P+b*C+A*T-w*v+E*M;return S?(S=1/S,r[0]=(h*F-l*P+o*C)*S,r[1]=(l*T-a*F-o*v)*S,r[2]=(a*P-h*T+o*M)*S,r[3]=(s*P-i*F-n*C)*S,r[4]=(e*F-s*T+n*v)*S,r[5]=(i*T-e*P-n*M)*S,r[6]=(_*E-m*w+g*A)*S,r[7]=(m*b-c*E-g*x)*S,r[8]=(c*w-_*b+g*y)*S,r):null}class sn extends Array{constructor(t=1,e=0,i=0,s=0,n=1,a=0,h=0,l=0,o=1){return super(t,e,i,s,n,a,h,l,o),this}set(t,e,i,s,n,a,h,l,o){return t.length?this.copy(t):(Zs(this,t,e,i,s,n,a,h,l,o),this)}translate(t,e=this){return Js(this,e,t),this}rotate(t,e=this){return tn(this,e,t),this}scale(t,e=this){return en(this,e,t),this}multiply(t,e){return e?li(this,t,e):li(this,this,t),this}identity(){return Ks(this),this}copy(t){return js(this,t),this}fromMatrix4(t){return Ws(this,t),this}fromQuaternion(t){return Hs(this,t),this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(t=this){return Qs(this,t),this}getNormalMatrix(t){return rn(this,t),this}}let nn=0;class Da extends qs{constructor(t,{geometry:e,program:i,mode:s=t.TRIANGLES,frustumCulled:n=!0,renderOrder:a=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=nn++,this.geometry=e,this.program=i,this.mode=s,this.frustumCulled=n,this.renderOrder=a,this.modelViewMatrix=new ne,this.normalMatrix=new sn,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t})),t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}))}}const oi=new Uint8Array(4);function ui(r){return(r&r-1)===0}let an=1;class La{constructor(t,{image:e,target:i=t.TEXTURE_2D,type:s=t.UNSIGNED_BYTE,format:n=t.RGBA,internalFormat:a=n,wrapS:h=t.CLAMP_TO_EDGE,wrapT:l=t.CLAMP_TO_EDGE,generateMipmaps:o=!0,minFilter:u=o?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:f=t.LINEAR,premultiplyAlpha:p=!1,unpackAlignment:d=4,flipY:c=i==t.TEXTURE_2D,anisotropy:_=0,level:m=0,width:g,height:y=g}={}){this.gl=t,this.id=an++,this.image=e,this.target=i,this.type=s,this.format=n,this.internalFormat=a,this.minFilter=u,this.magFilter=f,this.wrapS=h,this.wrapT=l,this.generateMipmaps=o,this.premultiplyAlpha=p,this.unpackAlignment=d,this.flipY=c,this.anisotropy=Math.min(_,this.gl.renderer.parameters.maxAnisotropy),this.level=m,this.width=g,this.height=y,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),!!e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.level,this.internalFormat,this.format,this.type,this.image[i]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let i=0;i<this.image.length;i++)this.gl.compressedTexImage2D(this.target,i,this.internalFormat,this.image[i].width,this.image[i].height,0,this.image[i].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!ui(this.image.width)||!ui(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,oi);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,oi);this.store.image=this.image}}}function hn(r,t){return r[0]=t[0],r[1]=t[1],r}function ln(r,t,e){return r[0]=t,r[1]=e,r}function fi(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function di(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function on(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}function un(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}function ye(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function fn(r,t){var e=t[0]-r[0],i=t[1]-r[1];return Math.sqrt(e*e+i*i)}function dn(r,t){var e=t[0]-r[0],i=t[1]-r[1];return e*e+i*i}function ci(r){var t=r[0],e=r[1];return Math.sqrt(t*t+e*e)}function cn(r){var t=r[0],e=r[1];return t*t+e*e}function pn(r,t){return r[0]=-t[0],r[1]=-t[1],r}function gn(r,t){return r[0]=1/t[0],r[1]=1/t[1],r}function _n(r,t){var e=t[0],i=t[1],s=e*e+i*i;return s>0&&(s=1/Math.sqrt(s)),r[0]=t[0]*s,r[1]=t[1]*s,r}function mn(r,t){return r[0]*t[0]+r[1]*t[1]}function pi(r,t){return r[0]*t[1]-r[1]*t[0]}function yn(r,t,e,i){var s=t[0],n=t[1];return r[0]=s+i*(e[0]-s),r[1]=n+i*(e[1]-n),r}function xn(r,t,e){var i=t[0],s=t[1];return r[0]=e[0]*i+e[3]*s+e[6],r[1]=e[1]*i+e[4]*s+e[7],r}function bn(r,t,e){let i=t[0],s=t[1];return r[0]=e[0]*i+e[4]*s+e[12],r[1]=e[1]*i+e[5]*s+e[13],r}function wn(r,t){return r[0]===t[0]&&r[1]===t[1]}class Di extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(ln(this,t,e),this)}copy(t){return hn(this,t),this}add(t,e){return e?fi(this,t,e):fi(this,this,t),this}sub(t,e){return e?di(this,t,e):di(this,this,t),this}multiply(t){return t.length?on(this,this,t):ye(this,this,t),this}divide(t){return t.length?un(this,this,t):ye(this,this,1/t),this}inverse(t=this){return gn(this,t),this}len(){return ci(this)}distance(t){return t?fn(this,t):ci(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?dn(this,t):cn(this)}negate(t=this){return pn(this,t),this}cross(t,e){return e?pi(t,e):pi(this,t)}scale(t){return ye(this,this,t),this}normalize(){return _n(this,this),this}dot(t){return mn(this,t)}equals(t){return wn(this,t)}applyMatrix3(t){return xn(this,this,t),this}applyMatrix4(t){return bn(this,this,t),this}lerp(t,e){return yn(this,this,t,e),this}clone(){return new Di(this[0],this[1])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t}}class $a extends is{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}function Ut(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Li(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}/*!
 * GSAP 3.0.1
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var j={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},zt={duration:.5,overwrite:!1,delay:0},X=1e8,z=1/X,Oe=Math.PI*2,An=Oe/4,vn=0,$i=Math.sqrt,En=Math.cos,Mn=Math.sin,N=function(t){return typeof t=="string"},B=function(t){return typeof t=="function"},ot=function(t){return typeof t=="number"},Be=function(t){return typeof t>"u"},dt=function(t){return typeof t=="object"},V=function(t){return t!==!1},Ri=function(){return typeof window<"u"},gi=function(t){return B(t)||N(t)},H=Array.isArray,Fe=/(?:-?\.?\d|\.)+/gi,zi=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,xe=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,Sn=/\(([^()]+)\)/i,Ii=/[\+-]=-?[\.\d]+/,Tn=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,R,st,ke,Bi,et={},ae={},Vi,Ni=function(t){return(ae=St(t,et))&&W},Ui=function(t,e){return console.warn("Invalid",t,"tween of",e,"Missing plugin? gsap.registerPlugin()")},Yi=function(t,e){return!e&&console.warn(t)},Xi=function(t,e){return t&&(et[t]=e)&&ae&&(ae[t]=e)||et},Bt=function(){return 0},Zt={},Et=[],De={},Y={},be={},_i=30,ie=[],Gi="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",Ve=function(t){var e=t[0],i,s;if(!dt(e)&&!B(e))return H(t)?t:[t];if(!(i=(e._gsap||{}).harness)){for(s=ie.length;s--&&!ie[s].targetTest(e););i=ie[s]}for(s=t.length;s--;)t[s]._gsap||(t[s]._gsap=new lr(t[s],i));return t},Lt=function(t){return t._gsap||Ve(J(t))[0]._gsap},qi=function(t,e){var i=t[e];return B(i)?t[e]():Be(i)&&t.getAttribute(e)||i},tt=function(t,e){return(t=t.split(",")).forEach(e)||t},k=function(t){return Math.round(t*1e4)/1e4},Cn=function(t,e){for(var i=e.length,s=0;t.indexOf(e[s])<0&&++s<i;);return s<i},qt=function(t,e,i){var s=ot(t[1]),n=(s?2:1)+(e<2?0:1),a=t[n],h;return s&&(a.duration=t[1]),e===1?(a.runBackwards=1,a.immediateRender=V(a.immediateRender)):e===2&&(h=t[n-1],a.startAt=h,a.immediateRender=V(a.immediateRender)),a.parent=i,a},he=function(){var t=Et.length,e=Et.slice(0),i,s;for(De={},Et.length=0,i=0;i<t;i++)s=e[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Wi=function(t,e,i,s){Et.length&&he(),t.render(e,i,s),Et.length&&he()},Hi=function(t){var e=parseFloat(t);return e||e===0?e:t},Pn=function(t){return t},it=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},On=function(t,e){for(var i in e)!(i in t)&&i!=="duration"&&i!=="ease"&&(t[i]=e[i])},St=function(t,e){for(var i in e)t[i]=e[i];return t},mi=function r(t,e){for(var i in e)t[i]=dt(e[i])?r(t[i]||(t[i]={}),e[i]):e[i];return t},le=function(t,e){var i={},s;for(s in t)s in e||(i[s]=t[s]);return i},Fn=function(t){var e=t.parent||R,i=t.keyframes?On:it;if(V(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent;return t},kn=function(t,e){for(var i=t.length,s=i===e.length;s&&i--&&t[i]===e[i];);return i<0},Dn=function(t,e,i,s,n){i===void 0&&(i="_first"),s===void 0&&(s="_last");var a=t[s],h;if(n)for(h=e[n];a&&a[n]>h;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[s]=e,e._prev=a,e.parent=t,e},Ne=function(t,e,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var n=e._prev,a=e._next;n?n._next=a:t[i]===e&&(t[i]=a),a?a._prev=n:t[s]===e&&(t[s]=n),e._dp=t,e._next=e._prev=e.parent=null},gt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},ut=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},Ln=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},$n=function r(t){return!t||t._ts&&r(t.parent)},yi=function(t){var e;return t._repeat?(e=t.duration()+t._rDelay)*~~(t._tTime/e):0},ji=function(t,e){return e._ts>0?(t-e._start)*e._ts:(e._dirty?e.totalDuration():e._tDur)+(t-e._start)*e._ts},ft=function(t,e,i){if(e.parent&&gt(e),e._start=i+e._delay,e._end=e._start+(e.totalDuration()/e._ts||0),Dn(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,e._time||!e._dur&&e._initted){var s=(t.rawTime()-e._start)*e._ts;(!e._dur||fe(0,e.totalDuration(),s)-e._tTime>z)&&e.render(s,!0)}if(ut(t),t._dp&&t._time>=t._dur&&t._ts&&t._dur<t.duration())for(var n=t;n._dp;)n.totalTime(n._tTime,!0),n=n._dp;return t},Zi=function(t,e,i,s){if(ea(t,e),!t._initted)return 1;if(!i&&t._pt&&t.vars.lazy)return Et.push(t),t._lazy=[e,s],1},Rn=function(t,e,i,s){var n=t._zTime<0?0:1,a=e<0?0:1,h=t._rDelay,l=0,o,u,f;if(h&&t._repeat&&(l=fe(0,t._tDur,e),u=~~(l/h),u&&u===l/h&&u--,f=~~(t._tTime/h),f&&f===t._tTime/h&&f--,u!==f&&(n=1-a,t.vars.repeatRefresh&&t.invalidate())),!(!t._initted&&Zi(t,e,s,i))&&(a!==n||s)){for((!i||e)&&(t._zTime=e),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=l,i||q(t,"onStart"),o=t._pt;o;)o.r(a,o.d),o=o._next;!a&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,s),t._onUpdate&&!i&&q(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&q(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(t.ratio&&gt(t,1),i||(q(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t.ratio&&t._prom()))}},zn=function(t,e,i){var s;if(i>e)for(s=t._first;s&&s._start<=i;){if(!s._dur&&s.data==="isPause"&&s._start>e)return s;s=s._next}else for(s=t._last;s&&s._start>=i;){if(!s._dur&&s.data==="isPause"&&s._start<e)return s;s=s._prev}},we=function(t){if(t instanceof G)return ut(t);var e=t._repeat;return t._tDur=e?e<0?1e20:k(t._dur*(e+1)+t._rDelay*e):t._dur,ut(t.parent),t},In={_start:0,endTime:Bt},I=function r(t,e,i){var s=t.labels,n=t._recent||In,a=t.duration()>=X?n.endTime(!1):t._dur,h,l;return N(e)&&(isNaN(e)||e in s)?(h=e.charAt(0),h==="<"||h===">"?(h==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(e.substr(1))||0):(h=e.indexOf("="),h<0?(e in s||(s[e]=a),s[e]):(l=+(e.charAt(h-1)+e.substr(h+1)),h>1?r(t,e.substr(0,h-1))+l:a+l))):e==null?a:+e},mt=function(t,e){return t||t===0?e(t):e},fe=function(t,e,i){return i<t?t:i>e?e:i},ct=function(t){return(t+"").substr((parseFloat(t)+"").length)},Bn=function(t,e,i){return mt(i,function(s){return fe(t,e,s)})},xi=[].slice,Ki=function(t){return dt(t)&&"length"in t&&t.length-1 in t&&dt(t[0])&&t!==st},Vn=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(s){var n;return N(s)&&!e||Ki(s)?(n=i).push.apply(n,J(s)):i.push(s)})||i},J=function(t,e){return N(t)&&!e&&(ke||!Jt())?xi.call(Bi.querySelectorAll(t),0):H(t)?Vn(t,e):Ki(t)?xi.call(t,0):t?[t]:[]},Qi=function(t){if(B(t))return t;var e=dt(t)?t:{each:t},i=$t(e.ease),s=e.from||0,n=parseFloat(e.base)||0,a={},h=s>0&&s<1,l=isNaN(s)||h,o=e.axis,u=s,f=s;return N(s)?u=f={center:.5,edges:.5,end:1}[s]||0:!h&&l&&(u=s[0],f=s[1]),function(p,d,c){var _=(c||e).length,m=a[_],g,y,x,b,A,w,E,M,v;if(!m){if(v=e.grid==="auto"?0:(e.grid||[1,X])[1],!v){for(E=-X;E<(E=c[v++].getBoundingClientRect().left)&&v<_;);v--}for(m=a[_]=[],g=l?Math.min(v,_)*u-.5:s%v,y=l?_*f/v-.5:s/v|0,E=0,M=X,w=0;w<_;w++)x=w%v-g,b=y-(w/v|0),m[w]=A=o?Math.abs(o==="y"?b:x):$i(x*x+b*b),A>E&&(E=A),A<M&&(M=A);m.max=E-M,m.min=M,m.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(v>_?_-1:o?o==="y"?_/v:v:Math.max(v,_/v))||0)*(s==="edges"?-1:1),m.b=_<0?n-_:n,m.u=ct(e.amount||e.each)||0,i=i&&_<0?ar(i):i}return _=(m[p]-m.min)/m.max||0,k(m.b+(i?i(_):_)*m.v)+m.u}},Ji=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(i){return~~(Math.round(parseFloat(i)/t)*t*e)/e+(ot(i)?0:ct(i))}},tr=function(t,e){var i=H(t),s,n;return!i&&dt(t)&&(s=i=t.radius||X,t=J(t.values),(n=!ot(t[0]))&&(s*=s)),mt(e,i?function(a){for(var h=parseFloat(n?a.x:a),l=parseFloat(n?a.y:0),o=X,u=0,f=t.length,p,d;f--;)n?(p=t[f].x-h,d=t[f].y-l,p=p*p+d*d):p=Math.abs(t[f]-h),p<o&&(o=p,u=f);return u=!s||o<=s?t[u]:a,n||u===a||ot(a)?u:u+ct(a)}:Ji(t))},er=function(t,e,i,s){return mt(H(t)?!e:!s,function(){return H(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/i)*i*s)/s})},Nn=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(s){return e.reduce(function(n,a){return a(n)},s)}},Un=function(t,e){return function(i){return t(parseFloat(i))+(e||ct(i))}},Yn=function(t,e,i){return rr(t,e,0,1,i)},ir=function(t,e,i){return mt(i,function(s){return t[~~e(s)]})},Xn=function r(t,e,i){var s=e-t;return H(t)?ir(t,r(0,t.length),e):mt(i,function(n){return(s+(n-t)%s)%s+t})},Gn=function r(t,e,i){var s=e-t,n=s*2;return H(t)?ir(t,r(0,t.length-1),e):mt(i,function(a){return a=(n+(a-t)%n)%n,t+(a>s?n-a:a)})},de=function(t){for(var e=0,i="",s,n,a,h;~(s=t.indexOf("random(",e));)a=t.indexOf(")",s),h=t.charAt(s+7)==="[",n=t.substr(s+7,a-s-7).match(h?Tn:Fe),i+=t.substr(e,s-e)+er(h?n:+n[0],+n[1],+n[2]||1e-5),e=a+1;return i+t.substr(e,t.length-e)},rr=function(t,e,i,s,n){var a=e-t,h=s-i;return mt(n,function(l){return i+(l-t)/a*h})},qn=function r(t,e,i,s){var n=isNaN(t+e)?0:function(d){return(1-d)*t+d*e};if(!n){var a=N(t),h={},l,o,u,f,p;if(i===!0&&(s=1)&&(i=null),a)t={p:t},e={p:e};else if(H(t)&&!H(e)){for(u=[],f=t.length,p=f-2,o=1;o<f;o++)u.push(r(t[o-1],t[o]));f--,n=function(c){c*=f;var _=Math.min(p,~~c);return u[_](c-_)},i=e}else s||(t=St(H(t)?[]:{},t));if(!u){for(l in e)Ue.call(h,t,l,"get",e[l]);n=function(c){return Ge(c,h)||(a?t.p:t)}}}return mt(i,n)},bi=function(t,e,i){var s=t.labels,n=X,a,h,l;for(a in s)h=s[a]-e,h<0==!!i&&h&&n>(h=Math.abs(h))&&(l=a,n=h);return l},q=function(t,e,i){var s=t.vars,n=s[e],a,h;if(n)return a=s[e+"Params"],h=s.callbackScope||t,i&&Et.length&&he(),a?n.apply(h,a):n.call(h,t)},re=function(t){return gt(t),t.progress()<1&&q(t,"onInterrupt"),t},kt,Wn=function(t){t=!t.name&&t.default||t;var e=t.name,i=B(t),s=e&&!i&&t.init?function(){this._props=[]}:t,n={init:Bt,render:Ge,add:Ue,kill:la,modifier:ha,rawVars:0},a={targetTest:0,get:0,getSetter:Xe,aliases:{},register:0};if(Jt(),t!==s){if(Y[e])return;it(s,it(le(t,n),a)),St(s.prototype,St(n,le(t,a))),Y[s.prop=e]=s,t.targetTest&&(ie.push(s),Zt[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}Xi(e,s),t.register&&t.register(W,s,U)},D=255,Xt={aqua:[0,D,D],lime:[0,D,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,D],navy:[0,0,128],white:[D,D,D],olive:[128,128,0],yellow:[D,D,0],orange:[D,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[D,0,0],pink:[D,192,203],cyan:[0,D,D],transparent:[D,D,D,0]},Ae=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*D+.5|0},sr=function(t,e){var i=t?ot(t)?[t>>16,t>>8&D,t&D]:0:Xt.black,s,n,a,h,l,o,u,f,p,d;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Xt[t])i=Xt[t];else if(t.charAt(0)==="#")t.length===4&&(s=t.charAt(1),n=t.charAt(2),a=t.charAt(3),t="#"+s+s+n+n+a+a),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&D,t&D];else if(t.substr(0,3)==="hsl"){if(i=d=t.match(Fe),!e)h=+i[0]%360/360,l=+i[1]/100,o=+i[2]/100,n=o<=.5?o*(l+1):o+l-o*l,s=o*2-n,i.length>3&&(i[3]*=1),i[0]=Ae(h+1/3,s,n),i[1]=Ae(h,s,n),i[2]=Ae(h-1/3,s,n);else if(~t.indexOf("="))return t.match(zi)}else i=t.match(Fe)||Xt.transparent;i=i.map(Number)}return e&&!d&&(s=i[0]/D,n=i[1]/D,a=i[2]/D,u=Math.max(s,n,a),f=Math.min(s,n,a),o=(u+f)/2,u===f?h=l=0:(p=u-f,l=o>.5?p/(2-u-f):p/(u+f),h=u===s?(n-a)/p+(n<a?6:0):u===n?(a-s)/p+2:(s-n)/p+4,h*=60),i[0]=h+.5|0,i[1]=l*100+.5|0,i[2]=o*100+.5|0),i},wi=function(t,e){var i=(t+"").match(Le),s=0,n="",a,h,l;if(!i)return t;for(a=0;a<i.length;a++)h=i[a],l=t.substr(s,t.indexOf(h,s)-s),s+=l.length+h.length,h=sr(h,e),h.length===3&&h.push(1),n+=l+(e?"hsla("+h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:"rgba("+h.join(","))+")";return n+t.substr(s)},Le=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b",t;for(t in Xt)r+="|"+t+"\\b";return new RegExp(r+")","gi")}(),Hn=/hsl[a]?\(/,nr=function(t){var e=t.join(" "),i;Le.lastIndex=0,Le.test(e)&&(i=Hn.test(e),t[0]=wi(t[0],i),t[1]=wi(t[1],i))},oe,nt=function(){var r=Date.now,t=500,e=33,i=r(),s=i,n=1/60,a=n,h=[],l,o,u,f,p=function d(c){var _=r()-s,m=c===!0,g,y;_>t&&(i+=_-e),s+=_,f.time=(s-i)/1e3,g=f.time-a,(g>0||m)&&(f.frame++,a+=g+(g>=n?.004:n-g),y=1),m||(l=o(d)),y&&h.forEach(function(x){return x(f.time,_,f.frame,c)})};return f={time:0,frame:0,tick:function(){p(!0)},wake:function(){Vi&&(!ke&&Ri()&&(st=ke=window,Bi=st.document||{},et.gsap=W,(st.gsapVersions||(st.gsapVersions=[])).push(W.version),Ni(ae||st.GreenSockGlobals||!st.gsap&&st||{}),u=st.requestAnimationFrame),l&&f.sleep(),o=u||function(c){return setTimeout(c,(a-f.time)*1e3+1|0)},oe=1,p(2))},sleep:function(){(u?st.cancelAnimationFrame:clearTimeout)(l),oe=0,o=Bt},lagSmoothing:function(c,_){t=c||1/z,e=Math.min(_,t,0)},fps:function(c){n=1/(c||60),a=f.time+n},add:function(c){h.indexOf(c)<0&&h.push(c),Jt()},remove:function(c){var _;~(_=h.indexOf(c))&&h.splice(_,1)},_listeners:h},f}(),Jt=function(){return!oe&&nt.wake()},O={},jn=/^[\d.\-M][\d.\-,\s]/,Zn=/["']/g,Kn=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),s=i[0],n=1,a=i.length,h,l,o;n<a;n++)l=i[n],h=n!==a-1?l.lastIndexOf(","):l.length,o=l.substr(0,h),e[s]=isNaN(o)?o.replace(Zn,"").trim():+o,s=l.substr(h+1).trim();return e},Qn=function(t){var e=(t+"").split("("),i=O[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Kn(e[1])]:Sn.exec(t)[1].split(",").map(Hi)):O._CE&&jn.test(t)?O._CE("",t):i},ar=function(t){return function(e){return 1-t(1-e)}},$t=function(t,e){return t&&(B(t)?t:O[t]||Qn(t))||e},Pt=function(t,e,i,s){i===void 0&&(i=function(l){return 1-e(1-l)}),s===void 0&&(s=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var n={easeIn:e,easeOut:i,easeInOut:s},a;return tt(t,function(h){O[h]=et[h]=n,O[a=h.toLowerCase()]=i;for(var l in n)O[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=O[h+"."+l]=n[l]}),n},hr=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},ve=function r(t,e,i){var s=e>=1?e:1,n=(i||(t?.3:.45))/(e<1?e:1),a=n/Oe*(Math.asin(1/s)||0),h=function(u){return u===1?1:s*Math.pow(2,-10*u)*Mn((u-a)*n)+1},l=t==="out"?h:t==="in"?function(o){return 1-h(1-o)}:hr(h);return n=Oe/n,l.config=function(o,u){return r(t,o,u)},l},Ee=function r(t,e){e===void 0&&(e=1.70158);var i=function(a){return--a*a*((e+1)*a+e)+1},s=t==="out"?i:t==="in"?function(n){return 1-i(1-n)}:hr(i);return s.config=function(n){return r(t,n)},s};tt("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,t){var e=t<5?t+1:t;Pt(r+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});O.Linear.easeNone=O.none=O.Linear.easeIn;Pt("Elastic",ve("in"),ve("out"),ve());(function(r,t){var e=1/t,i=2*e,s=2.5*e,n=function(h){return h<e?r*h*h:h<i?r*Math.pow(h-1.5/t,2)+.75:h<s?r*(h-=2.25/t)*h+.9375:r*Math.pow(h-2.625/t,2)+.984375};Pt("Bounce",function(a){return 1-n(1-a)},n)})(7.5625,2.75);Pt("Expo",function(r){return r?Math.pow(2,10*(r-1)):0});Pt("Circ",function(r){return-($i(1-r*r)-1)});Pt("Sine",function(r){return-En(r*An)+1});Pt("Back",Ee("in"),Ee("out"),Ee());O.SteppedEase=O.steps=et.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,s=t+(e?0:1),n=e?1:0,a=1-z;return function(h){return((s*fe(0,a,h)|0)+n)*i}}};zt.ease=O["quad.out"];var lr=function(t,e){this.id=vn++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:qi,this.set=e?e.getSetter:Xe},Kt=function(){function r(e,i){var s=e.parent||R;this.vars=e,this._dur=this._tDur=+e.duration||0,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase,we(this)),this._ts=1,this.data=e.data,oe||nt.wake(),s&&ft(s,this,i||i===0?i:s._time),e.reversed&&this.reversed(!0),e.paused&&this.paused(!0)}var t=r.prototype;return t.delay=function(i){return i||i===0?(this._delay=i,this):this._delay},t.duration=function(i){var s=arguments.length,n=this._repeat,a=n>0?n*((s?i:this._dur)+this._rDelay):0;return s?this.totalDuration(n<0?i:i+a):this.totalDuration()&&this._dur},t.totalDuration=function(i){if(!arguments.length)return this._tDur;var s=this._repeat,n=(i||this._rDelay)&&s<0;return this._tDur=n?1e20:i,this._dur=n?i:(i-s*this._rDelay)/(s+1),this._dirty=0,ut(this.parent),this},t.totalTime=function(i,s){if(Jt(),!arguments.length)return this._tTime;var n=this.parent||this._dp,a;if(n&&n.smoothChildTiming&&this._ts){for(a=this._start,this._start=n._time-(this._ts>0?i/this._ts:((this._dirty?this.totalDuration():this._tDur)-i)/-this._ts),this._end+=this._start-a,n._dirty||ut(n);n.parent;)n.parent._time!==n._start+(n._ts>0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;this.parent||ft(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur)&&Wi(this,i,s),this},t.time=function(i,s){return arguments.length?this.totalTime(i+yi(this),s):this._time},t.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this._tTime/this.totalDuration()},t.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*i+yi(this),s):this.duration()?this._time/this._dur:this.ratio},t.iteration=function(i,s){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*n,s):this._repeat?~~(this._tTime/n)+1:1},t.timeScale=function(i){var s=this._ts;return arguments.length?s?(this._end=this._start+this._tDur/(this._ts=i||z),Ln(this).totalTime(this._tTime,!0)):(this._pauseTS=i,this):s||this._pauseTS},t.paused=function(i){var s=!this._ts;return arguments.length?(s!==i&&(i?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS,i=this._tTime||this._pTime,this.progress()===1&&(this._tTime-=z),this.totalTime(i,!0))),this):s},t.startTime=function(i){return arguments.length?(this.parent&&this.parent._sort&&ft(this.parent,this,i-this._delay),this):this._start},t.endTime=function(i){return this._start+(V(i)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ji(s.rawTime(i),this):this._tTime:this._tTime},t.repeat=function(i){return arguments.length?(this._repeat=i,we(this)):this._repeat},t.repeatDelay=function(i){return arguments.length?(this._rDelay=i,we(this)):this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,s){return this.totalTime(I(this,i),V(s))},t.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,V(s))},t.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},t.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},t.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){var s=this._ts||this._pauseTS;return arguments.length?(i!==this.reversed()&&(this[this._ts?"_ts":"_pauseTS"]=Math.abs(s)*(i?-1:1),this.totalTime(this._tTime,!0)),this):s<0},t.invalidate=function(){return this._initted=0,this},t.isActive=function(){var i=this.parent||this._dp,s=this._start,n;return!i||this._ts&&this._initted&&i.isActive()&&(n=i.rawTime(!0))>=s&&n<this.endTime(!0)-z},t.eventCallback=function(i,s,n){var a=this.vars;return arguments.length>1?(s?(a[i]=s,n&&(a[i+"Params"]=n),i==="onUpdate"&&(this._onUpdate=s)):delete a[i],this):a[i]},t.then=function(i){var s=this;return i===void 0&&(i=Bt),new Promise(function(n){s._prom=function(){i(s),n()}})},t.kill=function(){re(this)},r}();it(Kt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-z,_prom:0});var G=function(r){Li(t,r);function t(i,s){var n;return i===void 0&&(i={}),n=r.call(this,i,s)||this,n.labels={},n.smoothChildTiming=V(i.smoothChildTiming),n.autoRemoveChildren=!!i.autoRemoveChildren,n._sort=V(i.sortChildren),n}var e=t.prototype;return e.to=function(s,n,a){return new $(s,qt(arguments,0,this),I(this,ot(n)?arguments[3]:a)),this},e.from=function(s,n,a){return new $(s,qt(arguments,1,this),I(this,ot(n)?arguments[3]:a)),this},e.fromTo=function(s,n,a,h){return new $(s,qt(arguments,2,this),I(this,ot(n)?arguments[4]:h)),this},e.set=function(s,n,a){return n.duration=0,n.parent=this,n.repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new $(s,n,I(this,a)),this},e.call=function(s,n,a){return ft(this,$.delayedCall(0,s,n),I(this,a))},e.staggerTo=function(s,n,a,h,l,o,u){return a.duration=n,a.stagger=a.stagger||h,a.onComplete=o,a.onCompleteParams=u,a.parent=this,new $(s,a,I(this,l)),this},e.staggerFrom=function(s,n,a,h,l,o,u){return a.runBackwards=1,a.immediateRender=V(a.immediateRender),this.staggerTo(s,n,a,h,l,o,u)},e.staggerFromTo=function(s,n,a,h,l,o,u,f){return h.startAt=a,h.immediateRender=V(h.immediateRender),this.staggerTo(s,n,h,l,o,u,f)},e.render=function(s,n,a){var h=this._time,l=this._dirty?this.totalDuration():this._tDur,o=this._dur,u=s>l-z&&s>=0&&this!==R?l:s<z?0:s,f=this._zTime<0!=s<0&&this._initted,p,d,c,_,m,g,y,x,b,A,w;if(u!==this._tTime||a||f){if(f&&(o||(h=this._zTime),(s||!n)&&(this._zTime=s)),p=u,b=this._start,x=this._ts,g=x===0,h!==this._time&&o&&(p+=this._time-h),this._repeat&&(w=this._yoyo,m=o+this._rDelay,p=k(u%m),(p>o||l===u)&&(p=o),_=~~(u/m),_&&_===u/m&&(p=o,_--),A=~~(this._tTime/m),A&&A===this._tTime/m&&A--,w&&_&1&&(p=o-p),_!==A&&!this._lock)){var E=w&&A&1,M=E===(w&&_&1);if(_<A&&(E=!E),h=E?0:o,this._lock=1,this.render(h,n,!o)._lock=0,!n&&this.parent&&q(this,"onRepeat"),h!==this._time||g!==!this._ts)return this;if(M&&(this._lock=2,h=E?o+1e-4:-1e-4,this.render(h,!0)),this._lock=0,!this._ts&&!g)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=zn(this,k(h),k(p)),y&&(u-=p-(p=y._start))),this._tTime=u,this._time=p,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),!h&&p&&!n&&q(this,"onStart"),p>=h&&s>=0)for(d=this._first;d;){if(c=d._next,(d._act||p>=d._start)&&d._ts&&y!==d){if(d.parent!==this)return this.render(s,n,a);if(d.render(d._ts>0?(p-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(p-d._start)*d._ts,n,a),p!==this._time||!this._ts&&!g){y=0;break}}d=c}else{d=this._last;for(var v=s<0?s:p;d;){if(c=d._prev,(d._act||v<=d._end)&&d._ts&&y!==d){if(d.parent!==this)return this.render(s,n,a);if(d.render(d._ts>0?(v-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(v-d._start)*d._ts,n,a),p!==this._time||!this._ts&&!g){y=0;break}}d=c}}if(y&&!n&&(this.pause(),y.render(p>=h?0:-z)._zTime=p>=h?1:-1,this._ts))return this._start=b,this.render(s,n,a);this._onUpdate&&!n&&q(this,"onUpdate",!0),(u===l||!u&&this._ts<0)&&(b===this._start||Math.abs(x)!==Math.abs(this._ts))&&(!p||l>=this.totalDuration())&&((s||!o)&&gt(this,1),!n&&!(s<0&&!h)&&(q(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&u===l&&this._prom()))}return this},e.add=function(s,n){var a=this;if(ot(n)||(n=I(this,n)),!(s instanceof Kt)){if(H(s))return s.forEach(function(h){return a.add(h,n)}),ut(this);if(N(s))return this.addLabel(s,n);if(B(s))s=$.delayedCall(0,s);else return this}return this!==s?ft(this,s,n):this},e.getChildren=function(s,n,a,h){s===void 0&&(s=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),h===void 0&&(h=-X);for(var l=[],o=this._first;o;)o._start>=h&&(o instanceof $?n&&l.push(o):(a&&l.push(o),s&&l.push.apply(l,o.getChildren(!0,n,a)))),o=o._next;return l},e.getById=function(s){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===s)return n[a]},e.remove=function(s){return N(s)?this.removeLabel(s):B(s)?this.killTweensOf(s):(Ne(this,s),s===this._recent&&(this._recent=this._last),ut(this))},e.totalTime=function(s,n){return arguments.length?(this._forcing=1,!this.parent&&!this._dp&&this._ts&&(this._start=nt.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts)),r.prototype.totalTime.call(this,s,n),this._forcing=0,this):this._tTime},e.addLabel=function(s,n){return this.labels[s]=I(this,n),this},e.removeLabel=function(s){return delete this.labels[s],this},e.addPause=function(s,n,a){var h=$.delayedCall(0,n||Bt,a);return h.data="isPause",this._hasPause=1,ft(this,h,I(this,s))},e.removePause=function(s){var n=this._first;for(s=I(this,s);n;)n._start===s&&n.data==="isPause"&&gt(n),n=n._next},e.killTweensOf=function(s,n,a){for(var h=this.getTweensOf(s,a),l=h.length;l--;)h[l].kill(s,n);return this},e.getTweensOf=function(s,n){for(var a=[],h=J(s),l=this._first,o;l;)l instanceof $?Cn(l._targets,h)&&(!n||l.isActive())&&a.push(l):(o=l.getTweensOf(h,n)).length&&a.push.apply(a,o),l=l._next;return a},e.tweenTo=function(s,n){var a=this,h=I(a,s),l=n&&n.startAt,o=$.to(a,it({ease:"none",lazy:!1,time:h,duration:Math.abs(h-(l&&"time"in l?l.time:a._time))/a.timeScale()||z,onStart:function(){a.pause();var f=Math.abs(h-a._time)/a.timeScale();o._dur!==f&&(o._dur=f,o.render(o._time,!0,!0)),n&&n.onStart&&n.onStart.apply(o,n.onStartParams||[])}},n));return o},e.tweenFromTo=function(s,n,a){return this.tweenTo(n,it({startAt:{time:I(this,s)}},a))},e.recent=function(){return this._recent},e.nextLabel=function(s){return s===void 0&&(s=this._time),bi(this,I(this,s))},e.previousLabel=function(s){return s===void 0&&(s=this._time),bi(this,I(this,s),1)},e.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+z)},e.shiftChildren=function(s,n,a){a===void 0&&(a=0);for(var h=this._first,l=this.labels,o;h;)h._start>=a&&(h._start+=s),h=h._next;if(n)for(o in l)l[o]>=a&&(l[o]+=s);return ut(this)},e.invalidate=function(){var s=this._first;for(this._lock=0;s;)s.invalidate(),s=s._next;return r.prototype.invalidate.call(this)},e.clear=function(s){s===void 0&&(s=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._time=this._tTime=0,s&&(this.labels={}),ut(this)},e.totalDuration=function(s){var n=0,a=this,h=a._last,l=X,o=a._repeat,u=o*a._rDelay||0,f=o<0,p,d;if(!arguments.length){if(a._dirty){for(;h;)p=h._prev,h._dirty&&h.totalDuration(),h._start>l&&a._sort&&h._ts&&!a._lock?(a._lock=1,ft(a,h,h._start-h._delay),a._lock=0):l=h._start,h._start<0&&h._ts&&(n-=h._start,(!a.parent&&!a._dp||a.parent&&a.parent.smoothChildTiming)&&(a._start+=h._start/a._ts,a._time-=h._start,a._tTime-=h._start),a.shiftChildren(-h._start,!1,-X),l=0),d=h._end=h._start+h._tDur/Math.abs(h._ts||h._pauseTS),d>n&&h._ts&&(n=k(d)),h=p;a._dur=a===R&&a._time>n?a._time:Math.min(X,n),a._tDur=f&&(a._dur||u)?1e20:Math.min(X,n*(o+1)+u),a._end=a._start+(a._tDur/Math.abs(a._ts||a._pauseTS)||0),a._dirty=0}return a._tDur}return f?a:a.timeScale(a.totalDuration()/s)},t.updateRoot=function(s){if(R._ts&&Wi(R,ji(s,R)),nt.frame>=_i){_i+=j.autoSleep||120;var n=R._first;if((!n||!n._ts)&&j.autoSleep&&nt._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||nt.sleep()}}},t}(Kt);it(G.prototype,{_lock:0,_hasPause:0,_forcing:0});var Jn=function(t,e,i,s,n,a,h){var l=new U(this._pt,t,e,0,1,cr,null,n),o=0,u=0,f,p,d,c,_,m,g,y;for(l.b=i,l.e=s,i+="",s+="",(g=~s.indexOf("random("))&&(s=de(s)),a&&(y=[i,s],a(y,t,e),i=y[0],s=y[1]),p=i.match(xe)||[];f=xe.exec(s);)c=f[0],_=s.substring(o,f.index),d?d=(d+1)%5:_.substr(-5)==="rgba("&&(d=1),c!==p[u++]&&(m=parseFloat(p[u-1]),l._pt={_next:l._pt,p:_||u===1?_:",",s:m,c:c.charAt(1)==="="?parseFloat(c.substr(2))*(c.charAt(0)==="-"?-1:1):parseFloat(c)-m,m:d&&d<4?Math.round:0},o=xe.lastIndex);return l.c=o<s.length?s.substring(o,s.length):"",l.fp=h,(Ii.test(s)||g)&&(l.e=0),this._pt=l,l},Ue=function(t,e,i,s,n,a,h,l,o){B(s)&&(s=s(n||0,t,a));var u=t[e],f=i!=="get"?i:B(u)?o?t[e.indexOf("set")||!B(t["get"+e.substr(3)])?e:"get"+e.substr(3)](o):t[e]():u,p=B(u)?o?sa:fr:Ye,d;if(N(s)&&(~s.indexOf("random(")&&(s=de(s)),s.charAt(1)==="="&&(s=parseFloat(f)+parseFloat(s.substr(2))*(s.charAt(0)==="-"?-1:1)+ct(f))),f!==s)return isNaN(f+s)?(!u&&!(e in t)&&Ui(e,s),Jn.call(this,t,e,f,s,p,l||j.stringFilter,o)):(d=new U(this._pt,t,e,+f||0,s-(f||0),typeof u=="boolean"?aa:dr,0,p),o&&(d.fp=o),h&&d.modifier(h,this,t),this._pt=d)},ta=function(t,e,i,s,n){if(B(t)&&(t=Wt(t,n,e,i,s)),!dt(t)||t.style&&t.nodeType||H(t))return N(t)?Wt(t,n,e,i,s):t;var a={},h;for(h in t)a[h]=Wt(t[h],n,e,i,s);return a},or=function(t,e,i,s,n,a){var h,l,o,u;if(Y[t]&&(h=new Y[t]).init(n,h.rawVars?e[t]:ta(e[t],s,n,a,i),i,s,a)!==!1&&(i._pt=l=new U(i._pt,n,t,0,1,h.render,h,0,h.priority),i!==kt))for(o=i._ptLookup[i._targets.indexOf(n)],u=h._props.length;u--;)o[h._props[u]]=l;return h},Dt,ea=function r(t,e){var i=t.vars,s=i.ease,n=i.startAt,a=i.immediateRender,h=i.lazy,l=i.onUpdate,o=i.onUpdateParams,u=i.callbackScope,f=i.runBackwards,p=i.yoyoEase,d=i.keyframes,c=i.autoRevert,_=t._dur,m=t._startAt,g=t._targets,y=t.parent,x=y&&y.data==="nested"?y.parent._targets:g,b=t._overwrite==="auto",A=t.timeline,w,E,M,v,T,C,P,F,S,L,K,rt;if(A&&(!d||!s)&&(s="none"),t._ease=$t(s,zt.ease),t._yEase=p?ar($t(p===!0?s:p,zt.ease)):0,p&&t._yoyo&&!t._repeat&&(p=t._yEase,t._yEase=t._ease,t._ease=p),!A){if(m&&m.render(-1,!0).kill(),n){if(gt(t._startAt=$.set(g,it({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:V(h),startAt:null,delay:0,onUpdate:l,onUpdateParams:o,callbackScope:u,stagger:0},n))),a){if(e>0)!c&&(t._startAt=0);else if(_)return}}else if(f&&_){if(m)!c&&(t._startAt=0);else if(e&&(a=!1),gt(t._startAt=$.set(g,St(le(i,Zt),{overwrite:!1,data:"isFromStart",lazy:a&&V(h),immediateRender:a,stagger:0,parent:y}))),!a)r(t._startAt,e),a&&!c&&(t._startAt=0);else if(!e)return}for(w=le(i,Zt),t._pt=0,F=g[0]?Lt(g[0]).harness:0,rt=F&&i[F.prop],E=0;E<g.length;E++){if(T=g[E],P=T._gsap||Ve(g)[E]._gsap,t._ptLookup[E]=L={},De[P.id]&&he(),K=x===g?E:x.indexOf(T),F&&(S=new F).init(T,rt||w,t,K,x)!==!1&&(t._pt=v=new U(t._pt,T,S.name,0,1,S.render,S,0,S.priority),S._props.forEach(function(Ot){L[Ot]=v}),S.priority&&(C=1)),!F||rt)for(M in w)Y[M]&&(S=or(M,w,t,K,T,x))?S.priority&&(C=1):L[M]=v=Ue.call(t,T,M,"get",w[M],K,x,0,i.stringFilter);t._op&&t._op[E]&&t.kill(T,t._op[E]),b&&(Dt=t,R.killTweensOf(T,L,!0),Dt=0),t._pt&&(V(h)&&_||h&&!_)&&(De[P.id]=1)}C&&pr(t),t._onInit&&t._onInit(t)}t._from=!A&&!!i.runBackwards,t._onUpdate=l,t._initted=1},ia=function(t,e){var i=t[0]?Lt(t[0]).harness:0,s=i&&i.aliases,n,a,h,l;if(!s)return e;n=St({},e);for(a in s)if(a in n)for(l=s[a].split(","),h=l.length;h--;)n[l[h]]=n[a];return n},Wt=function(t,e,i,s,n){return B(t)?t.call(e,i,s,n):N(t)&&~t.indexOf("random(")?de(t):t},ur=Gi+",repeat,repeatDelay,yoyo,yoyoEase",ra=(ur+",id,stagger,delay,duration").split(","),$=function(r){Li(t,r);function t(i,s,n){var a;typeof s=="number"&&(n.duration=s,s=n,n=null),a=r.call(this,Fn(s),n)||this;var h=a.vars,l=h.duration,o=h.delay,u=h.immediateRender,f=h.stagger,p=h.overwrite,d=h.keyframes,c=h.defaults,_=J(i),m,g,y,x,b,A,w,E;if(a._targets=_.length?Ve(_):Yi("GSAP target "+i+" not found. https://greensock.com",!j.nullTargetWarn)||[{}],a._ptLookup=[],a._overwrite=p,d||f||gi(l)||gi(o)){if(s=a.vars,m=a.timeline=new G({data:"nested",defaults:c||{}}),m.kill(),m.parent=Ut(a),d)it(m.vars.defaults,{ease:"none"}),d.forEach(function(M){return m.to(_,M,">")});else{if(x=_.length,w=f?Qi(f):Bt,dt(f))for(b in f)~ur.indexOf(b)&&(E||(E={}),E[b]=f[b]);for(g=0;g<x;g++){y={};for(b in s)ra.indexOf(b)<0&&(y[b]=s[b]);y.stagger=0,E&&St(y,E),s.yoyoEase&&!s.repeat&&(y.yoyoEase=s.yoyoEase),A=_[g],y.duration=+Wt(l,Ut(a),g,A,_),y.delay=(+Wt(o,Ut(a),g,A,_)||0)-a._delay,!f&&x===1&&y.delay&&(a._delay=o=y.delay,a._start+=o,y.delay=0),m.to(A,y,w(g,A,_))}l=o=0}l||a.duration(l=m.duration())}else a.timeline=0;return p===!0&&(Dt=Ut(a),R.killTweensOf(_),Dt=0),(u||!l&&!d&&a._start===a.parent._time&&V(u)&&$n(Ut(a))&&a.parent.data!=="nested")&&(a._tTime=-z,a.render(Math.max(0,-o))),a}var e=t.prototype;return e.render=function(s,n,a){var h=this._time,l=this._tDur,o=this._dur,u=s>l-z&&s>=0?l:s<z?0:s,f,p,d,c,_,m,g,y,x;if(!o)Rn(this,s,n,a);else if(u!==this._tTime||a||this._startAt&&this._zTime<0!=s<0){if(f=u,y=this.timeline,this._repeat){if(c=o+this._rDelay,f=k(u%c),f>o&&(f=o),d=~~(u/c),d&&d===u/c&&(f=o,d--),m=this._yoyo&&d&1,m&&(x=this._yEase,f=o-f),_=~~(this._tTime/c),_&&_===this._tTime/c&&_--,f===h&&!a)return this;d!==_&&this.vars.repeatRefresh&&!this._lock&&(this._lock=1,this.render(c*d,!0).invalidate()._lock=0)}if(!this._initted&&Zi(this,f,a,n))return this;for(this._tTime=u,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=g=(x||this._ease)(f/o),this._from&&(this.ratio=g=1-g),!h&&f&&!n&&q(this,"onStart"),p=this._pt;p;)p.r(g,p.d),p=p._next;y&&y.render(s<0?s:!f&&m?-z:y._dur*g,n,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!n&&(s<0&&this._startAt&&this._startAt.render(s,!0,a),q(this,"onUpdate")),this._repeat&&d!==_&&this.vars.onRepeat&&!n&&this.parent&&q(this,"onRepeat"),(u===l||!u)&&this._tTime===u&&(s<0&&this._startAt&&!this._onUpdate&&this._startAt.render(s,!0,a),(s||!o)&&(u||this._ts<0)&&gt(this,1),!n&&!(s<0&&!h)&&(q(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&u===l&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),r.prototype.invalidate.call(this)},e.kill=function(s,n){if(n===void 0&&(n="all"),Dt===this)return Dt;if(!s&&(!n||n==="all")&&this.parent)return this._lazy=0,re(this);if(this.timeline)return this.timeline.killTweensOf(s,n),this;var a=this._targets,h=s?J(s):a,l=this._ptLookup,o=this._pt,u,f,p,d,c,_,m;if((!n||n==="all")&&kn(a,h))return re(this);for(u=this._op=this._op||[],n!=="all"&&(N(n)&&(c={},tt(n,function(g){return c[g]=1}),n=c),n=ia(a,n)),m=a.length;m--;)if(~h.indexOf(a[m])){f=l[m],n==="all"?(u[m]=n,d=f,p={}):(p=u[m]=u[m]||{},d=n);for(c in d)_=f&&f[c],_&&(!("kill"in _.d)||_.d.kill(c)===!0)&&(Ne(this,_,"_pt"),delete f[c]),p!=="all"&&(p[c]=1)}return this._initted&&!this._pt&&o&&re(this),this},t.to=function(s,n){return new t(s,n,arguments[2])},t.from=function(s,n){return new t(s,qt(arguments,1))},t.delayedCall=function(s,n,a,h){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:h})},t.fromTo=function(s,n,a){return new t(s,qt(arguments,2))},t.set=function(s,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(s,n)},t.killTweensOf=function(s,n,a){return R.killTweensOf(s,n,a)},t}(Kt);it($.prototype,{_targets:[],_initted:0,_lazy:0,_startAt:0,_op:0,_onInit:0});tt("staggerTo,staggerFrom,staggerFromTo",function(r){$[r]=function(){var t=new G,e=J(arguments);return e.splice(r==="staggerFromTo"?5:4,0,0),t[r].apply(t,e)}});var Ye=function(t,e,i){return t[e]=i},fr=function(t,e,i){return t[e](i)},sa=function(t,e,i,s){return t[e](s.fp,i)},na=function(t,e,i){return t.setAttribute(e,i)},Xe=function(t,e){return B(t[e])?fr:Be(t[e])&&t.setAttribute?na:Ye},dr=function(t,e){return e.set(e.t,e.p,~~((e.s+e.c*t)*1e4)/1e4,e)},aa=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},cr=function(t,e){var i=e._pt,s="";if(!t&&e.b)s=e.b;else if(t===1&&e.e)s=e.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*t):~~((i.s+i.c*t)*1e4)/1e4)+s,i=i._next;s+=e.c}e.set(e.t,e.p,s,e)},Ge=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},ha=function(t,e,i,s){for(var n=this._pt,a;n;)a=n._next,n.p===s&&n.modifier(t,e,i),n=a},la=function(t){for(var e=this._pt,i,s;e;)s=e._next,e.p===t&&!e.op||e.op===t?Ne(this,e,"_pt"):e.dep||(i=1),e=s;return!i},oa=function(t,e,i,s){s.mSet(t,e,s.m.call(s.tween,i,s.mt),s)},pr=function(t){for(var e=t._pt,i,s,n,a;e;){for(i=e._next,s=n;s&&s.pr>e.pr;)s=s._next;(e._prev=s?s._prev:a)?e._prev._next=e:n=e,(e._next=s)?s._prev=e:a=e,e=i}t._pt=n},U=function(){function r(e,i,s,n,a,h,l,o,u){this.t=i,this.s=n,this.c=a,this.p=s,this.r=h||dr,this.d=l||this,this.set=o||Ye,this.pr=u||0,this._next=e,e&&(e._prev=this)}var t=r.prototype;return t.modifier=function(i,s,n){this.mSet=this.mSet||this.set,this.set=oa,this.m=i,this.mt=n,this.tween=s},r}();tt(Gi+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(r){Zt[r]=1,r.substr(0,2)==="on"&&(Zt[r+"Params"]=1)});et.TweenMax=et.TweenLite=$;et.TimelineLite=et.TimelineMax=G;R=new G({sortChildren:!1,defaults:zt,autoRemoveChildren:!0,id:"root"});j.stringFilter=nr;var W={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(s){return Wn(s)})},timeline:function(t){return new G(t)},getTweensOf:function(t,e){return R.getTweensOf(t,e)},getProperty:function(t,e,i,s){N(t)&&(t=J(t)[0]);var n=Lt(t||{}).get,a=i?Pn:Hi;return i==="native"&&(i=""),t&&(e?a((Y[e]&&Y[e].get||n)(t,e,i,s)):function(h,l,o){return a((Y[h]&&Y[h].get||n)(t,h,l,o))})},quickSetter:function(t,e,i){if(t=J(t),t.length>1){var s=t.map(function(o){return W.quickSetter(o,e,i)}),n=s.length;return function(o){for(var u=n;u--;)s[u](o)}}t=t[0]||{};var a=Y[e],h=Lt(t),l=a?function(o){var u=new a;kt._pt=0,u.init(t,i?o+i:o,kt,0,[t]),u.render(1,u),kt._pt&&Ge(1,kt)}:h.set(t,e);return a?l:function(o){return l(t,e,i?o+i:o,h,1)}},isTweening:function(t){return R.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=$t(t.ease,zt.ease)),mi(zt,t||{})},config:function(t){return mi(j,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,s=t.plugins,n=t.defaults,a=t.extendTimeline;(s||"").split(",").forEach(function(h){return h&&!Y[h]&&!et[h]&&Yi(e+" effect requires "+h+" plugin.")}),be[e]=function(h,l){return i(J(h),it(l||{},n))},a&&(G.prototype[e]=function(h,l,o){return this.add(be[e](h,dt(l)?l:(o=l)&&{}),o)})},registerEase:function(t,e){O[t]=$t(e)},parseEase:function(t,e){return arguments.length?$t(t,e):O},getById:function(t){return R.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new G(t),s,n;for(i.smoothChildTiming=V(t.smoothChildTiming),R.remove(i),i._dp=0,i._time=i._tTime=R._time,s=R._first;s;)n=s._next,(e||!(!s._dur&&s instanceof $&&s.vars.onComplete===s._targets[0]))&&ft(i,s,s._start-s._delay),s=n;return ft(R,i,0),i},utils:{wrap:Xn,wrapYoyo:Gn,distribute:Qi,random:er,snap:tr,normalize:Yn,getUnit:ct,clamp:Bn,splitColor:sr,toArray:J,mapRange:rr,pipe:Nn,unitize:Un,interpolate:qn},install:Ni,effects:be,ticker:nt,updateRoot:G.updateRoot,plugins:Y,globalTimeline:R,core:{PropTween:U,globals:Xi,Tween:$,Timeline:G,Animation:Kt,getCache:Lt}};tt("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return W[r]=$[r]});nt.add(G.updateRoot);kt=W.to({},{duration:0});var ua=function(t,e){var i=t._targets,s,n,a;for(s in e)for(n=i.length;n--;)a=t._ptLookup[n][s],a&&a.d.modifier&&a.d.modifier(e[s],t,i[n],s)},Me=function(t,e){return{name:t,rawVars:1,init:function(s,n,a){a._onInit=function(h){var l,o;if(N(n)&&(l={},tt(n,function(u){return l[u]=1}),n=l),e){l={};for(o in n)l[o]=e(n[o]);n=l}ua(h,n)}}}};W.registerPlugin({name:"attr",init:function(t,e,i,s,n){for(var a in e)this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],s,n,0,0,a),this._props.push(a)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i],e[i])}},Me("roundProps",Ji),Me("modifiers"),Me("snap",tr));$.version=G.version=W.version="3.0.1";Vi=1;Ri()&&Jt();O.Power0;O.Power1;O.Power2;O.Power3;O.Power4;O.Linear;O.Quad;O.Cubic;O.Quart;O.Quint;O.Strong;O.Elastic;O.Back;O.SteppedEase;O.Bounce;O.Sine;O.Expo;O.Circ;/*!
 * CSSPlugin 3.0.1
 * https://greensock.com
 *
 * Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Ai,at,Rt,qe,vt,Gt,vi,fa=function(){return typeof window<"u"},_t={},At=180/Math.PI,Ht=Math.PI/180,Ft=Math.atan2,Ei=1e8,gr=/([A-Z])/g,te=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,da=/(?:left|right|width|margin|padding|x)/i,ca=/[\s,\(]\S/,Mt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_r=function(t,e){return e.set(e.t,e.p,~~((e.s+e.c*t)*1e4)/1e4+e.u,e)},pa=function(t,e){return e.set(e.t,e.p,t===1?e.e:~~((e.s+e.c*t)*1e4)/1e4+e.u,e)},ga=function(t,e){return e.set(e.t,e.p,t?~~((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},_a=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},mr=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},yr=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},ma=function(t,e,i){return t.style[e]=i},ya=function(t,e,i){return t.style.setProperty(e,i)},xa=function(t,e,i){return t._gsap[e]=i},Mi=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},ba=function(t,e,i,s,n){var a=t._gsap;a.scaleX=a.scaleY=i,a.renderTransform(n,a)},wa=function(t,e,i,s,n){var a=t._gsap;a[e]=i,a.renderTransform(n,a)},Z="transform",Tt=Z+"Origin",xr,$e=function(t,e){var i=at.createElementNS?at.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):at.createElement(t);return i.style?i:at.createElement(t)},It=function(t,e){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(gr,"-$1").toLowerCase())||i.getPropertyValue(e)},se=function(t,e){var i=e||vt,s=i.style,n=5,a="O,Moz,ms,Ms,Webkit".split(",");if(t in s)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(a[n]+t in s););return n<0?null:(n===3?"ms":n>=0?a[n]:"")+t},Re=function(){fa()&&(Ai=window,at=Ai.document,Rt=at.documentElement,vt=$e("div")||{style:{}},Gt=$e("div"),Z=se(Z),Tt=se(Tt),vt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",xr=!!se("perspective"),qe=1)},Aa=function r(t){var e=$e("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,n=this.style.cssText,a;if(Rt.appendChild(e),e.appendChild(this),this.style.display="block",t)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=r}catch{}else this._gsapBBox&&(a=this._gsapBBox());return s?i.insertBefore(this,s):i.appendChild(this),Rt.removeChild(e),this.style.cssText=n,a},Si=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},br=function(t){var e;try{e=t.getBBox()}catch{e=Aa.call(t,!0)}return e&&!e.width&&!e.x&&!e.y?{x:+Si(t,["x","cx","x1"]),y:+Si(t,["y","cy","y1"]),width:0,height:0}:e},wr=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&br(t))},ze=function(t,e){if(e){var i=t.style;e in _t&&(e=Z),i.removeProperty?((e.substr(0,2)==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(e.replace(gr,"-$1").toLowerCase())):i.removeAttribute(e)}},pt=function(t,e,i,s,n,a){var h=new U(t._pt,e,i,0,1,a?yr:mr);return t._pt=h,h.b=s,h.e=n,t._props.push(i),h},Ti={deg:1,rad:1,turn:1},Ct=function(t,e,i,s){var n=parseFloat(i),a=(i+"").substr((n+"").length)||"px",h=vt.style,l=da.test(e),o=t.tagName.toLowerCase()==="svg",u=(o?"client":"offset")+(l?"Width":"Height"),f=100,p=s==="px",d,c,_,m;return s===a||Ti[s]||Ti[a]?n:(m=t.getCTM&&wr(t),s==="%"&&_t[e]?k(n/(m?t.getBBox()[l?"width":"height"]:t[u])*f):(h[l?"width":"height"]=f+(p?a:s),c=s==="em"&&t.appendChild&&!o?t:t.parentNode,m&&(c=(t.ownerSVGElement||{}).parentNode),(!c||c===at||!c.appendChild)&&(c=at.body),_=c._gsap,_&&s==="%"&&_.width&&l&&_.time===nt.time?d=_.width*n/f:(c.appendChild(vt),d=vt[u],c.removeChild(vt),l&&s==="%"&&(_=Lt(c),_.time=nt.time,_.width=d/n*f)),k(p?d*n/f:f/d*n)))},ee=function(t,e,i,s){var n;return qe||Re(),e in Mt&&(e=Mt[e],~e.indexOf(",")&&(e=e.split(",")[0])),_t[e]?(n=Mr(t,s),n=e!=="transformOrigin"?n[e]:ue(It(t,Tt))+n.zOrigin+"px"):(n=t.style[e],(!n||n==="auto"||s)&&(n=It(t,e)||qi(t,e))),i?Ct(t,e,n,i)+i:n},va=function(t,e,i,s){var n=new U(this._pt,t.style,e,0,1,cr),a=0,h=0,l,o,u,f,p,d,c,_,m,g,y,x,b;if(n.b=i,n.e=s,i+="",s+="",s==="auto"&&(t.style[e]=s,s=It(t,e)||s,t.style[e]=i),l=[i,s],nr(l),i=l[0],s=l[1],u=i.match(te)||[],b=s.match(te)||[],b.length){for(;o=te.exec(s);)c=o[0],m=s.substring(a,o.index),p?p=(p+1)%5:m.substr(-5)==="rgba("&&(p=1),c!==(d=u[h++]||"")&&(f=parseFloat(d)||0,y=d.substr((f+"").length),x=c.charAt(1)==="="?+(c.charAt(0)+"1"):0,x&&(c=c.substr(2)),_=parseFloat(c),g=c.substr((_+"").length),a=te.lastIndex-g.length,g||(g=g||j.units[e]||y,a===s.length&&(s+=g,n.e+=g)),y!==g&&(f=Ct(t,e,d,g)),n._pt={_next:n._pt,p:m||h===1?m:",",s:f,c:x?x*_:_-f,m:p&&p<4?Math.round:0});n.c=a<s.length?s.substring(a,s.length):""}else n.r=e==="display"?yr:mr;return Ii.test(s)&&(n.e=0),this._pt=n,n},Ci={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ea=function(t){var e=t.split(" "),i=e[0],s=e[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(e=i,i=s,s=e),e[0]=Ci[i]||i,e[1]=Ci[s]||s,e.join(" ")},Ma=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,s=i.style,n=e.u,a,h,l;if(n==="all"||n===!0)s.cssText="",h=1;else for(n=n.split(","),l=n.length;--l>-1;)a=n[l],_t[a]&&(h=1,a=a==="transformOrigin"?Tt:Z),ze(i,a);h&&(ze(i,Z),h=i._gsap,h&&(h.svg&&i.removeAttribute("transform"),delete h.x))}},Sa={clearProps:function(t,e,i,s,n){var a=t._pt=new U(t._pt,e,i,0,0,Ma);return a.u=s,a.pr=-10,a.tween=n,t._props.push(i),1}},Qt=[1,0,0,1,0,0],Ar={},vr=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Pi=function(t){var e=It(t,Z);return vr(e)?Qt:e.substr(7).match(zi).map(k)},Er=function(t,e){var i=t._gsap,s=t.style,n=Pi(t),a,h,l,o;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?Qt:n):(n===Qt&&!t.offsetParent&&t!==Rt&&!i.svg&&(l=s.display,s.display="block",a=t.parentNode,(!a||!t.offsetParent)&&(o=1,h=t.nextSibling,Rt.appendChild(t)),n=Pi(t),l?s.display=l:ze(t,"display"),o&&(h?a.insertBefore(t,h):a?a.appendChild(t):Rt.removeChild(t))),e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},Ie=function(t,e,i,s,n,a){var h=t._gsap,l=n||Er(t,!0),o=h.xOrigin||0,u=h.yOrigin||0,f=h.xOffset||0,p=h.yOffset||0,d=l[0],c=l[1],_=l[2],m=l[3],g=l[4],y=l[5],x=e.split(" "),b=parseFloat(x[0])||0,A=parseFloat(x[1])||0,w,E,M,v;i?l!==Qt&&(E=d*m-c*_)&&(M=b*(m/E)+A*(-_/E)+(_*y-m*g)/E,v=b*(-c/E)+A*(d/E)-(d*y-c*g)/E,b=M,A=v):(w=br(t),b=w.x+(~x[0].indexOf("%")?b/100*w.width:b),A=w.y+(~(x[1]||x[0]).indexOf("%")?A/100*w.height:A)),s||s!==!1&&h.smooth?(g=b-o,y=A-u,h.xOffset+=g*d+y*_-g,h.yOffset+=g*c+y*m-y):h.xOffset=h.yOffset=0,h.xOrigin=b,h.yOrigin=A,h.smooth=!!s,h.origin=e,h.originIsAbsolute=!!i,a&&(pt(a,h,"xOrigin",o,b),pt(a,h,"yOrigin",u,A),pt(a,h,"xOffset",f,h.xOffset),pt(a,h,"yOffset",p,h.yOffset))},Mr=function(t,e){var i=t._gsap||new lr(t);if("x"in i&&!e)return i;var s=t.style,n=i.scaleX<0,a=i.xOrigin||0,h=i.yOrigin||0,l="px",o="deg",u=It(t,Tt)||"0",f,p,d,c,_,m,g,y,x,b,A,w,E,M,v,T,C,P,F,S,L,K,rt,Ot,Vt,Nt,yt,We,lt,xt;return f=p=d=m=g=y=x=b=A=0,c=_=1,i.svg=!!(t.getCTM&&wr(t)),w=Er(t,i.svg),i.svg&&Ie(t,u,i.originIsAbsolute,i.smooth!==!1,w),w!==Qt&&(T=w[0],C=w[1],P=w[2],F=w[3],f=S=w[4],p=L=w[5],w.length===6?(c=Math.sqrt(T*T+C*C),_=Math.sqrt(F*F+P*P),m=T||C?Ft(C,T)*At:i.rotation||0,x=P||F?Ft(P,F)*At+m:i.skewX||0,i.svg&&(f-=a-(a*T+h*P),p-=h-(a*C+h*F))):(xt=w[6],We=w[7],Vt=w[8],Nt=w[9],yt=w[10],lt=w[11],f=w[12],p=w[13],d=w[14],E=Ft(xt,yt),g=E*At,E&&(M=Math.cos(-E),v=Math.sin(-E),K=S*M+Vt*v,rt=L*M+Nt*v,Ot=xt*M+yt*v,Vt=S*-v+Vt*M,Nt=L*-v+Nt*M,yt=xt*-v+yt*M,lt=We*-v+lt*M,S=K,L=rt,xt=Ot),E=Ft(-P,yt),y=E*At,E&&(M=Math.cos(-E),v=Math.sin(-E),K=T*M-Vt*v,rt=C*M-Nt*v,Ot=P*M-yt*v,lt=F*v+lt*M,T=K,C=rt,P=Ot),E=Ft(C,T),m=E*At,E&&(M=Math.cos(E),v=Math.sin(E),K=T*M+C*v,rt=S*M+L*v,C=C*M-T*v,L=L*M-S*v,T=K,S=rt),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,y=180-y),c=k(Math.sqrt(T*T+C*C+P*P)),_=k(Math.sqrt(L*L+xt*xt)),E=Ft(S,L),x=Math.abs(E)>2e-4?E*At:0,A=lt?1/(lt<0?-lt:lt):0),i.svg&&(w=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!vr(It(t,Z)),w&&t.setAttribute("transform",w))),Math.abs(x)>90&&Math.abs(x)<270&&(n?(c*=-1,x+=m<=0?180:-180,m+=m<=0?180:-180):(_*=-1,x+=x<=0?180:-180)),i.x=((i.xPercent=f&&Math.round(t.offsetWidth/2)===Math.round(-f)?-50:0)?0:f)+l,i.y=((i.yPercent=p&&Math.round(t.offsetHeight/2)===Math.round(-p)?-50:0)?0:p)+l,i.z=d+l,i.scaleX=k(c),i.scaleY=k(_),i.rotation=k(m)+o,i.rotationX=k(g)+o,i.rotationY=k(y)+o,i.skewX=x+o,i.skewY=b+o,i.transformPerspective=A+l,(i.zOrigin=parseFloat(u.split(" ")[2])||0)&&(s[Tt]=ue(u)),i.xOffset=i.yOffset=0,i.force3D=j.force3D,i.renderTransform=i.svg?Ca:xr?Sr:Ta,i},ue=function(t){return(t=t.split(" "))[0]+" "+t[1]},Se=function(t,e,i){var s=ct(e);return k(parseFloat(e)+parseFloat(Ct(t,"x",i+"px",s)))+s},Ta=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Sr(t,e)},bt="0deg",Yt="0px",wt=") ",Sr=function(t,e){var i=e||this,s=i.xPercent,n=i.yPercent,a=i.x,h=i.y,l=i.z,o=i.rotation,u=i.rotationY,f=i.rotationX,p=i.skewX,d=i.skewY,c=i.scaleX,_=i.scaleY,m=i.transformPerspective,g=i.force3D,y=i.target,x=i.zOrigin,b="",A=g==="auto"&&t&&t!==1||g===!0;if(x&&(f!==bt||u!==bt)){var w=parseFloat(u)*Ht,E=Math.sin(w),M=Math.cos(w),v;w=parseFloat(f)*Ht,v=Math.cos(w),a=Se(y,a,E*v*-x),h=Se(y,h,-Math.sin(w)*-x),l=Se(y,l,M*v*-x+x)}(s||n)&&(b="translate("+s+"%, "+n+"%) "),(A||a!==Yt||h!==Yt||l!==Yt)&&(b+=l!==Yt||A?"translate3d("+a+", "+h+", "+l+") ":"translate("+a+", "+h+wt),m!==Yt&&(b+="perspective("+m+wt),o!==bt&&(b+="rotate("+o+wt),u!==bt&&(b+="rotateY("+u+wt),f!==bt&&(b+="rotateX("+f+wt),(p!==bt||d!==bt)&&(b+="skew("+p+", "+d+wt),(c!==1||_!==1)&&(b+="scale("+c+", "+_+wt),y.style[Z]=b||"translate(0, 0)"},Ca=function(t,e){var i=e||this,s=i.xPercent,n=i.yPercent,a=i.x,h=i.y,l=i.rotation,o=i.skewX,u=i.skewY,f=i.scaleX,p=i.scaleY,d=i.target,c=i.xOrigin,_=i.yOrigin,m=i.xOffset,g=i.yOffset,y=i.forceCSS,x=parseFloat(a),b=parseFloat(h),A,w,E,M,v;l=parseFloat(l),o=parseFloat(o),u=parseFloat(u),u&&(u=parseFloat(u),o+=u,l+=u),l||o?(l*=Ht,o*=Ht,A=Math.cos(l)*f,w=Math.sin(l)*f,E=Math.sin(l-o)*-p,M=Math.cos(l-o)*p,o&&(u*=Ht,v=Math.tan(o-u),v=Math.sqrt(1+v*v),E*=v,M*=v,u&&(v=Math.tan(u),v=Math.sqrt(1+v*v),A*=v,w*=v)),A=k(A),w=k(w),E=k(E),M=k(M)):(A=f,M=p,w=E=0),(x&&!~(a+"").indexOf("px")||b&&!~(h+"").indexOf("px"))&&(x=Ct(d,"x",a,"px"),b=Ct(d,"y",h,"px")),(c||_||m||g)&&(x=k(x+c-(c*A+_*E)+m),b=k(b+_-(c*w+_*M)+g)),(s||n)&&(v=d.getBBox(),x=k(x+s/100*v.width),b=k(b+n/100*v.height)),v="matrix("+A+","+w+","+E+","+M+","+x+","+b+")",d.setAttribute("transform",v),y&&(d.style[Z]=v)},Pa=function(t,e,i,s,n,a){var h=360,l=N(n),o=parseFloat(n)*(l&&~n.indexOf("rad")?At:1),u=a?o*a:o-s,f=s+u+"deg",p,d;return l&&(p=n.split("_")[1],p==="short"&&(u%=h,u!==u%(h/2)&&(u+=u<0?h:-h)),p==="cw"&&u<0?u=(u+h*Ei)%h-~~(u/h)*h:p==="ccw"&&u>0&&(u=(u-h*Ei)%h-~~(u/h)*h)),t._pt=d=new U(t._pt,e,i,s,u,pa),d.e=f,d.u="deg",t._props.push(i),d},Oa=function(t,e,i){var s=Gt.style,n=i._gsap,a,h,l,o,u,f,p,d;s.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",s[Z]=e,at.body.appendChild(Gt),a=Mr(Gt,1);for(h in _t)l=n[h],o=a[h],l!==o&&h!=="perspective"&&(p=ct(l),d=ct(o),u=p!==d?Ct(i,h,l,d):parseFloat(l),f=parseFloat(o),t._pt=new U(t._pt,n,h,u,f-u,_r),t._pt.u=d,t._props.push(h));at.body.removeChild(Gt)},Tr={name:"css",register:Re,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,s,n){var a=this._props,h=t.style,l,o,u,f,p,d,c,_,m,g,y,x,b,A,w;qe||Re();for(c in e)if(c!=="autoRound"&&(o=e[c],!(Y[c]&&or(c,e,i,s,t,n))))if(p=typeof o,d=Sa[c],p==="function"&&(o=o.call(i,s,t,n),p=typeof o),p==="string"&&~o.indexOf("random(")&&(o=de(o)),d)d(this,t,c,o,i)&&(w=1);else if(c.substr(0,2)==="--")this.add(h,"setProperty",getComputedStyle(t).getPropertyValue(c)+"",o+"",s,n,0,0,c);else{if(l=ee(t,c),f=parseFloat(l),g=p==="string"&&o.charAt(1)==="="?+(o.charAt(0)+"1"):0,g&&(o=o.substr(2)),u=parseFloat(o),c in Mt&&(c==="autoAlpha"&&(f===1&&ee(t,"visibility")==="hidden"&&u&&(f=0),pt(this,h,"visibility",f?"inherit":"hidden",u?"inherit":"hidden",!u)),c!=="scale"&&(c=Mt[c],~c.indexOf(",")&&(c=c.split(",")[0]))),y=c in _t,y){if(x||(b=t._gsap,A=e.smoothOrigin!==!1&&b.smooth,x=this._pt=new U(this._pt,h,Z,0,1,b.renderTransform,b),x.dep=1),c==="scale"){this._pt=new U(this._pt,t,"scale",f,g?g*u:u-f,0,0,Mi),a.push("scale");continue}else if(c==="transformOrigin"){o=Ea(o),b.svg?Ie(t,o,0,A,0,this):(m=parseFloat(o.split(" ")[2]),m!==b.zOrigin&&pt(this,b,"zOrigin",b.zOrigin,m),pt(this,h,c,ue(l),ue(o)));continue}else if(c==="svgOrigin"){Ie(t,o,1,A,0,this);continue}else if(c in Ar){Pa(this,b,c,f,o,g);continue}else if(c==="smoothOrigin"){pt(this,b,"smooth",b.smooth,o);continue}else if(c==="force3D"){b[c]=o;continue}else if(c==="transform"){Oa(this,o,t);continue}}if(y||(u||u===0)&&(f||f===0)&&!ca.test(o)&&c in h)_=(l+"").substr((f+"").length),m=(o+"").substr((u+"").length)||(c in j.units?j.units[c]:_),_!==m&&(f=Ct(t,c,l,m)),this._pt=new U(this._pt,y?b:h,c,f,g?g*u:u-f,m==="px"&&e.autoRound!==!1&&!y?_a:_r),this._pt.u=m||0,_!==m&&(this._pt.b=l,this._pt.r=ga);else if(c in h)va.call(this,t,c,l,o);else if(c in t)this.add(t,c,t[c],o,s,n);else{Ui("Invalid "+c+" tween "+o+". Missing plugin? gsap.registerPlugin()");continue}a.push(c)}w&&pr(this)},get:ee,aliases:Mt,getSetter:function(t,e,i){return e in _t&&e!==Tt&&(t._gsap.x||ee(t,"x"))?i&&vi===i?e==="scale"?Mi:xa:(vi=i||{})&&(e==="scale"?ba:wa):t.style&&!Be(t.style[e])?ma:~e.indexOf("-")?ya:Xe(t,e)}};W.utils.checkPrefix=se;(function(r,t,e,i){var s=tt(r+","+t+","+e,function(n){_t[n]=1});tt(t,function(n){j.units[n]="deg",Ar[n]=1}),Mt[s[13]]=r+","+t,tt(i,function(n){var a=n.split(":");Mt[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY");tt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){j.units[r]="px"});W.registerPlugin(Tr);var Ra=W.registerPlugin(Tr)||W;export{Oi as G,Da as M,Fa as P,ka as R,La as T,Di as V,$a as a,Ra as g};
