var Hr=Object.defineProperty;var jr=(r,t,e)=>t in r?Hr(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Ct=(r,t,e)=>(jr(r,typeof t!="symbol"?t+"":t,e),e),pi=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var T=(r,t,e)=>(pi(r,t,"read from private field"),e?e.call(r):t.get(r)),q=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Q=(r,t,e,i)=>(pi(r,t,"write to private field"),i?i.call(r,e):t.set(r,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.17.0
 * @author George Michael Brower
 * @license MIT
 */class dt{constructor(t,e,i,s,n="div"){this.parent=t,this.object=e,this.property=i,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(s),this.$name=document.createElement("div"),this.$name.classList.add("name"),dt.nextNameID=dt.nextNameID||0,this.$name.id=`lil-gui-name-${++dt.nextNameID}`,this.$widget=document.createElement(n),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(t){return this._name=t,this.$name.innerHTML=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled?this:(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t),this)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){const e=this.parent.add(this.object,this.property,t);return e.name(this._name),this.destroy(),e}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.object[this.property]=t,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class Zr extends dt{constructor(t,e,i){super(t,e,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function qe(r){let t,e;return(t=r.match(/(#|0x)?([a-f0-9]{6})/i))?e=t[2]:(t=r.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?e=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=r.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(e=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),e?"#"+e:!1}const Kr={isPrimitive:!0,match:r=>typeof r=="string",fromHexString:qe,toHexString:qe},ce={isPrimitive:!0,match:r=>typeof r=="number",fromHexString:r=>parseInt(r.substring(1),16),toHexString:r=>"#"+r.toString(16).padStart(6,0)},Qr={isPrimitive:!1,match:Array.isArray,fromHexString(r,t,e=1){const i=ce.fromHexString(r);t[0]=(i>>16&255)/255*e,t[1]=(i>>8&255)/255*e,t[2]=(i&255)/255*e},toHexString([r,t,e],i=1){i=255/i;const s=r*i<<16^t*i<<8^e*i<<0;return ce.toHexString(s)}},Jr={isPrimitive:!1,match:r=>Object(r)===r,fromHexString(r,t,e=1){const i=ce.fromHexString(r);t.r=(i>>16&255)/255*e,t.g=(i>>8&255)/255*e,t.b=(i&255)/255*e},toHexString({r,g:t,b:e},i=1){i=255/i;const s=r*i<<16^t*i<<8^e*i<<0;return ce.toHexString(s)}},ts=[Kr,ce,Qr,Jr];function es(r){return ts.find(t=>t.match(r))}class is extends dt{constructor(t,e,i,s){super(t,e,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=es(this.initialValue),this._rgbScale=s,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const n=qe(this.$text.value);n&&this._setValueFromHexString(n)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const e=this._format.fromHexString(t);this.setValue(e)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class Oe extends dt{constructor(t,e,i){super(t,e,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",s=>{s.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class rs extends dt{constructor(t,e,i,s,n,a){super(t,e,i,"number"),this._initInput(),this.min(s),this.max(n);const h=a!==void 0;this.step(h?a:this._getImplicitStep(),h),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,e=!0){return this._step=t,this._stepExplicit=e,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let e=(t-this._min)/(this._max-this._min);e=Math.max(0,Math.min(e,1)),this.$fill.style.width=e*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const t=()=>{let g=parseFloat(this.$input.value);isNaN(g)||(this._stepExplicit&&(g=this._snap(g)),this.setValue(this._clamp(g)))},e=g=>{const x=parseFloat(this.$input.value);isNaN(x)||(this._snapClampSetValue(x+g),this.$input.value=this.getValue())},i=g=>{g.code==="Enter"&&this.$input.blur(),g.code==="ArrowUp"&&(g.preventDefault(),e(this._step*this._arrowKeyMultiplier(g))),g.code==="ArrowDown"&&(g.preventDefault(),e(this._step*this._arrowKeyMultiplier(g)*-1))},s=g=>{this._inputFocused&&(g.preventDefault(),e(this._step*this._normalizeMouseWheel(g)))};let n=!1,a,h,l,o,u;const c=5,p=g=>{a=g.clientX,h=l=g.clientY,n=!0,o=this.getValue(),u=0,window.addEventListener("mousemove",f),window.addEventListener("mouseup",d)},f=g=>{if(n){const x=g.clientX-a,y=g.clientY-h;Math.abs(y)>c?(g.preventDefault(),this.$input.blur(),n=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(x)>c&&d()}if(!n){const x=g.clientY-l;u-=x*this._step*this._arrowKeyMultiplier(g),o+u>this._max?u=this._max-o:o+u<this._min&&(u=this._min-o),this._snapClampSetValue(o+u)}l=g.clientY},d=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",d)},_=()=>{this._inputFocused=!0},m=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",t),this.$input.addEventListener("keydown",i),this.$input.addEventListener("wheel",s,{passive:!1}),this.$input.addEventListener("mousedown",p),this.$input.addEventListener("focus",_),this.$input.addEventListener("blur",m)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const t=(g,x,y,b,v)=>(g-x)/(y-x)*(v-b)+b,e=g=>{const x=this.$slider.getBoundingClientRect();let y=t(g,x.left,x.right,this._min,this._max);this._snapClampSetValue(y)},i=g=>{this._setDraggingStyle(!0),e(g.clientX),window.addEventListener("mousemove",s),window.addEventListener("mouseup",n)},s=g=>{e(g.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",n)};let a=!1,h,l;const o=g=>{g.preventDefault(),this._setDraggingStyle(!0),e(g.touches[0].clientX),a=!1},u=g=>{g.touches.length>1||(this._hasScrollBar?(h=g.touches[0].clientX,l=g.touches[0].clientY,a=!0):o(g),window.addEventListener("touchmove",c,{passive:!1}),window.addEventListener("touchend",p))},c=g=>{if(a){const x=g.touches[0].clientX-h,y=g.touches[0].clientY-l;Math.abs(x)>Math.abs(y)?o(g):(window.removeEventListener("touchmove",c),window.removeEventListener("touchend",p))}else g.preventDefault(),e(g.touches[0].clientX)},p=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",c),window.removeEventListener("touchend",p)},f=this._callOnFinishChange.bind(this),d=400;let _;const m=g=>{if(Math.abs(g.deltaX)<Math.abs(g.deltaY)&&this._hasScrollBar)return;g.preventDefault();const y=this._normalizeMouseWheel(g)*this._step;this._snapClampSetValue(this.getValue()+y),this.$input.value=this.getValue(),clearTimeout(_),_=setTimeout(f,d)};this.$slider.addEventListener("mousedown",i),this.$slider.addEventListener("touchstart",u,{passive:!1}),this.$slider.addEventListener("wheel",m,{passive:!1})}_setDraggingStyle(t,e="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${e}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:e,deltaY:i}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(e=0,i=-t.wheelDelta/120,i*=this._stepExplicit?1:10),e+-i}_arrowKeyMultiplier(t){let e=this._stepExplicit?1:10;return t.shiftKey?e*=10:t.altKey&&(e/=10),e}_snap(t){const e=Math.round(t/this._step)*this._step;return parseFloat(e.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class ss extends dt{constructor(t,e,i,s){super(t,e,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(s)?s:Object.values(s),this._names=Array.isArray(s)?s:Object.keys(s),this._names.forEach(n=>{const a=document.createElement("option");a.innerHTML=n,this.$select.appendChild(a)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const t=this.getValue(),e=this._values.indexOf(t);return this.$select.selectedIndex=e,this.$display.innerHTML=e===-1?t:this._names[e],this}}class ns extends dt{constructor(t,e,i){super(t,e,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",s=>{s.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const as=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function hs(r){const t=document.createElement("style");t.innerHTML=r;const e=document.querySelector("head link[rel=stylesheet], head style");e?document.head.insertBefore(t,e):document.head.appendChild(t)}let gi=!1;class si{constructor({parent:t,autoPlace:e=t===void 0,container:i,width:s,title:n="Controls",injectStyles:a=!0,touchStyles:h=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",l=>{(l.code==="Enter"||l.code==="Space")&&(l.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(n),h&&this.domElement.classList.add("allow-touch-styles"),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),!gi&&a&&(hs(as),gi=!0),i?i.appendChild(this.domElement):e&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),s&&this.domElement.style.setProperty("--width",s+"px"),this.domElement.addEventListener("keydown",l=>l.stopPropagation()),this.domElement.addEventListener("keyup",l=>l.stopPropagation())}add(t,e,i,s,n){if(Object(i)===i)return new ss(this,t,e,i);const a=t[e];switch(typeof a){case"number":return new rs(this,t,e,i,s,n);case"boolean":return new Zr(this,t,e);case"string":return new ns(this,t,e);case"function":return new Oe(this,t,e)}console.error(`gui.add failed
	property:`,e,`
	object:`,t,`
	value:`,a)}addColor(t,e,i=1){return new is(this,t,e,i)}addFolder(t){return new si({parent:this,title:t})}load(t,e=!0){return t.controllers&&this.controllers.forEach(i=>{i instanceof Oe||i._name in t.controllers&&i.load(t.controllers[i._name])}),e&&t.folders&&this.folders.forEach(i=>{i._title in t.folders&&i.load(t.folders[i._title])}),this}save(t=!0){const e={controllers:{},folders:{}};return this.controllers.forEach(i=>{if(!(i instanceof Oe)){if(i._name in e.controllers)throw new Error(`Cannot save GUI with duplicate property "${i._name}"`);e.controllers[i._name]=i.save()}}),t&&this.folders.forEach(i=>{if(i._title in e.folders)throw new Error(`Cannot save GUI with duplicate folder "${i._title}"`);e.folders[i._title]=i.save()}),e}open(t=!0){return this._closed=!t,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._closed=!t,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const e=this.$children.clientHeight;this.$children.style.height=e+"px",this.domElement.classList.add("transition");const i=n=>{n.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);const s=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame(()=>{this.$children.style.height=s+"px"})}),this}title(t){return this._title=t,this.$title.innerHTML=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),this._onChange!==void 0&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(e=>{t=t.concat(e.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(e=>{t=t.concat(e.foldersRecursive())}),t}}function _i(r){let t=r[0],e=r[1],i=r[2];return Math.sqrt(t*t+e*e+i*i)}function We(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function ls(r,t,e,i){return r[0]=t,r[1]=e,r[2]=i,r}function mi(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r[2]=t[2]+e[2],r}function xi(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r[2]=t[2]-e[2],r}function os(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r[2]=t[2]*e[2],r}function us(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r[2]=t[2]/e[2],r}function ke(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e,r}function cs(r,t){let e=t[0]-r[0],i=t[1]-r[1],s=t[2]-r[2];return Math.sqrt(e*e+i*i+s*s)}function fs(r,t){let e=t[0]-r[0],i=t[1]-r[1],s=t[2]-r[2];return e*e+i*i+s*s}function yi(r){let t=r[0],e=r[1],i=r[2];return t*t+e*e+i*i}function ds(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}function ps(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}function He(r,t){let e=t[0],i=t[1],s=t[2],n=e*e+i*i+s*s;return n>0&&(n=1/Math.sqrt(n)),r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r}function Qi(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}function bi(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[0],h=e[1],l=e[2];return r[0]=s*l-n*h,r[1]=n*a-i*l,r[2]=i*h-s*a,r}function gs(r,t,e,i){let s=t[0],n=t[1],a=t[2];return r[0]=s+i*(e[0]-s),r[1]=n+i*(e[1]-n),r[2]=a+i*(e[2]-a),r}function _s(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[3]*i+e[7]*s+e[11]*n+e[15];return a=a||1,r[0]=(e[0]*i+e[4]*s+e[8]*n+e[12])/a,r[1]=(e[1]*i+e[5]*s+e[9]*n+e[13])/a,r[2]=(e[2]*i+e[6]*s+e[10]*n+e[14])/a,r}function ms(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[3]*i+e[7]*s+e[11]*n+e[15];return a=a||1,r[0]=(e[0]*i+e[4]*s+e[8]*n)/a,r[1]=(e[1]*i+e[5]*s+e[9]*n)/a,r[2]=(e[2]*i+e[6]*s+e[10]*n)/a,r}function xs(r,t,e){let i=t[0],s=t[1],n=t[2];return r[0]=i*e[0]+s*e[3]+n*e[6],r[1]=i*e[1]+s*e[4]+n*e[7],r[2]=i*e[2]+s*e[5]+n*e[8],r}function ys(r,t,e){let i=t[0],s=t[1],n=t[2],a=e[0],h=e[1],l=e[2],o=e[3],u=h*n-l*s,c=l*i-a*n,p=a*s-h*i,f=h*p-l*c,d=l*u-a*p,_=a*c-h*u,m=o*2;return u*=m,c*=m,p*=m,f*=2,d*=2,_*=2,r[0]=i+u+f,r[1]=s+c+d,r[2]=n+p+_,r}const bs=function(){const r=[0,0,0],t=[0,0,0];return function(e,i){We(r,e),We(t,i),He(r,r),He(t,t);let s=Qi(r,t);return s>1?0:s<-1?Math.PI:Math.acos(s)}}();function ws(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}class rt extends Array{constructor(t=0,e=t,i=t){return super(t,e,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,i=t){return t.length?this.copy(t):(ls(this,t,e,i),this)}copy(t){return We(this,t),this}add(t,e){return e?mi(this,t,e):mi(this,this,t),this}sub(t,e){return e?xi(this,t,e):xi(this,this,t),this}multiply(t){return t.length?os(this,this,t):ke(this,this,t),this}divide(t){return t.length?us(this,this,t):ke(this,this,1/t),this}inverse(t=this){return ps(this,t),this}len(){return _i(this)}distance(t){return t?cs(this,t):_i(this)}squaredLen(){return yi(this)}squaredDistance(t){return t?fs(this,t):yi(this)}negate(t=this){return ds(this,t),this}cross(t,e){return e?bi(this,t,e):bi(this,this,t),this}scale(t){return ke(this,this,t),this}normalize(){return He(this,this),this}dot(t){return Qi(this,t)}equals(t){return ws(this,t)}applyMatrix3(t){return xs(this,this,t),this}applyMatrix4(t){return _s(this,this,t),this}scaleRotateMatrix4(t){return ms(this,this,t),this}applyQuaternion(t){return ys(this,this,t),this}angle(t){return bs(this,t)}lerp(t,e){return gs(this,this,t,e),this}clone(){return new rt(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){const e=this[0],i=this[1],s=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*s,this[1]=t[1]*e+t[5]*i+t[9]*s,this[2]=t[2]*e+t[6]*i+t[10]*s,this.normalize()}}const wi=new rt;let vs=1,As=1,vi=!1;class Es{constructor(t,e={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=vs++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let i in e)this.addAttribute(i,e[i])}addAttribute(t,e){if(this.attributes[t]=e,e.id=As++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else t==="index"?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){const e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((e,{name:i,type:s})=>{if(!this.attributes[i]){console.warn(`active attribute ${i} not being supplied`);return}const n=this.attributes[i];this.gl.bindBuffer(n.target,n.buffer),this.glState.boundBuffer=n.buffer;let a=1;s===35674&&(a=2),s===35675&&(a=3),s===35676&&(a=4);const h=n.size/a,l=a===1?0:a*a*a,o=a===1?0:a*a;for(let u=0;u<a;u++)this.gl.vertexAttribPointer(e+u,h,n.type,n.normalized,n.stride+l,n.offset+u*o),this.gl.enableVertexAttribArray(e+u),this.gl.renderer.vertexAttribDivisor(e+u,n.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((i,{name:s})=>{const n=this.attributes[s];n.needsUpdate&&this.updateAttribute(n)}),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*2):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!vi)return console.warn("No position buffer data found to compute bounds"),vi=!0}computeBoundingBox(t){t||(t=this.getPosition());const e=t.data,i=t.stride?t.stride/e.BYTES_PER_ELEMENT:t.size;this.bounds||(this.bounds={min:new rt,max:new rt,center:new rt,scale:new rt,radius:1/0});const s=this.bounds.min,n=this.bounds.max,a=this.bounds.center,h=this.bounds.scale;s.set(1/0),n.set(-1/0);for(let l=0,o=e.length;l<o;l+=i){const u=e[l],c=e[l+1],p=e[l+2];s.x=Math.min(u,s.x),s.y=Math.min(c,s.y),s.z=Math.min(p,s.z),n.x=Math.max(u,n.x),n.y=Math.max(c,n.y),n.z=Math.max(p,n.z)}h.sub(n,s),a.add(s,n).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const e=t.data,i=t.stride?t.stride/e.BYTES_PER_ELEMENT:t.size;this.bounds||this.computeBoundingBox(t);let s=0;for(let n=0,a=e.length;n<a;n+=i)wi.fromArray(e,n),s=Math.max(s,this.bounds.center.squaredDistance(wi));this.bounds.radius=Math.sqrt(s)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let Ms=1;const Ai={};class Ss{constructor(t,{vertex:e,fragment:i,uniforms:s={},transparent:n=!1,cullFace:a=t.BACK,frontFace:h=t.CCW,depthTest:l=!0,depthWrite:o=!0,depthFunc:u=t.LESS}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=s,this.id=Ms++,e||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=n,this.cullFace=a,this.frontFace=h,this.depthTest=l,this.depthWrite=o,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA));const c=t.createShader(t.VERTEX_SHADER);t.shaderSource(c,e),t.compileShader(c),t.getShaderInfoLog(c)!==""&&console.warn(`${t.getShaderInfoLog(c)}
Vertex Shader
${Ei(e)}`);const p=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(p,i),t.compileShader(p),t.getShaderInfoLog(p)!==""&&console.warn(`${t.getShaderInfoLog(p)}
Fragment Shader
${Ei(i)}`),this.program=t.createProgram(),t.attachShader(this.program,c),t.attachShader(this.program,p),t.linkProgram(this.program),!t.getProgramParameter(this.program,t.LINK_STATUS))return console.warn(t.getProgramInfoLog(this.program));t.deleteShader(c),t.deleteShader(p),this.uniformLocations=new Map;let f=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS);for(let m=0;m<f;m++){let g=t.getActiveUniform(this.program,m);this.uniformLocations.set(g,t.getUniformLocation(this.program,g.name));const x=g.name.match(/(\w+)/g);g.uniformName=x[0],x.length===3?(g.isStructArray=!0,g.structIndex=Number(x[1]),g.structProperty=x[2]):x.length===2&&isNaN(Number(x[1]))&&(g.isStruct=!0,g.structProperty=x[1])}this.attributeLocations=new Map;const d=[],_=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES);for(let m=0;m<_;m++){const g=t.getActiveAttrib(this.program,m),x=t.getAttribLocation(this.program,g.name);x!==-1&&(d[x]=g.name,this.attributeLocations.set(g,x))}this.attributeOrder=d.join("")}setBlendFunc(t,e,i,s){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=s,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((s,n)=>{let a=n.uniformName,h=this.uniforms[a];if(n.isStruct&&(h=h[n.structProperty],a+=`.${n.structProperty}`),n.isStructArray&&(h=h[n.structIndex][n.structProperty],a+=`[${n.structIndex}].${n.structProperty}`),!h)return Mi(`Active uniform ${a} has not been supplied`);if(h&&h.value===void 0)return Mi(`${a} uniform is missing a value parameter`);if(h.value.texture)return e=e+1,h.value.update(e),De(this.gl,n.type,s,e);if(h.value.length&&h.value[0].texture){const l=[];return h.value.forEach(o=>{e=e+1,o.update(e),l.push(e)}),De(this.gl,n.type,s,l)}De(this.gl,n.type,s,h.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function De(r,t,e,i){i=i.length?Ts(i):i;const s=r.renderer.state.uniformLocations.get(e);if(i.length)if(s===void 0||s.length!==i.length)r.renderer.state.uniformLocations.set(e,i.slice(0));else{if(Cs(s,i))return;s.set?s.set(i):Ps(s,i),r.renderer.state.uniformLocations.set(e,s)}else{if(s===i)return;r.renderer.state.uniformLocations.set(e,i)}switch(t){case 5126:return i.length?r.uniform1fv(e,i):r.uniform1f(e,i);case 35664:return r.uniform2fv(e,i);case 35665:return r.uniform3fv(e,i);case 35666:return r.uniform4fv(e,i);case 35670:case 5124:case 35678:case 35680:return i.length?r.uniform1iv(e,i):r.uniform1i(e,i);case 35671:case 35667:return r.uniform2iv(e,i);case 35672:case 35668:return r.uniform3iv(e,i);case 35673:case 35669:return r.uniform4iv(e,i);case 35674:return r.uniformMatrix2fv(e,!1,i);case 35675:return r.uniformMatrix3fv(e,!1,i);case 35676:return r.uniformMatrix4fv(e,!1,i)}}function Ei(r){let t=r.split(`
`);for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join(`
`)}function Ts(r){const t=r.length,e=r[0].length;if(e===void 0)return r;const i=t*e;let s=Ai[i];s||(Ai[i]=s=new Float32Array(i));for(let n=0;n<t;n++)s.set(r[n],n*e);return s}function Cs(r,t){if(r.length!==t.length)return!1;for(let e=0,i=r.length;e<i;e++)if(r[e]!==t[e])return!1;return!0}function Ps(r,t){for(let e=0,i=r.length;e<i;e++)r[e]=t[e]}let Le=0;function Mi(r){Le>100||(console.warn(r),Le++,Le>100&&console.warn("More than 100 program warnings - stopping logs."))}const Re=new rt;let Fs=1;class Os{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:s=1,alpha:n=!1,depth:a=!0,stencil:h=!1,antialias:l=!1,premultipliedAlpha:o=!1,preserveDrawingBuffer:u=!1,powerPreference:c="default",autoClear:p=!0,webgl:f=2}={}){const d={alpha:n,depth:a,stencil:h,antialias:l,premultipliedAlpha:o,preserveDrawingBuffer:u,powerPreference:c};this.dpr=s,this.alpha=n,this.color=!0,this.depth=a,this.stencil=h,this.premultipliedAlpha=o,this.autoClear=p,this.id=Fs++,f===2&&(this.gl=t.getContext("webgl2",d)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",d)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=null,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LESS,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,i=0,s=0){this.state.viewport.width===t&&this.state.viewport.height===e||(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=i,this.state.viewport.y=s,this.gl.viewport(i,s,t,e))}setScissor(t,e,i=0,s=0){this.gl.scissor(i,s,t,e)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,s){this.state.blendFunc.src===t&&this.state.blendFunc.dst===e&&this.state.blendFunc.srcAlpha===i&&this.state.blendFunc.dstAlpha===s||(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=s,i!==void 0?this.gl.blendFuncSeparate(t,e,i,s):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,e!==void 0?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:i,sort:s}){let n=[];if(e&&i&&e.updateFrustum(),t.traverse(a=>{if(!a.visible)return!0;a.draw&&(i&&a.frustumCulled&&e&&!e.frustumIntersectsMesh(a)||n.push(a))}),s){const a=[],h=[],l=[];n.forEach(o=>{o.program.transparent?o.program.depthTest?h.push(o):l.push(o):a.push(o),o.zDepth=0,!(o.renderOrder!==0||!o.program.depthTest||!e)&&(o.worldMatrix.getTranslation(Re),Re.applyMatrix4(e.projectionViewMatrix),o.zDepth=Re.z)}),a.sort(this.sortOpaque),h.sort(this.sortTransparent),l.sort(this.sortUI),n=a.concat(h,l)}return n}render({scene:t,camera:e,target:i=null,update:s=!0,sort:n=!0,frustumCull:a=!0,clear:h}){i===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(h||this.autoClear&&h!==!1)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:a,sort:n}).forEach(o=>{o.draw({camera:e})})}}function ks(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function Ds(r,t,e,i,s){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r}function Ls(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e*e+i*i+s*s+n*n;return a>0&&(a=1/Math.sqrt(a)),r[0]=e*a,r[1]=i*a,r[2]=s*a,r[3]=n*a,r}function Rs(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}function $s(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function zs(r,t,e){e=e*.5;let i=Math.sin(e);return r[0]=i*t[0],r[1]=i*t[1],r[2]=i*t[2],r[3]=Math.cos(e),r}function Si(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=e[0],l=e[1],o=e[2],u=e[3];return r[0]=i*u+a*h+s*o-n*l,r[1]=s*u+a*l+n*h-i*o,r[2]=n*u+a*o+i*l-s*h,r[3]=a*u-i*h-s*l-n*o,r}function Is(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],a=t[3],h=Math.sin(e),l=Math.cos(e);return r[0]=i*l+a*h,r[1]=s*l+n*h,r[2]=n*l-s*h,r[3]=a*l-i*h,r}function Bs(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],a=t[3],h=Math.sin(e),l=Math.cos(e);return r[0]=i*l-n*h,r[1]=s*l+a*h,r[2]=n*l+i*h,r[3]=a*l-s*h,r}function Vs(r,t,e){e*=.5;let i=t[0],s=t[1],n=t[2],a=t[3],h=Math.sin(e),l=Math.cos(e);return r[0]=i*l+s*h,r[1]=s*l-i*h,r[2]=n*l+a*h,r[3]=a*l-n*h,r}function Ns(r,t,e,i){let s=t[0],n=t[1],a=t[2],h=t[3],l=e[0],o=e[1],u=e[2],c=e[3],p,f,d,_,m;return f=s*l+n*o+a*u+h*c,f<0&&(f=-f,l=-l,o=-o,u=-u,c=-c),1-f>1e-6?(p=Math.acos(f),d=Math.sin(p),_=Math.sin((1-i)*p)/d,m=Math.sin(i*p)/d):(_=1-i,m=i),r[0]=_*s+m*l,r[1]=_*n+m*o,r[2]=_*a+m*u,r[3]=_*h+m*c,r}function Us(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e*e+i*i+s*s+n*n,h=a?1/a:0;return r[0]=-e*h,r[1]=-i*h,r[2]=-s*h,r[3]=n*h,r}function Ys(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r}function Xs(r,t){let e=t[0]+t[4]+t[8],i;if(e>0)i=Math.sqrt(e+1),r[3]=.5*i,i=.5/i,r[0]=(t[5]-t[7])*i,r[1]=(t[6]-t[2])*i,r[2]=(t[1]-t[3])*i;else{let s=0;t[4]>t[0]&&(s=1),t[8]>t[s*3+s]&&(s=2);let n=(s+1)%3,a=(s+2)%3;i=Math.sqrt(t[s*3+s]-t[n*3+n]-t[a*3+a]+1),r[s]=.5*i,i=.5/i,r[3]=(t[n*3+a]-t[a*3+n])*i,r[n]=(t[n*3+s]+t[s*3+n])*i,r[a]=(t[a*3+s]+t[s*3+a])*i}return r}function Gs(r,t,e="YXZ"){let i=Math.sin(t[0]*.5),s=Math.cos(t[0]*.5),n=Math.sin(t[1]*.5),a=Math.cos(t[1]*.5),h=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return e==="XYZ"?(r[0]=i*a*l+s*n*h,r[1]=s*n*l-i*a*h,r[2]=s*a*h+i*n*l,r[3]=s*a*l-i*n*h):e==="YXZ"?(r[0]=i*a*l+s*n*h,r[1]=s*n*l-i*a*h,r[2]=s*a*h-i*n*l,r[3]=s*a*l+i*n*h):e==="ZXY"?(r[0]=i*a*l-s*n*h,r[1]=s*n*l+i*a*h,r[2]=s*a*h+i*n*l,r[3]=s*a*l-i*n*h):e==="ZYX"?(r[0]=i*a*l-s*n*h,r[1]=s*n*l+i*a*h,r[2]=s*a*h-i*n*l,r[3]=s*a*l+i*n*h):e==="YZX"?(r[0]=i*a*l+s*n*h,r[1]=s*n*l+i*a*h,r[2]=s*a*h-i*n*l,r[3]=s*a*l-i*n*h):e==="XZY"&&(r[0]=i*a*l-s*n*h,r[1]=s*n*l-i*a*h,r[2]=s*a*h+i*n*l,r[3]=s*a*l+i*n*h),r}const qs=ks,Ws=Ds,Hs=Rs,js=Ls;class Zs extends Array{constructor(t=0,e=0,i=0,s=1){return super(t,e,i,s),this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set w(t){this[3]=t,this.onChange()}identity(){return $s(this),this.onChange(),this}set(t,e,i,s){return t.length?this.copy(t):(Ws(this,t,e,i,s),this.onChange(),this)}rotateX(t){return Is(this,this,t),this.onChange(),this}rotateY(t){return Bs(this,this,t),this.onChange(),this}rotateZ(t){return Vs(this,this,t),this.onChange(),this}inverse(t=this){return Us(this,t),this.onChange(),this}conjugate(t=this){return Ys(this,t),this.onChange(),this}copy(t){return qs(this,t),this.onChange(),this}normalize(t=this){return js(this,t),this.onChange(),this}multiply(t,e){return e?Si(this,t,e):Si(this,this,t),this.onChange(),this}dot(t){return Hs(this,t)}fromMatrix3(t){return Xs(this,t),this.onChange(),this}fromEuler(t){return Gs(this,t,t.order),this}fromAxisAngle(t,e){return zs(this,t,e),this.onChange(),this}slerp(t,e){return Ns(this,this,t,e),this.onChange(),this}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}const Ks=1e-6;function Qs(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function Js(r,t,e,i,s,n,a,h,l,o,u,c,p,f,d,_,m){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r[4]=n,r[5]=a,r[6]=h,r[7]=l,r[8]=o,r[9]=u,r[10]=c,r[11]=p,r[12]=f,r[13]=d,r[14]=_,r[15]=m,r}function tn(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function en(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],h=t[5],l=t[6],o=t[7],u=t[8],c=t[9],p=t[10],f=t[11],d=t[12],_=t[13],m=t[14],g=t[15],x=e*h-i*a,y=e*l-s*a,b=e*o-n*a,v=i*l-s*h,w=i*o-n*h,E=s*o-n*l,M=u*_-c*d,A=u*m-p*d,C=u*g-f*d,P=c*m-p*_,F=c*g-f*_,k=p*g-f*m,S=x*k-y*F+b*P+v*C-w*A+E*M;return S?(S=1/S,r[0]=(h*k-l*F+o*P)*S,r[1]=(s*F-i*k-n*P)*S,r[2]=(_*E-m*w+g*v)*S,r[3]=(p*w-c*E-f*v)*S,r[4]=(l*C-a*k-o*A)*S,r[5]=(e*k-s*C+n*A)*S,r[6]=(m*b-d*E-g*y)*S,r[7]=(u*E-p*b+f*y)*S,r[8]=(a*F-h*C+o*M)*S,r[9]=(i*C-e*F-n*M)*S,r[10]=(d*w-_*b+g*x)*S,r[11]=(c*b-u*w-f*x)*S,r[12]=(h*A-a*P-l*M)*S,r[13]=(e*P-i*A+s*M)*S,r[14]=(_*y-d*v-m*x)*S,r[15]=(u*v-c*y+p*x)*S,r):null}function rn(r){let t=r[0],e=r[1],i=r[2],s=r[3],n=r[4],a=r[5],h=r[6],l=r[7],o=r[8],u=r[9],c=r[10],p=r[11],f=r[12],d=r[13],_=r[14],m=r[15],g=t*a-e*n,x=t*h-i*n,y=t*l-s*n,b=e*h-i*a,v=e*l-s*a,w=i*l-s*h,E=o*d-u*f,M=o*_-c*f,A=o*m-p*f,C=u*_-c*d,P=u*m-p*d,F=c*m-p*_;return g*F-x*P+y*C+b*A-v*M+w*E}function Ti(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],c=t[8],p=t[9],f=t[10],d=t[11],_=t[12],m=t[13],g=t[14],x=t[15],y=e[0],b=e[1],v=e[2],w=e[3];return r[0]=y*i+b*h+v*c+w*_,r[1]=y*s+b*l+v*p+w*m,r[2]=y*n+b*o+v*f+w*g,r[3]=y*a+b*u+v*d+w*x,y=e[4],b=e[5],v=e[6],w=e[7],r[4]=y*i+b*h+v*c+w*_,r[5]=y*s+b*l+v*p+w*m,r[6]=y*n+b*o+v*f+w*g,r[7]=y*a+b*u+v*d+w*x,y=e[8],b=e[9],v=e[10],w=e[11],r[8]=y*i+b*h+v*c+w*_,r[9]=y*s+b*l+v*p+w*m,r[10]=y*n+b*o+v*f+w*g,r[11]=y*a+b*u+v*d+w*x,y=e[12],b=e[13],v=e[14],w=e[15],r[12]=y*i+b*h+v*c+w*_,r[13]=y*s+b*l+v*p+w*m,r[14]=y*n+b*o+v*f+w*g,r[15]=y*a+b*u+v*d+w*x,r}function sn(r,t,e){let i=e[0],s=e[1],n=e[2],a,h,l,o,u,c,p,f,d,_,m,g;return t===r?(r[12]=t[0]*i+t[4]*s+t[8]*n+t[12],r[13]=t[1]*i+t[5]*s+t[9]*n+t[13],r[14]=t[2]*i+t[6]*s+t[10]*n+t[14],r[15]=t[3]*i+t[7]*s+t[11]*n+t[15]):(a=t[0],h=t[1],l=t[2],o=t[3],u=t[4],c=t[5],p=t[6],f=t[7],d=t[8],_=t[9],m=t[10],g=t[11],r[0]=a,r[1]=h,r[2]=l,r[3]=o,r[4]=u,r[5]=c,r[6]=p,r[7]=f,r[8]=d,r[9]=_,r[10]=m,r[11]=g,r[12]=a*i+u*s+d*n+t[12],r[13]=h*i+c*s+_*n+t[13],r[14]=l*i+p*s+m*n+t[14],r[15]=o*i+f*s+g*n+t[15]),r}function nn(r,t,e){let i=e[0],s=e[1],n=e[2];return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r[4]=t[4]*s,r[5]=t[5]*s,r[6]=t[6]*s,r[7]=t[7]*s,r[8]=t[8]*n,r[9]=t[9]*n,r[10]=t[10]*n,r[11]=t[11]*n,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function an(r,t,e,i){let s=i[0],n=i[1],a=i[2],h=Math.hypot(s,n,a),l,o,u,c,p,f,d,_,m,g,x,y,b,v,w,E,M,A,C,P,F,k,S,R;return Math.abs(h)<Ks?null:(h=1/h,s*=h,n*=h,a*=h,l=Math.sin(e),o=Math.cos(e),u=1-o,c=t[0],p=t[1],f=t[2],d=t[3],_=t[4],m=t[5],g=t[6],x=t[7],y=t[8],b=t[9],v=t[10],w=t[11],E=s*s*u+o,M=n*s*u+a*l,A=a*s*u-n*l,C=s*n*u-a*l,P=n*n*u+o,F=a*n*u+s*l,k=s*a*u+n*l,S=n*a*u-s*l,R=a*a*u+o,r[0]=c*E+_*M+y*A,r[1]=p*E+m*M+b*A,r[2]=f*E+g*M+v*A,r[3]=d*E+x*M+w*A,r[4]=c*C+_*P+y*F,r[5]=p*C+m*P+b*F,r[6]=f*C+g*P+v*F,r[7]=d*C+x*P+w*F,r[8]=c*k+_*S+y*R,r[9]=p*k+m*S+b*R,r[10]=f*k+g*S+v*R,r[11]=d*k+x*S+w*R,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}function hn(r,t){return r[0]=t[12],r[1]=t[13],r[2]=t[14],r}function Ji(r,t){let e=t[0],i=t[1],s=t[2],n=t[4],a=t[5],h=t[6],l=t[8],o=t[9],u=t[10];return r[0]=Math.hypot(e,i,s),r[1]=Math.hypot(n,a,h),r[2]=Math.hypot(l,o,u),r}function ln(r){let t=r[0],e=r[1],i=r[2],s=r[4],n=r[5],a=r[6],h=r[8],l=r[9],o=r[10];const u=t*t+e*e+i*i,c=s*s+n*n+a*a,p=h*h+l*l+o*o;return Math.sqrt(Math.max(u,c,p))}const on=function(){const r=[0,0,0];return function(t,e){let i=r;Ji(i,e);let s=1/i[0],n=1/i[1],a=1/i[2],h=e[0]*s,l=e[1]*n,o=e[2]*a,u=e[4]*s,c=e[5]*n,p=e[6]*a,f=e[8]*s,d=e[9]*n,_=e[10]*a,m=h+c+_,g=0;return m>0?(g=Math.sqrt(m+1)*2,t[3]=.25*g,t[0]=(p-d)/g,t[1]=(f-o)/g,t[2]=(l-u)/g):h>c&&h>_?(g=Math.sqrt(1+h-c-_)*2,t[3]=(p-d)/g,t[0]=.25*g,t[1]=(l+u)/g,t[2]=(f+o)/g):c>_?(g=Math.sqrt(1+c-h-_)*2,t[3]=(f-o)/g,t[0]=(l+u)/g,t[1]=.25*g,t[2]=(p+d)/g):(g=Math.sqrt(1+_-h-c)*2,t[3]=(l-u)/g,t[0]=(f+o)/g,t[1]=(p+d)/g,t[2]=.25*g),t}}();function un(r,t,e,i){let s=t[0],n=t[1],a=t[2],h=t[3],l=s+s,o=n+n,u=a+a,c=s*l,p=s*o,f=s*u,d=n*o,_=n*u,m=a*u,g=h*l,x=h*o,y=h*u,b=i[0],v=i[1],w=i[2];return r[0]=(1-(d+m))*b,r[1]=(p+y)*b,r[2]=(f-x)*b,r[3]=0,r[4]=(p-y)*v,r[5]=(1-(c+m))*v,r[6]=(_+g)*v,r[7]=0,r[8]=(f+x)*w,r[9]=(_-g)*w,r[10]=(1-(c+d))*w,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function cn(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e+e,h=i+i,l=s+s,o=e*a,u=i*a,c=i*h,p=s*a,f=s*h,d=s*l,_=n*a,m=n*h,g=n*l;return r[0]=1-c-d,r[1]=u+g,r[2]=p-m,r[3]=0,r[4]=u-g,r[5]=1-o-d,r[6]=f+_,r[7]=0,r[8]=p+m,r[9]=f-_,r[10]=1-o-c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function fn(r,t,e,i,s){let n=1/Math.tan(t/2),a=1/(i-s);return r[0]=n/e,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(s+i)*a,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*s*i*a,r[15]=0,r}function dn(r,t,e,i,s,n,a){let h=1/(t-e),l=1/(i-s),o=1/(n-a);return r[0]=-2*h,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*o,r[11]=0,r[12]=(t+e)*h,r[13]=(s+i)*l,r[14]=(a+n)*o,r[15]=1,r}function pn(r,t,e,i){let s=t[0],n=t[1],a=t[2],h=i[0],l=i[1],o=i[2],u=s-e[0],c=n-e[1],p=a-e[2],f=u*u+c*c+p*p;f===0?p=1:(f=1/Math.sqrt(f),u*=f,c*=f,p*=f);let d=l*p-o*c,_=o*u-h*p,m=h*c-l*u;return f=d*d+_*_+m*m,f===0&&(o?h+=1e-6:l?o+=1e-6:l+=1e-6,d=l*p-o*c,_=o*u-h*p,m=h*c-l*u,f=d*d+_*_+m*m),f=1/Math.sqrt(f),d*=f,_*=f,m*=f,r[0]=d,r[1]=_,r[2]=m,r[3]=0,r[4]=c*m-p*_,r[5]=p*d-u*m,r[6]=u*_-c*d,r[7]=0,r[8]=u,r[9]=c,r[10]=p,r[11]=0,r[12]=s,r[13]=n,r[14]=a,r[15]=1,r}class Ae extends Array{constructor(t=1,e=0,i=0,s=0,n=0,a=1,h=0,l=0,o=0,u=0,c=1,p=0,f=0,d=0,_=0,m=1){return super(t,e,i,s,n,a,h,l,o,u,c,p,f,d,_,m),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,s,n,a,h,l,o,u,c,p,f,d,_,m){return t.length?this.copy(t):(Js(this,t,e,i,s,n,a,h,l,o,u,c,p,f,d,_,m),this)}translate(t,e=this){return sn(this,e,t),this}rotate(t,e,i=this){return an(this,i,t,e),this}scale(t,e=this){return nn(this,e,typeof t=="number"?[t,t,t]:t),this}multiply(t,e){return e?Ti(this,t,e):Ti(this,this,t),this}identity(){return tn(this),this}copy(t){return Qs(this,t),this}fromPerspective({fov:t,aspect:e,near:i,far:s}={}){return fn(this,t,e,i,s),this}fromOrthogonal({left:t,right:e,bottom:i,top:s,near:n,far:a}){return dn(this,t,e,i,s,n,a),this}fromQuaternion(t){return cn(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return en(this,t),this}compose(t,e,i){return un(this,t,e,i),this}getRotation(t){return on(t,this),this}getTranslation(t){return hn(t,this),this}getScaling(t){return Ji(t,this),this}getMaxScaleOnAxis(){return ln(this)}lookAt(t,e,i){return pn(this,t,e,i),this}determinant(){return rn(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}function gn(r,t,e="YXZ"){return e==="XYZ"?(r[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(r[0]=Math.atan2(-t[9],t[10]),r[2]=Math.atan2(-t[4],t[0])):(r[0]=Math.atan2(t[6],t[5]),r[2]=0)):e==="YXZ"?(r[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(r[1]=Math.atan2(t[8],t[10]),r[2]=Math.atan2(t[1],t[5])):(r[1]=Math.atan2(-t[2],t[0]),r[2]=0)):e==="ZXY"?(r[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(r[1]=Math.atan2(-t[2],t[10]),r[2]=Math.atan2(-t[4],t[5])):(r[1]=0,r[2]=Math.atan2(t[1],t[0]))):e==="ZYX"?(r[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(r[0]=Math.atan2(t[6],t[10]),r[2]=Math.atan2(t[1],t[0])):(r[0]=0,r[2]=Math.atan2(-t[4],t[5]))):e==="YZX"?(r[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(r[0]=Math.atan2(-t[9],t[5]),r[1]=Math.atan2(-t[2],t[0])):(r[0]=0,r[1]=Math.atan2(t[8],t[10]))):e==="XZY"&&(r[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(r[0]=Math.atan2(t[6],t[5]),r[1]=Math.atan2(t[8],t[0])):(r[0]=Math.atan2(-t[9],t[10]),r[1]=0)),r}const Ci=new Ae;class _n extends Array{constructor(t=0,e=t,i=t,s="YXZ"){return super(t,e,i),this.order=s,this.onChange=()=>{},this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t,this.onChange()}set y(t){this[1]=t,this.onChange()}set z(t){this[2]=t,this.onChange()}set(t,e=t,i=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this.onChange(),this)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.onChange(),this}reorder(t){return this.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return gn(this,t,e),this.onChange(),this}fromQuaternion(t,e=this.order){return Ci.fromQuaternion(t),this.fromRotationMatrix(Ci,e)}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class mn{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new Ae,this.worldMatrix=new Ae,this.matrixAutoUpdate=!0,this.position=new rt,this.quaternion=new Zs,this.scale=new rt(1),this.rotation=new _n,this.up=new rt(0,1,0),this.rotation.onChange=()=>this.quaternion.fromEuler(this.rotation),this.quaternion.onChange=()=>this.rotation.fromQuaternion(this.quaternion)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.getTranslation(this.position),this.matrix.getRotation(this.quaternion),this.matrix.getScaling(this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion),this.rotation.fromQuaternion(this.quaternion)}}function xn(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[4],r[4]=t[5],r[5]=t[6],r[6]=t[8],r[7]=t[9],r[8]=t[10],r}function yn(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=e+e,h=i+i,l=s+s,o=e*a,u=i*a,c=i*h,p=s*a,f=s*h,d=s*l,_=n*a,m=n*h,g=n*l;return r[0]=1-c-d,r[3]=u-g,r[6]=p+m,r[1]=u+g,r[4]=1-o-d,r[7]=f-_,r[2]=p-m,r[5]=f+_,r[8]=1-o-c,r}function bn(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function wn(r,t,e,i,s,n,a,h,l,o){return r[0]=t,r[1]=e,r[2]=i,r[3]=s,r[4]=n,r[5]=a,r[6]=h,r[7]=l,r[8]=o,r}function vn(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function An(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],h=t[5],l=t[6],o=t[7],u=t[8],c=u*a-h*o,p=-u*n+h*l,f=o*n-a*l,d=e*c+i*p+s*f;return d?(d=1/d,r[0]=c*d,r[1]=(-u*i+s*o)*d,r[2]=(h*i-s*a)*d,r[3]=p*d,r[4]=(u*e-s*l)*d,r[5]=(-h*e+s*n)*d,r[6]=f*d,r[7]=(-o*e+i*l)*d,r[8]=(a*e-i*n)*d,r):null}function Pi(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],c=t[8],p=e[0],f=e[1],d=e[2],_=e[3],m=e[4],g=e[5],x=e[6],y=e[7],b=e[8];return r[0]=p*i+f*a+d*o,r[1]=p*s+f*h+d*u,r[2]=p*n+f*l+d*c,r[3]=_*i+m*a+g*o,r[4]=_*s+m*h+g*u,r[5]=_*n+m*l+g*c,r[6]=x*i+y*a+b*o,r[7]=x*s+y*h+b*u,r[8]=x*n+y*l+b*c,r}function En(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],c=t[8],p=e[0],f=e[1];return r[0]=i,r[1]=s,r[2]=n,r[3]=a,r[4]=h,r[5]=l,r[6]=p*i+f*a+o,r[7]=p*s+f*h+u,r[8]=p*n+f*l+c,r}function Mn(r,t,e){let i=t[0],s=t[1],n=t[2],a=t[3],h=t[4],l=t[5],o=t[6],u=t[7],c=t[8],p=Math.sin(e),f=Math.cos(e);return r[0]=f*i+p*a,r[1]=f*s+p*h,r[2]=f*n+p*l,r[3]=f*a-p*i,r[4]=f*h-p*s,r[5]=f*l-p*n,r[6]=o,r[7]=u,r[8]=c,r}function Sn(r,t,e){let i=e[0],s=e[1];return r[0]=i*t[0],r[1]=i*t[1],r[2]=i*t[2],r[3]=s*t[3],r[4]=s*t[4],r[5]=s*t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function Tn(r,t){let e=t[0],i=t[1],s=t[2],n=t[3],a=t[4],h=t[5],l=t[6],o=t[7],u=t[8],c=t[9],p=t[10],f=t[11],d=t[12],_=t[13],m=t[14],g=t[15],x=e*h-i*a,y=e*l-s*a,b=e*o-n*a,v=i*l-s*h,w=i*o-n*h,E=s*o-n*l,M=u*_-c*d,A=u*m-p*d,C=u*g-f*d,P=c*m-p*_,F=c*g-f*_,k=p*g-f*m,S=x*k-y*F+b*P+v*C-w*A+E*M;return S?(S=1/S,r[0]=(h*k-l*F+o*P)*S,r[1]=(l*C-a*k-o*A)*S,r[2]=(a*F-h*C+o*M)*S,r[3]=(s*F-i*k-n*P)*S,r[4]=(e*k-s*C+n*A)*S,r[5]=(i*C-e*F-n*M)*S,r[6]=(_*E-m*w+g*v)*S,r[7]=(m*b-d*E-g*y)*S,r[8]=(d*w-_*b+g*x)*S,r):null}class Cn extends Array{constructor(t=1,e=0,i=0,s=0,n=1,a=0,h=0,l=0,o=1){return super(t,e,i,s,n,a,h,l,o),this}set(t,e,i,s,n,a,h,l,o){return t.length?this.copy(t):(wn(this,t,e,i,s,n,a,h,l,o),this)}translate(t,e=this){return En(this,e,t),this}rotate(t,e=this){return Mn(this,e,t),this}scale(t,e=this){return Sn(this,e,t),this}multiply(t,e){return e?Pi(this,t,e):Pi(this,this,t),this}identity(){return vn(this),this}copy(t){return bn(this,t),this}fromMatrix4(t){return xn(this,t),this}fromQuaternion(t){return yn(this,t),this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(t=this){return An(this,t),this}getNormalMatrix(t){return Tn(this,t),this}}let Pn=0;class Fn extends mn{constructor(t,{geometry:e,program:i,mode:s=t.TRIANGLES,frustumCulled:n=!0,renderOrder:a=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=Pn++,this.geometry=e,this.program=i,this.mode=s,this.frustumCulled=n,this.renderOrder=a,this.modelViewMatrix=new Ae,this.normalMatrix=new Cn,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){this.beforeRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t})),t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix);let e=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(i=>i&&i({mesh:this,camera:t}))}}const Fi=new Uint8Array(4);function Oi(r){return(r&r-1)===0}let On=1;class kn{constructor(t,{image:e,target:i=t.TEXTURE_2D,type:s=t.UNSIGNED_BYTE,format:n=t.RGBA,internalFormat:a=n,wrapS:h=t.CLAMP_TO_EDGE,wrapT:l=t.CLAMP_TO_EDGE,generateMipmaps:o=!0,minFilter:u=o?t.NEAREST_MIPMAP_LINEAR:t.LINEAR,magFilter:c=t.LINEAR,premultiplyAlpha:p=!1,unpackAlignment:f=4,flipY:d=i==t.TEXTURE_2D,anisotropy:_=0,level:m=0,width:g,height:x=g}={}){this.gl=t,this.id=On++,this.image=e,this.target=i,this.type=s,this.format=n,this.internalFormat=a,this.minFilter=u,this.magFilter=c,this.wrapS=h,this.wrapT=l,this.generateMipmaps=o,this.premultiplyAlpha=p,this.unpackAlignment=f,this.flipY=d,this.anisotropy=Math.min(_,this.gl.renderer.parameters.maxAnisotropy),this.level=m,this.width=g,this.height=x,this.texture=this.gl.createTexture(),this.store={image:null},this.glState=this.gl.renderer.state,this.state={},this.state.minFilter=this.gl.NEAREST_MIPMAP_LINEAR,this.state.magFilter=this.gl.LINEAR,this.state.wrapS=this.gl.REPEAT,this.state.wrapT=this.gl.REPEAT,this.state.anisotropy=0}bind(){this.glState.textureUnits[this.glState.activeTextureUnit]!==this.id&&(this.gl.bindTexture(this.target,this.texture),this.glState.textureUnits[this.glState.activeTextureUnit]=this.id)}update(t=0){const e=!(this.image===this.store.image&&!this.needsUpdate);if((e||this.glState.textureUnits[t]!==this.id)&&(this.gl.renderer.activeTexture(t),this.bind()),!!e){if(this.needsUpdate=!1,this.flipY!==this.glState.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this.flipY),this.glState.flipY=this.flipY),this.premultiplyAlpha!==this.glState.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),this.glState.premultiplyAlpha=this.premultiplyAlpha),this.unpackAlignment!==this.glState.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this.unpackAlignment),this.glState.unpackAlignment=this.unpackAlignment),this.minFilter!==this.state.minFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MIN_FILTER,this.minFilter),this.state.minFilter=this.minFilter),this.magFilter!==this.state.magFilter&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_MAG_FILTER,this.magFilter),this.state.magFilter=this.magFilter),this.wrapS!==this.state.wrapS&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_S,this.wrapS),this.state.wrapS=this.wrapS),this.wrapT!==this.state.wrapT&&(this.gl.texParameteri(this.target,this.gl.TEXTURE_WRAP_T,this.wrapT),this.state.wrapT=this.wrapT),this.anisotropy&&this.anisotropy!==this.state.anisotropy&&(this.gl.texParameterf(this.target,this.gl.renderer.getExtension("EXT_texture_filter_anisotropic").TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropy),this.state.anisotropy=this.anisotropy),this.image){if(this.image.width&&(this.width=this.image.width,this.height=this.image.height),this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,this.level,this.internalFormat,this.format,this.type,this.image[i]);else if(ArrayBuffer.isView(this.image))this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,this.image);else if(this.image.isCompressedTexture)for(let i=0;i<this.image.length;i++)this.gl.compressedTexImage2D(this.target,i,this.internalFormat,this.image[i].width,this.image[i].height,0,this.image[i].data);else this.gl.texImage2D(this.target,this.level,this.internalFormat,this.format,this.type,this.image);this.generateMipmaps&&(!this.gl.renderer.isWebgl2&&(!Oi(this.image.width)||!Oi(this.image.height))?(this.generateMipmaps=!1,this.wrapS=this.wrapT=this.gl.CLAMP_TO_EDGE,this.minFilter=this.gl.LINEAR):this.gl.generateMipmap(this.target)),this.onUpdate&&this.onUpdate()}else if(this.target===this.gl.TEXTURE_CUBE_MAP)for(let i=0;i<6;i++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Fi);else this.width?this.gl.texImage2D(this.target,this.level,this.internalFormat,this.width,this.height,0,this.format,this.type,null):this.gl.texImage2D(this.target,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,Fi);this.store.image=this.image}}}function Dn(r,t){return r[0]=t[0],r[1]=t[1],r}function Ln(r,t,e){return r[0]=t,r[1]=e,r}function ki(r,t,e){return r[0]=t[0]+e[0],r[1]=t[1]+e[1],r}function Di(r,t,e){return r[0]=t[0]-e[0],r[1]=t[1]-e[1],r}function Rn(r,t,e){return r[0]=t[0]*e[0],r[1]=t[1]*e[1],r}function $n(r,t,e){return r[0]=t[0]/e[0],r[1]=t[1]/e[1],r}function $e(r,t,e){return r[0]=t[0]*e,r[1]=t[1]*e,r}function zn(r,t){var e=t[0]-r[0],i=t[1]-r[1];return Math.sqrt(e*e+i*i)}function In(r,t){var e=t[0]-r[0],i=t[1]-r[1];return e*e+i*i}function Li(r){var t=r[0],e=r[1];return Math.sqrt(t*t+e*e)}function Bn(r){var t=r[0],e=r[1];return t*t+e*e}function Vn(r,t){return r[0]=-t[0],r[1]=-t[1],r}function Nn(r,t){return r[0]=1/t[0],r[1]=1/t[1],r}function Un(r,t){var e=t[0],i=t[1],s=e*e+i*i;return s>0&&(s=1/Math.sqrt(s)),r[0]=t[0]*s,r[1]=t[1]*s,r}function Yn(r,t){return r[0]*t[0]+r[1]*t[1]}function Ri(r,t){return r[0]*t[1]-r[1]*t[0]}function Xn(r,t,e,i){var s=t[0],n=t[1];return r[0]=s+i*(e[0]-s),r[1]=n+i*(e[1]-n),r}function Gn(r,t,e){var i=t[0],s=t[1];return r[0]=e[0]*i+e[3]*s+e[6],r[1]=e[1]*i+e[4]*s+e[7],r}function qn(r,t,e){let i=t[0],s=t[1];return r[0]=e[0]*i+e[4]*s+e[12],r[1]=e[1]*i+e[5]*s+e[13],r}function Wn(r,t){return r[0]===t[0]&&r[1]===t[1]}class Dt extends Array{constructor(t=0,e=t){return super(t,e),this}get x(){return this[0]}get y(){return this[1]}set x(t){this[0]=t}set y(t){this[1]=t}set(t,e=t){return t.length?this.copy(t):(Ln(this,t,e),this)}copy(t){return Dn(this,t),this}add(t,e){return e?ki(this,t,e):ki(this,this,t),this}sub(t,e){return e?Di(this,t,e):Di(this,this,t),this}multiply(t){return t.length?Rn(this,this,t):$e(this,this,t),this}divide(t){return t.length?$n(this,this,t):$e(this,this,1/t),this}inverse(t=this){return Nn(this,t),this}len(){return Li(this)}distance(t){return t?zn(this,t):Li(this)}squaredLen(){return this.squaredDistance()}squaredDistance(t){return t?In(this,t):Bn(this)}negate(t=this){return Vn(this,t),this}cross(t,e){return e?Ri(t,e):Ri(this,t)}scale(t){return $e(this,this,t),this}normalize(){return Un(this,this),this}dot(t){return Yn(this,t)}equals(t){return Wn(this,t)}applyMatrix3(t){return Gn(this,this,t),this}applyMatrix4(t){return qn(this,this,t),this}lerp(t,e){return Xn(this,this,t,e),this}clone(){return new Dt(this[0],this[1])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t}}class Hn extends Es{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}const jn=`#define GLSLIFY 1
attribute vec2 uv;attribute vec2 position;uniform vec2 uResolution;uniform vec2 uTextureResolution;varying vec2 vUv;vec2 resizeUvCover(vec2 uv,vec2 size,vec2 resolution){vec2 ratio=vec2(min((resolution.x/resolution.y)/(size.x/size.y),1.0),min((resolution.y/resolution.x)/(size.y/size.x),1.0));return vec2(uv.x*ratio.x+(1.0-ratio.x)*0.5,uv.y*ratio.y+(1.0-ratio.y)*0.5);}void main(){vUv=resizeUvCover(uv,uTextureResolution,uResolution);gl_Position=vec4(position,0,1);}`,Zn=`precision highp float;
#define GLSLIFY 1
uniform float uTime;uniform sampler2D uTexture;uniform vec2 uMouse;uniform vec2 uMouseIntro;uniform float uIntro;uniform float uRadius;uniform float uStrength;uniform float uBulge;varying vec2 vUv;vec2 bulge(vec2 uv,vec2 center){uv-=center;float dist=length(uv)/uRadius;float distPow=pow(dist,4.);float strengthAmount=uStrength/(1.0+distPow);uv*=(1.-uBulge)+uBulge*strengthAmount;uv+=center;return uv;}void main(){vec2 mixMouse=mix(uMouseIntro,uMouse,uIntro);vec2 bulgeUV=bulge(vUv,mixMouse);vec4 tex=texture2D(uTexture,bulgeUV);gl_FragColor.rgb=tex.rgb;gl_FragColor.a=1.0;}`;class Kn{constructor(){Ct(this,"load",(t,e)=>new Promise(i=>{const s=[];for(let n=0;n<t.length;n++){const{name:a,texture:h}=t[n];h&&!this.assets[a]&&s.push(this.loadTexture(h,a,e))}Promise.all(s).then(()=>i())}));this.assets={}}get(t){return this.assets[t]}loadTexture(t,e,i){return this.assets[e]||(this.assets[e]={}),new Promise(s=>{const n=new Image,a=new kn(i);n.onload=()=>{a.image=n,this.assets[e]=a,s(n)},n.src=t})}}const $i=new Kn;function se(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function tr(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t}/*!
 * GSAP 3.0.1
 * https://greensock.com
 *
 * @license Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var tt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Jt={duration:.5,overwrite:!1,delay:0},H=1e8,B=1/H,je=Math.PI*2,Qn=je/4,Jn=0,er=Math.sqrt,ta=Math.cos,ea=Math.sin,X=function(t){return typeof t=="string"},U=function(t){return typeof t=="function"},gt=function(t){return typeof t=="number"},ni=function(t){return typeof t>"u"},xt=function(t){return typeof t=="object"},Y=function(t){return t!==!1},ir=function(){return typeof window<"u"},zi=function(t){return U(t)||X(t)},J=Array.isArray,Ze=/(?:-?\.?\d|\.)+/gi,rr=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,ze=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,ia=/\(([^()]+)\)/i,sr=/[\+-]=-?[\.\d]+/,ra=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,z,ot,Ke,nr,at={},Ee={},ar,hr=function(t){return(Ee=Nt(t,at))&&K},lr=function(t,e){return console.warn("Invalid",t,"tween of",e,"Missing plugin? gsap.registerPlugin()")},or=function(t,e){return!e&&console.warn(t)},ur=function(t,e){return t&&(at[t]=e)&&Ee&&(Ee[t]=e)||at},ee=function(){return 0},fe={},Bt=[],Qe={},W={},Ie={},Ii=30,be=[],cr="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",ai=function(t){var e=t[0],i,s;if(!xt(e)&&!U(e))return J(t)?t:[t];if(!(i=(e._gsap||{}).harness)){for(s=be.length;s--&&!be[s].targetTest(e););i=be[s]}for(s=t.length;s--;)t[s]._gsap||(t[s]._gsap=new Cr(t[s],i));return t},jt=function(t){return t._gsap||ai(st(t))[0]._gsap},fr=function(t,e){var i=t[e];return U(i)?t[e]():ni(i)&&t.getAttribute(e)||i},nt=function(t,e){return(t=t.split(",")).forEach(e)||t},D=function(t){return Math.round(t*1e4)/1e4},sa=function(t,e){for(var i=e.length,s=0;t.indexOf(e[s])<0&&++s<i;);return s<i},le=function(t,e,i){var s=gt(t[1]),n=(s?2:1)+(e<2?0:1),a=t[n],h;return s&&(a.duration=t[1]),e===1?(a.runBackwards=1,a.immediateRender=Y(a.immediateRender)):e===2&&(h=t[n-1],a.startAt=h,a.immediateRender=Y(a.immediateRender)),a.parent=i,a},Me=function(){var t=Bt.length,e=Bt.slice(0),i,s;for(Qe={},Bt.length=0,i=0;i<t;i++)s=e[i],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},dr=function(t,e,i,s){Bt.length&&Me(),t.render(e,i,s),Bt.length&&Me()},pr=function(t){var e=parseFloat(t);return e||e===0?e:t},na=function(t){return t},ht=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},aa=function(t,e){for(var i in e)!(i in t)&&i!=="duration"&&i!=="ease"&&(t[i]=e[i])},Nt=function(t,e){for(var i in e)t[i]=e[i];return t},Bi=function r(t,e){for(var i in e)t[i]=xt(e[i])?r(t[i]||(t[i]={}),e[i]):e[i];return t},Se=function(t,e){var i={},s;for(s in t)s in e||(i[s]=t[s]);return i},ha=function(t){var e=t.parent||z,i=t.keyframes?aa:ht;if(Y(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent;return t},la=function(t,e){for(var i=t.length,s=i===e.length;s&&i--&&t[i]===e[i];);return i<0},oa=function(t,e,i,s,n){i===void 0&&(i="_first"),s===void 0&&(s="_last");var a=t[s],h;if(n)for(h=e[n];a&&a[n]>h;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[s]=e,e._prev=a,e.parent=t,e},hi=function(t,e,i,s){i===void 0&&(i="_first"),s===void 0&&(s="_last");var n=e._prev,a=e._next;n?n._next=a:t[i]===e&&(t[i]=a),a?a._prev=n:t[s]===e&&(t[s]=n),e._dp=t,e._next=e._prev=e.parent=null},At=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},_t=function(t){for(var e=t;e;)e._dirty=1,e=e.parent;return t},ua=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},ca=function r(t){return!t||t._ts&&r(t.parent)},Vi=function(t){var e;return t._repeat?(e=t.duration()+t._rDelay)*~~(t._tTime/e):0},gr=function(t,e){return e._ts>0?(t-e._start)*e._ts:(e._dirty?e.totalDuration():e._tDur)+(t-e._start)*e._ts},mt=function(t,e,i){if(e.parent&&At(e),e._start=i+e._delay,e._end=e._start+(e.totalDuration()/e._ts||0),oa(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,e._time||!e._dur&&e._initted){var s=(t.rawTime()-e._start)*e._ts;(!e._dur||Pe(0,e.totalDuration(),s)-e._tTime>B)&&e.render(s,!0)}if(_t(t),t._dp&&t._time>=t._dur&&t._ts&&t._dur<t.duration())for(var n=t;n._dp;)n.totalTime(n._tTime,!0),n=n._dp;return t},_r=function(t,e,i,s){if(Oa(t,e),!t._initted)return 1;if(!i&&t._pt&&t.vars.lazy)return Bt.push(t),t._lazy=[e,s],1},fa=function(t,e,i,s){var n=t._zTime<0?0:1,a=e<0?0:1,h=t._rDelay,l=0,o,u,c;if(h&&t._repeat&&(l=Pe(0,t._tDur,e),u=~~(l/h),u&&u===l/h&&u--,c=~~(t._tTime/h),c&&c===t._tTime/h&&c--,u!==c&&(n=1-a,t.vars.repeatRefresh&&t.invalidate())),!(!t._initted&&_r(t,e,s,i))&&(a!==n||s)){for((!i||e)&&(t._zTime=e),t.ratio=a,t._from&&(a=1-a),t._time=0,t._tTime=l,i||Z(t,"onStart"),o=t._pt;o;)o.r(a,o.d),o=o._next;!a&&t._startAt&&!t._onUpdate&&t._start&&t._startAt.render(e,!0,s),t._onUpdate&&!i&&Z(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&Z(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===a&&(t.ratio&&At(t,1),i||(Z(t,t.ratio?"onComplete":"onReverseComplete",!0),t._prom&&t.ratio&&t._prom()))}},da=function(t,e,i){var s;if(i>e)for(s=t._first;s&&s._start<=i;){if(!s._dur&&s.data==="isPause"&&s._start>e)return s;s=s._next}else for(s=t._last;s&&s._start>=i;){if(!s._dur&&s.data==="isPause"&&s._start<e)return s;s=s._prev}},Be=function(t){if(t instanceof j)return _t(t);var e=t._repeat;return t._tDur=e?e<0?1e20:D(t._dur*(e+1)+t._rDelay*e):t._dur,_t(t.parent),t},pa={_start:0,endTime:ee},V=function r(t,e,i){var s=t.labels,n=t._recent||pa,a=t.duration()>=H?n.endTime(!1):t._dur,h,l;return X(e)&&(isNaN(e)||e in s)?(h=e.charAt(0),h==="<"||h===">"?(h==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(e.substr(1))||0):(h=e.indexOf("="),h<0?(e in s||(s[e]=a),s[e]):(l=+(e.charAt(h-1)+e.substr(h+1)),h>1?r(t,e.substr(0,h-1))+l:a+l))):e==null?a:+e},Mt=function(t,e){return t||t===0?e(t):e},Pe=function(t,e,i){return i<t?t:i>e?e:i},yt=function(t){return(t+"").substr((parseFloat(t)+"").length)},ga=function(t,e,i){return Mt(i,function(s){return Pe(t,e,s)})},Ni=[].slice,mr=function(t){return xt(t)&&"length"in t&&t.length-1 in t&&xt(t[0])&&t!==ot},_a=function(t,e,i){return i===void 0&&(i=[]),t.forEach(function(s){var n;return X(s)&&!e||mr(s)?(n=i).push.apply(n,st(s)):i.push(s)})||i},st=function(t,e){return X(t)&&!e&&(Ke||!me())?Ni.call(nr.querySelectorAll(t),0):J(t)?_a(t,e):mr(t)?Ni.call(t,0):t?[t]:[]},xr=function(t){if(U(t))return t;var e=xt(t)?t:{each:t},i=Zt(e.ease),s=e.from||0,n=parseFloat(e.base)||0,a={},h=s>0&&s<1,l=isNaN(s)||h,o=e.axis,u=s,c=s;return X(s)?u=c={center:.5,edges:.5,end:1}[s]||0:!h&&l&&(u=s[0],c=s[1]),function(p,f,d){var _=(d||e).length,m=a[_],g,x,y,b,v,w,E,M,A;if(!m){if(A=e.grid==="auto"?0:(e.grid||[1,H])[1],!A){for(E=-H;E<(E=d[A++].getBoundingClientRect().left)&&A<_;);A--}for(m=a[_]=[],g=l?Math.min(A,_)*u-.5:s%A,x=l?_*c/A-.5:s/A|0,E=0,M=H,w=0;w<_;w++)y=w%A-g,b=x-(w/A|0),m[w]=v=o?Math.abs(o==="y"?b:y):er(y*y+b*b),v>E&&(E=v),v<M&&(M=v);m.max=E-M,m.min=M,m.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(A>_?_-1:o?o==="y"?_/A:A:Math.max(A,_/A))||0)*(s==="edges"?-1:1),m.b=_<0?n-_:n,m.u=yt(e.amount||e.each)||0,i=i&&_<0?Sr(i):i}return _=(m[p]-m.min)/m.max||0,D(m.b+(i?i(_):_)*m.v)+m.u}},yr=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(i){return~~(Math.round(parseFloat(i)/t)*t*e)/e+(gt(i)?0:yt(i))}},br=function(t,e){var i=J(t),s,n;return!i&&xt(t)&&(s=i=t.radius||H,t=st(t.values),(n=!gt(t[0]))&&(s*=s)),Mt(e,i?function(a){for(var h=parseFloat(n?a.x:a),l=parseFloat(n?a.y:0),o=H,u=0,c=t.length,p,f;c--;)n?(p=t[c].x-h,f=t[c].y-l,p=p*p+f*f):p=Math.abs(t[c]-h),p<o&&(o=p,u=c);return u=!s||o<=s?t[u]:a,n||u===a||gt(a)?u:u+yt(a)}:yr(t))},wr=function(t,e,i,s){return Mt(J(t)?!e:!s,function(){return J(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(s=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((t+Math.random()*(e-t))/i)*i*s)/s})},ma=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(s){return e.reduce(function(n,a){return a(n)},s)}},xa=function(t,e){return function(i){return t(parseFloat(i))+(e||yt(i))}},ya=function(t,e,i){return Ar(t,e,0,1,i)},vr=function(t,e,i){return Mt(i,function(s){return t[~~e(s)]})},ba=function r(t,e,i){var s=e-t;return J(t)?vr(t,r(0,t.length),e):Mt(i,function(n){return(s+(n-t)%s)%s+t})},wa=function r(t,e,i){var s=e-t,n=s*2;return J(t)?vr(t,r(0,t.length-1),e):Mt(i,function(a){return a=(n+(a-t)%n)%n,t+(a>s?n-a:a)})},Fe=function(t){for(var e=0,i="",s,n,a,h;~(s=t.indexOf("random(",e));)a=t.indexOf(")",s),h=t.charAt(s+7)==="[",n=t.substr(s+7,a-s-7).match(h?ra:Ze),i+=t.substr(e,s-e)+wr(h?n:+n[0],+n[1],+n[2]||1e-5),e=a+1;return i+t.substr(e,t.length-e)},Ar=function(t,e,i,s,n){var a=e-t,h=s-i;return Mt(n,function(l){return i+(l-t)/a*h})},va=function r(t,e,i,s){var n=isNaN(t+e)?0:function(f){return(1-f)*t+f*e};if(!n){var a=X(t),h={},l,o,u,c,p;if(i===!0&&(s=1)&&(i=null),a)t={p:t},e={p:e};else if(J(t)&&!J(e)){for(u=[],c=t.length,p=c-2,o=1;o<c;o++)u.push(r(t[o-1],t[o]));c--,n=function(d){d*=c;var _=Math.min(p,~~d);return u[_](d-_)},i=e}else s||(t=Nt(J(t)?[]:{},t));if(!u){for(l in e)li.call(h,t,l,"get",e[l]);n=function(d){return ci(d,h)||(a?t.p:t)}}}return Mt(i,n)},Ui=function(t,e,i){var s=t.labels,n=H,a,h,l;for(a in s)h=s[a]-e,h<0==!!i&&h&&n>(h=Math.abs(h))&&(l=a,n=h);return l},Z=function(t,e,i){var s=t.vars,n=s[e],a,h;if(n)return a=s[e+"Params"],h=s.callbackScope||t,i&&Bt.length&&Me(),a?n.apply(h,a):n.call(h,t)},we=function(t){return At(t),t.progress()<1&&Z(t,"onInterrupt"),t},Wt,Aa=function(t){t=!t.name&&t.default||t;var e=t.name,i=U(t),s=e&&!i&&t.init?function(){this._props=[]}:t,n={init:ee,render:ci,add:li,kill:Ia,modifier:za,rawVars:0},a={targetTest:0,get:0,getSetter:ui,aliases:{},register:0};if(me(),t!==s){if(W[e])return;ht(s,ht(Se(t,n),a)),Nt(s.prototype,Nt(n,Se(t,a))),W[s.prop=e]=s,t.targetTest&&(be.push(s),fe[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ur(e,s),t.register&&t.register(K,s,G)},L=255,ae={aqua:[0,L,L],lime:[0,L,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,L],navy:[0,0,128],white:[L,L,L],olive:[128,128,0],yellow:[L,L,0],orange:[L,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[L,0,0],pink:[L,192,203],cyan:[0,L,L],transparent:[L,L,L,0]},Ve=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,(t*6<1?e+(i-e)*t*6:t<.5?i:t*3<2?e+(i-e)*(2/3-t)*6:e)*L+.5|0},Er=function(t,e){var i=t?gt(t)?[t>>16,t>>8&L,t&L]:0:ae.black,s,n,a,h,l,o,u,c,p,f;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),ae[t])i=ae[t];else if(t.charAt(0)==="#")t.length===4&&(s=t.charAt(1),n=t.charAt(2),a=t.charAt(3),t="#"+s+s+n+n+a+a),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&L,t&L];else if(t.substr(0,3)==="hsl"){if(i=f=t.match(Ze),!e)h=+i[0]%360/360,l=+i[1]/100,o=+i[2]/100,n=o<=.5?o*(l+1):o+l-o*l,s=o*2-n,i.length>3&&(i[3]*=1),i[0]=Ve(h+1/3,s,n),i[1]=Ve(h,s,n),i[2]=Ve(h-1/3,s,n);else if(~t.indexOf("="))return t.match(rr)}else i=t.match(Ze)||ae.transparent;i=i.map(Number)}return e&&!f&&(s=i[0]/L,n=i[1]/L,a=i[2]/L,u=Math.max(s,n,a),c=Math.min(s,n,a),o=(u+c)/2,u===c?h=l=0:(p=u-c,l=o>.5?p/(2-u-c):p/(u+c),h=u===s?(n-a)/p+(n<a?6:0):u===n?(a-s)/p+2:(s-n)/p+4,h*=60),i[0]=h+.5|0,i[1]=l*100+.5|0,i[2]=o*100+.5|0),i},Yi=function(t,e){var i=(t+"").match(Je),s=0,n="",a,h,l;if(!i)return t;for(a=0;a<i.length;a++)h=i[a],l=t.substr(s,t.indexOf(h,s)-s),s+=l.length+h.length,h=Er(h,e),h.length===3&&h.push(1),n+=l+(e?"hsla("+h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:"rgba("+h.join(","))+")";return n+t.substr(s)},Je=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b",t;for(t in ae)r+="|"+t+"\\b";return new RegExp(r+")","gi")}(),Ea=/hsl[a]?\(/,Mr=function(t){var e=t.join(" "),i;Je.lastIndex=0,Je.test(e)&&(i=Ea.test(e),t[0]=Yi(t[0],i),t[1]=Yi(t[1],i))},Te,ct=function(){var r=Date.now,t=500,e=33,i=r(),s=i,n=1/60,a=n,h=[],l,o,u,c,p=function f(d){var _=r()-s,m=d===!0,g,x;_>t&&(i+=_-e),s+=_,c.time=(s-i)/1e3,g=c.time-a,(g>0||m)&&(c.frame++,a+=g+(g>=n?.004:n-g),x=1),m||(l=o(f)),x&&h.forEach(function(y){return y(c.time,_,c.frame,d)})};return c={time:0,frame:0,tick:function(){p(!0)},wake:function(){ar&&(!Ke&&ir()&&(ot=Ke=window,nr=ot.document||{},at.gsap=K,(ot.gsapVersions||(ot.gsapVersions=[])).push(K.version),hr(Ee||ot.GreenSockGlobals||!ot.gsap&&ot||{}),u=ot.requestAnimationFrame),l&&c.sleep(),o=u||function(d){return setTimeout(d,(a-c.time)*1e3+1|0)},Te=1,p(2))},sleep:function(){(u?ot.cancelAnimationFrame:clearTimeout)(l),Te=0,o=ee},lagSmoothing:function(d,_){t=d||1/B,e=Math.min(_,t,0)},fps:function(d){n=1/(d||60),a=c.time+n},add:function(d){h.indexOf(d)<0&&h.push(d),me()},remove:function(d){var _;~(_=h.indexOf(d))&&h.splice(_,1)},_listeners:h},c}(),me=function(){return!Te&&ct.wake()},O={},Ma=/^[\d.\-M][\d.\-,\s]/,Sa=/["']/g,Ta=function(t){for(var e={},i=t.substr(1,t.length-3).split(":"),s=i[0],n=1,a=i.length,h,l,o;n<a;n++)l=i[n],h=n!==a-1?l.lastIndexOf(","):l.length,o=l.substr(0,h),e[s]=isNaN(o)?o.replace(Sa,"").trim():+o,s=l.substr(h+1).trim();return e},Ca=function(t){var e=(t+"").split("("),i=O[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Ta(e[1])]:ia.exec(t)[1].split(",").map(pr)):O._CE&&Ma.test(t)?O._CE("",t):i},Sr=function(t){return function(e){return 1-t(1-e)}},Zt=function(t,e){return t&&(U(t)?t:O[t]||Ca(t))||e},Xt=function(t,e,i,s){i===void 0&&(i=function(l){return 1-e(1-l)}),s===void 0&&(s=function(l){return l<.5?e(l*2)/2:1-e((1-l)*2)/2});var n={easeIn:e,easeOut:i,easeInOut:s},a;return nt(t,function(h){O[h]=at[h]=n,O[a=h.toLowerCase()]=i;for(var l in n)O[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=O[h+"."+l]=n[l]}),n},Tr=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},Ne=function r(t,e,i){var s=e>=1?e:1,n=(i||(t?.3:.45))/(e<1?e:1),a=n/je*(Math.asin(1/s)||0),h=function(u){return u===1?1:s*Math.pow(2,-10*u)*ea((u-a)*n)+1},l=t==="out"?h:t==="in"?function(o){return 1-h(1-o)}:Tr(h);return n=je/n,l.config=function(o,u){return r(t,o,u)},l},Ue=function r(t,e){e===void 0&&(e=1.70158);var i=function(a){return--a*a*((e+1)*a+e)+1},s=t==="out"?i:t==="in"?function(n){return 1-i(1-n)}:Tr(i);return s.config=function(n){return r(t,n)},s};nt("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,t){var e=t<5?t+1:t;Xt(r+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(i*2,e)/2:1-Math.pow((1-i)*2,e)/2})});O.Linear.easeNone=O.none=O.Linear.easeIn;Xt("Elastic",Ne("in"),Ne("out"),Ne());(function(r,t){var e=1/t,i=2*e,s=2.5*e,n=function(h){return h<e?r*h*h:h<i?r*Math.pow(h-1.5/t,2)+.75:h<s?r*(h-=2.25/t)*h+.9375:r*Math.pow(h-2.625/t,2)+.984375};Xt("Bounce",function(a){return 1-n(1-a)},n)})(7.5625,2.75);Xt("Expo",function(r){return r?Math.pow(2,10*(r-1)):0});Xt("Circ",function(r){return-(er(1-r*r)-1)});Xt("Sine",function(r){return-ta(r*Qn)+1});Xt("Back",Ue("in"),Ue("out"),Ue());O.SteppedEase=O.steps=at.SteppedEase={config:function(t,e){t===void 0&&(t=1);var i=1/t,s=t+(e?0:1),n=e?1:0,a=1-B;return function(h){return((s*Pe(0,a,h)|0)+n)*i}}};Jt.ease=O["quad.out"];var Cr=function(t,e){this.id=Jn++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:fr,this.set=e?e.getSetter:ui},de=function(){function r(e,i){var s=e.parent||z;this.vars=e,this._dur=this._tDur=+e.duration||0,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase,Be(this)),this._ts=1,this.data=e.data,Te||ct.wake(),s&&mt(s,this,i||i===0?i:s._time),e.reversed&&this.reversed(!0),e.paused&&this.paused(!0)}var t=r.prototype;return t.delay=function(i){return i||i===0?(this._delay=i,this):this._delay},t.duration=function(i){var s=arguments.length,n=this._repeat,a=n>0?n*((s?i:this._dur)+this._rDelay):0;return s?this.totalDuration(n<0?i:i+a):this.totalDuration()&&this._dur},t.totalDuration=function(i){if(!arguments.length)return this._tDur;var s=this._repeat,n=(i||this._rDelay)&&s<0;return this._tDur=n?1e20:i,this._dur=n?i:(i-s*this._rDelay)/(s+1),this._dirty=0,_t(this.parent),this},t.totalTime=function(i,s){if(me(),!arguments.length)return this._tTime;var n=this.parent||this._dp,a;if(n&&n.smoothChildTiming&&this._ts){for(a=this._start,this._start=n._time-(this._ts>0?i/this._ts:((this._dirty?this.totalDuration():this._tDur)-i)/-this._ts),this._end+=this._start-a,n._dirty||_t(n);n.parent;)n.parent._time!==n._start+(n._ts>0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;this.parent||mt(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur)&&dr(this,i,s),this},t.time=function(i,s){return arguments.length?this.totalTime(i+Vi(this),s):this._time},t.totalProgress=function(i,s){return arguments.length?this.totalTime(this.totalDuration()*i,s):this._tTime/this.totalDuration()},t.progress=function(i,s){return arguments.length?this.totalTime(this.duration()*i+Vi(this),s):this.duration()?this._time/this._dur:this.ratio},t.iteration=function(i,s){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*n,s):this._repeat?~~(this._tTime/n)+1:1},t.timeScale=function(i){var s=this._ts;return arguments.length?s?(this._end=this._start+this._tDur/(this._ts=i||B),ua(this).totalTime(this._tTime,!0)):(this._pauseTS=i,this):s||this._pauseTS},t.paused=function(i){var s=!this._ts;return arguments.length?(s!==i&&(i?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS,i=this._tTime||this._pTime,this.progress()===1&&(this._tTime-=B),this.totalTime(i,!0))),this):s},t.startTime=function(i){return arguments.length?(this.parent&&this.parent._sort&&mt(this.parent,this,i-this._delay),this):this._start},t.endTime=function(i){return this._start+(Y(i)?this.totalDuration():this.duration())/Math.abs(this._ts)},t.rawTime=function(i){var s=this.parent||this._dp;return s?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?gr(s.rawTime(i),this):this._tTime:this._tTime},t.repeat=function(i){return arguments.length?(this._repeat=i,Be(this)):this._repeat},t.repeatDelay=function(i){return arguments.length?(this._rDelay=i,Be(this)):this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,s){return this.totalTime(V(this,i),Y(s))},t.restart=function(i,s){return this.play().totalTime(i?-this._delay:0,Y(s))},t.play=function(i,s){return i!=null&&this.seek(i,s),this.reversed(!1).paused(!1)},t.reverse=function(i,s){return i!=null&&this.seek(i||this.totalDuration(),s),this.reversed(!0).paused(!1)},t.pause=function(i,s){return i!=null&&this.seek(i,s),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){var s=this._ts||this._pauseTS;return arguments.length?(i!==this.reversed()&&(this[this._ts?"_ts":"_pauseTS"]=Math.abs(s)*(i?-1:1),this.totalTime(this._tTime,!0)),this):s<0},t.invalidate=function(){return this._initted=0,this},t.isActive=function(){var i=this.parent||this._dp,s=this._start,n;return!i||this._ts&&this._initted&&i.isActive()&&(n=i.rawTime(!0))>=s&&n<this.endTime(!0)-B},t.eventCallback=function(i,s,n){var a=this.vars;return arguments.length>1?(s?(a[i]=s,n&&(a[i+"Params"]=n),i==="onUpdate"&&(this._onUpdate=s)):delete a[i],this):a[i]},t.then=function(i){var s=this;return i===void 0&&(i=ee),new Promise(function(n){s._prom=function(){i(s),n()}})},t.kill=function(){we(this)},r}();ht(de.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-B,_prom:0});var j=function(r){tr(t,r);function t(i,s){var n;return i===void 0&&(i={}),n=r.call(this,i,s)||this,n.labels={},n.smoothChildTiming=Y(i.smoothChildTiming),n.autoRemoveChildren=!!i.autoRemoveChildren,n._sort=Y(i.sortChildren),n}var e=t.prototype;return e.to=function(s,n,a){return new $(s,le(arguments,0,this),V(this,gt(n)?arguments[3]:a)),this},e.from=function(s,n,a){return new $(s,le(arguments,1,this),V(this,gt(n)?arguments[3]:a)),this},e.fromTo=function(s,n,a,h){return new $(s,le(arguments,2,this),V(this,gt(n)?arguments[4]:h)),this},e.set=function(s,n,a){return n.duration=0,n.parent=this,n.repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new $(s,n,V(this,a)),this},e.call=function(s,n,a){return mt(this,$.delayedCall(0,s,n),V(this,a))},e.staggerTo=function(s,n,a,h,l,o,u){return a.duration=n,a.stagger=a.stagger||h,a.onComplete=o,a.onCompleteParams=u,a.parent=this,new $(s,a,V(this,l)),this},e.staggerFrom=function(s,n,a,h,l,o,u){return a.runBackwards=1,a.immediateRender=Y(a.immediateRender),this.staggerTo(s,n,a,h,l,o,u)},e.staggerFromTo=function(s,n,a,h,l,o,u,c){return h.startAt=a,h.immediateRender=Y(h.immediateRender),this.staggerTo(s,n,h,l,o,u,c)},e.render=function(s,n,a){var h=this._time,l=this._dirty?this.totalDuration():this._tDur,o=this._dur,u=s>l-B&&s>=0&&this!==z?l:s<B?0:s,c=this._zTime<0!=s<0&&this._initted,p,f,d,_,m,g,x,y,b,v,w;if(u!==this._tTime||a||c){if(c&&(o||(h=this._zTime),(s||!n)&&(this._zTime=s)),p=u,b=this._start,y=this._ts,g=y===0,h!==this._time&&o&&(p+=this._time-h),this._repeat&&(w=this._yoyo,m=o+this._rDelay,p=D(u%m),(p>o||l===u)&&(p=o),_=~~(u/m),_&&_===u/m&&(p=o,_--),v=~~(this._tTime/m),v&&v===this._tTime/m&&v--,w&&_&1&&(p=o-p),_!==v&&!this._lock)){var E=w&&v&1,M=E===(w&&_&1);if(_<v&&(E=!E),h=E?0:o,this._lock=1,this.render(h,n,!o)._lock=0,!n&&this.parent&&Z(this,"onRepeat"),h!==this._time||g!==!this._ts)return this;if(M&&(this._lock=2,h=E?o+1e-4:-1e-4,this.render(h,!0)),this._lock=0,!this._ts&&!g)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=da(this,D(h),D(p)),x&&(u-=p-(p=x._start))),this._tTime=u,this._time=p,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),!h&&p&&!n&&Z(this,"onStart"),p>=h&&s>=0)for(f=this._first;f;){if(d=f._next,(f._act||p>=f._start)&&f._ts&&x!==f){if(f.parent!==this)return this.render(s,n,a);if(f.render(f._ts>0?(p-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(p-f._start)*f._ts,n,a),p!==this._time||!this._ts&&!g){x=0;break}}f=d}else{f=this._last;for(var A=s<0?s:p;f;){if(d=f._prev,(f._act||A<=f._end)&&f._ts&&x!==f){if(f.parent!==this)return this.render(s,n,a);if(f.render(f._ts>0?(A-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(A-f._start)*f._ts,n,a),p!==this._time||!this._ts&&!g){x=0;break}}f=d}}if(x&&!n&&(this.pause(),x.render(p>=h?0:-B)._zTime=p>=h?1:-1,this._ts))return this._start=b,this.render(s,n,a);this._onUpdate&&!n&&Z(this,"onUpdate",!0),(u===l||!u&&this._ts<0)&&(b===this._start||Math.abs(y)!==Math.abs(this._ts))&&(!p||l>=this.totalDuration())&&((s||!o)&&At(this,1),!n&&!(s<0&&!h)&&(Z(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&u===l&&this._prom()))}return this},e.add=function(s,n){var a=this;if(gt(n)||(n=V(this,n)),!(s instanceof de)){if(J(s))return s.forEach(function(h){return a.add(h,n)}),_t(this);if(X(s))return this.addLabel(s,n);if(U(s))s=$.delayedCall(0,s);else return this}return this!==s?mt(this,s,n):this},e.getChildren=function(s,n,a,h){s===void 0&&(s=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),h===void 0&&(h=-H);for(var l=[],o=this._first;o;)o._start>=h&&(o instanceof $?n&&l.push(o):(a&&l.push(o),s&&l.push.apply(l,o.getChildren(!0,n,a)))),o=o._next;return l},e.getById=function(s){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===s)return n[a]},e.remove=function(s){return X(s)?this.removeLabel(s):U(s)?this.killTweensOf(s):(hi(this,s),s===this._recent&&(this._recent=this._last),_t(this))},e.totalTime=function(s,n){return arguments.length?(this._forcing=1,!this.parent&&!this._dp&&this._ts&&(this._start=ct.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts)),r.prototype.totalTime.call(this,s,n),this._forcing=0,this):this._tTime},e.addLabel=function(s,n){return this.labels[s]=V(this,n),this},e.removeLabel=function(s){return delete this.labels[s],this},e.addPause=function(s,n,a){var h=$.delayedCall(0,n||ee,a);return h.data="isPause",this._hasPause=1,mt(this,h,V(this,s))},e.removePause=function(s){var n=this._first;for(s=V(this,s);n;)n._start===s&&n.data==="isPause"&&At(n),n=n._next},e.killTweensOf=function(s,n,a){for(var h=this.getTweensOf(s,a),l=h.length;l--;)h[l].kill(s,n);return this},e.getTweensOf=function(s,n){for(var a=[],h=st(s),l=this._first,o;l;)l instanceof $?sa(l._targets,h)&&(!n||l.isActive())&&a.push(l):(o=l.getTweensOf(h,n)).length&&a.push.apply(a,o),l=l._next;return a},e.tweenTo=function(s,n){var a=this,h=V(a,s),l=n&&n.startAt,o=$.to(a,ht({ease:"none",lazy:!1,time:h,duration:Math.abs(h-(l&&"time"in l?l.time:a._time))/a.timeScale()||B,onStart:function(){a.pause();var c=Math.abs(h-a._time)/a.timeScale();o._dur!==c&&(o._dur=c,o.render(o._time,!0,!0)),n&&n.onStart&&n.onStart.apply(o,n.onStartParams||[])}},n));return o},e.tweenFromTo=function(s,n,a){return this.tweenTo(n,ht({startAt:{time:V(this,s)}},a))},e.recent=function(){return this._recent},e.nextLabel=function(s){return s===void 0&&(s=this._time),Ui(this,V(this,s))},e.previousLabel=function(s){return s===void 0&&(s=this._time),Ui(this,V(this,s),1)},e.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+B)},e.shiftChildren=function(s,n,a){a===void 0&&(a=0);for(var h=this._first,l=this.labels,o;h;)h._start>=a&&(h._start+=s),h=h._next;if(n)for(o in l)l[o]>=a&&(l[o]+=s);return _t(this)},e.invalidate=function(){var s=this._first;for(this._lock=0;s;)s.invalidate(),s=s._next;return r.prototype.invalidate.call(this)},e.clear=function(s){s===void 0&&(s=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._time=this._tTime=0,s&&(this.labels={}),_t(this)},e.totalDuration=function(s){var n=0,a=this,h=a._last,l=H,o=a._repeat,u=o*a._rDelay||0,c=o<0,p,f;if(!arguments.length){if(a._dirty){for(;h;)p=h._prev,h._dirty&&h.totalDuration(),h._start>l&&a._sort&&h._ts&&!a._lock?(a._lock=1,mt(a,h,h._start-h._delay),a._lock=0):l=h._start,h._start<0&&h._ts&&(n-=h._start,(!a.parent&&!a._dp||a.parent&&a.parent.smoothChildTiming)&&(a._start+=h._start/a._ts,a._time-=h._start,a._tTime-=h._start),a.shiftChildren(-h._start,!1,-H),l=0),f=h._end=h._start+h._tDur/Math.abs(h._ts||h._pauseTS),f>n&&h._ts&&(n=D(f)),h=p;a._dur=a===z&&a._time>n?a._time:Math.min(H,n),a._tDur=c&&(a._dur||u)?1e20:Math.min(H,n*(o+1)+u),a._end=a._start+(a._tDur/Math.abs(a._ts||a._pauseTS)||0),a._dirty=0}return a._tDur}return c?a:a.timeScale(a.totalDuration()/s)},t.updateRoot=function(s){if(z._ts&&dr(z,gr(s,z)),ct.frame>=Ii){Ii+=tt.autoSleep||120;var n=z._first;if((!n||!n._ts)&&tt.autoSleep&&ct._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||ct.sleep()}}},t}(de);ht(j.prototype,{_lock:0,_hasPause:0,_forcing:0});var Pa=function(t,e,i,s,n,a,h){var l=new G(this._pt,t,e,0,1,Dr,null,n),o=0,u=0,c,p,f,d,_,m,g,x;for(l.b=i,l.e=s,i+="",s+="",(g=~s.indexOf("random("))&&(s=Fe(s)),a&&(x=[i,s],a(x,t,e),i=x[0],s=x[1]),p=i.match(ze)||[];c=ze.exec(s);)d=c[0],_=s.substring(o,c.index),f?f=(f+1)%5:_.substr(-5)==="rgba("&&(f=1),d!==p[u++]&&(m=parseFloat(p[u-1]),l._pt={_next:l._pt,p:_||u===1?_:",",s:m,c:d.charAt(1)==="="?parseFloat(d.substr(2))*(d.charAt(0)==="-"?-1:1):parseFloat(d)-m,m:f&&f<4?Math.round:0},o=ze.lastIndex);return l.c=o<s.length?s.substring(o,s.length):"",l.fp=h,(sr.test(s)||g)&&(l.e=0),this._pt=l,l},li=function(t,e,i,s,n,a,h,l,o){U(s)&&(s=s(n||0,t,a));var u=t[e],c=i!=="get"?i:U(u)?o?t[e.indexOf("set")||!U(t["get"+e.substr(3)])?e:"get"+e.substr(3)](o):t[e]():u,p=U(u)?o?La:Or:oi,f;if(X(s)&&(~s.indexOf("random(")&&(s=Fe(s)),s.charAt(1)==="="&&(s=parseFloat(c)+parseFloat(s.substr(2))*(s.charAt(0)==="-"?-1:1)+yt(c))),c!==s)return isNaN(c+s)?(!u&&!(e in t)&&lr(e,s),Pa.call(this,t,e,c,s,p,l||tt.stringFilter,o)):(f=new G(this._pt,t,e,+c||0,s-(c||0),typeof u=="boolean"?$a:kr,0,p),o&&(f.fp=o),h&&f.modifier(h,this,t),this._pt=f)},Fa=function(t,e,i,s,n){if(U(t)&&(t=oe(t,n,e,i,s)),!xt(t)||t.style&&t.nodeType||J(t))return X(t)?oe(t,n,e,i,s):t;var a={},h;for(h in t)a[h]=oe(t[h],n,e,i,s);return a},Pr=function(t,e,i,s,n,a){var h,l,o,u;if(W[t]&&(h=new W[t]).init(n,h.rawVars?e[t]:Fa(e[t],s,n,a,i),i,s,a)!==!1&&(i._pt=l=new G(i._pt,n,t,0,1,h.render,h,0,h.priority),i!==Wt))for(o=i._ptLookup[i._targets.indexOf(n)],u=h._props.length;u--;)o[h._props[u]]=l;return h},Ht,Oa=function r(t,e){var i=t.vars,s=i.ease,n=i.startAt,a=i.immediateRender,h=i.lazy,l=i.onUpdate,o=i.onUpdateParams,u=i.callbackScope,c=i.runBackwards,p=i.yoyoEase,f=i.keyframes,d=i.autoRevert,_=t._dur,m=t._startAt,g=t._targets,x=t.parent,y=x&&x.data==="nested"?x.parent._targets:g,b=t._overwrite==="auto",v=t.timeline,w,E,M,A,C,P,F,k,S,R,it,lt;if(v&&(!f||!s)&&(s="none"),t._ease=Zt(s,Jt.ease),t._yEase=p?Sr(Zt(p===!0?s:p,Jt.ease)):0,p&&t._yoyo&&!t._repeat&&(p=t._yEase,t._yEase=t._ease,t._ease=p),!v){if(m&&m.render(-1,!0).kill(),n){if(At(t._startAt=$.set(g,ht({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:Y(h),startAt:null,delay:0,onUpdate:l,onUpdateParams:o,callbackScope:u,stagger:0},n))),a){if(e>0)!d&&(t._startAt=0);else if(_)return}}else if(c&&_){if(m)!d&&(t._startAt=0);else if(e&&(a=!1),At(t._startAt=$.set(g,Nt(Se(i,fe),{overwrite:!1,data:"isFromStart",lazy:a&&Y(h),immediateRender:a,stagger:0,parent:x}))),!a)r(t._startAt,e),a&&!d&&(t._startAt=0);else if(!e)return}for(w=Se(i,fe),t._pt=0,k=g[0]?jt(g[0]).harness:0,lt=k&&i[k.prop],E=0;E<g.length;E++){if(C=g[E],F=C._gsap||ai(g)[E]._gsap,t._ptLookup[E]=R={},Qe[F.id]&&Me(),it=y===g?E:y.indexOf(C),k&&(S=new k).init(C,lt||w,t,it,y)!==!1&&(t._pt=A=new G(t._pt,C,S.name,0,1,S.render,S,0,S.priority),S._props.forEach(function(Gt){R[Gt]=A}),S.priority&&(P=1)),!k||lt)for(M in w)W[M]&&(S=Pr(M,w,t,it,C,y))?S.priority&&(P=1):R[M]=A=li.call(t,C,M,"get",w[M],it,y,0,i.stringFilter);t._op&&t._op[E]&&t.kill(C,t._op[E]),b&&(Ht=t,z.killTweensOf(C,R,!0),Ht=0),t._pt&&(Y(h)&&_||h&&!_)&&(Qe[F.id]=1)}P&&Lr(t),t._onInit&&t._onInit(t)}t._from=!v&&!!i.runBackwards,t._onUpdate=l,t._initted=1},ka=function(t,e){var i=t[0]?jt(t[0]).harness:0,s=i&&i.aliases,n,a,h,l;if(!s)return e;n=Nt({},e);for(a in s)if(a in n)for(l=s[a].split(","),h=l.length;h--;)n[l[h]]=n[a];return n},oe=function(t,e,i,s,n){return U(t)?t.call(e,i,s,n):X(t)&&~t.indexOf("random(")?Fe(t):t},Fr=cr+",repeat,repeatDelay,yoyo,yoyoEase",Da=(Fr+",id,stagger,delay,duration").split(","),$=function(r){tr(t,r);function t(i,s,n){var a;typeof s=="number"&&(n.duration=s,s=n,n=null),a=r.call(this,ha(s),n)||this;var h=a.vars,l=h.duration,o=h.delay,u=h.immediateRender,c=h.stagger,p=h.overwrite,f=h.keyframes,d=h.defaults,_=st(i),m,g,x,y,b,v,w,E;if(a._targets=_.length?ai(_):or("GSAP target "+i+" not found. https://greensock.com",!tt.nullTargetWarn)||[{}],a._ptLookup=[],a._overwrite=p,f||c||zi(l)||zi(o)){if(s=a.vars,m=a.timeline=new j({data:"nested",defaults:d||{}}),m.kill(),m.parent=se(a),f)ht(m.vars.defaults,{ease:"none"}),f.forEach(function(M){return m.to(_,M,">")});else{if(y=_.length,w=c?xr(c):ee,xt(c))for(b in c)~Fr.indexOf(b)&&(E||(E={}),E[b]=c[b]);for(g=0;g<y;g++){x={};for(b in s)Da.indexOf(b)<0&&(x[b]=s[b]);x.stagger=0,E&&Nt(x,E),s.yoyoEase&&!s.repeat&&(x.yoyoEase=s.yoyoEase),v=_[g],x.duration=+oe(l,se(a),g,v,_),x.delay=(+oe(o,se(a),g,v,_)||0)-a._delay,!c&&y===1&&x.delay&&(a._delay=o=x.delay,a._start+=o,x.delay=0),m.to(v,x,w(g,v,_))}l=o=0}l||a.duration(l=m.duration())}else a.timeline=0;return p===!0&&(Ht=se(a),z.killTweensOf(_),Ht=0),(u||!l&&!f&&a._start===a.parent._time&&Y(u)&&ca(se(a))&&a.parent.data!=="nested")&&(a._tTime=-B,a.render(Math.max(0,-o))),a}var e=t.prototype;return e.render=function(s,n,a){var h=this._time,l=this._tDur,o=this._dur,u=s>l-B&&s>=0?l:s<B?0:s,c,p,f,d,_,m,g,x,y;if(!o)fa(this,s,n,a);else if(u!==this._tTime||a||this._startAt&&this._zTime<0!=s<0){if(c=u,x=this.timeline,this._repeat){if(d=o+this._rDelay,c=D(u%d),c>o&&(c=o),f=~~(u/d),f&&f===u/d&&(c=o,f--),m=this._yoyo&&f&1,m&&(y=this._yEase,c=o-c),_=~~(this._tTime/d),_&&_===this._tTime/d&&_--,c===h&&!a)return this;f!==_&&this.vars.repeatRefresh&&!this._lock&&(this._lock=1,this.render(d*f,!0).invalidate()._lock=0)}if(!this._initted&&_r(this,c,a,n))return this;for(this._tTime=u,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=g=(y||this._ease)(c/o),this._from&&(this.ratio=g=1-g),!h&&c&&!n&&Z(this,"onStart"),p=this._pt;p;)p.r(g,p.d),p=p._next;x&&x.render(s<0?s:!c&&m?-B:x._dur*g,n,a)||this._startAt&&(this._zTime=s),this._onUpdate&&!n&&(s<0&&this._startAt&&this._startAt.render(s,!0,a),Z(this,"onUpdate")),this._repeat&&f!==_&&this.vars.onRepeat&&!n&&this.parent&&Z(this,"onRepeat"),(u===l||!u)&&this._tTime===u&&(s<0&&this._startAt&&!this._onUpdate&&this._startAt.render(s,!0,a),(s||!o)&&(u||this._ts<0)&&At(this,1),!n&&!(s<0&&!h)&&(Z(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&u===l&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),r.prototype.invalidate.call(this)},e.kill=function(s,n){if(n===void 0&&(n="all"),Ht===this)return Ht;if(!s&&(!n||n==="all")&&this.parent)return this._lazy=0,we(this);if(this.timeline)return this.timeline.killTweensOf(s,n),this;var a=this._targets,h=s?st(s):a,l=this._ptLookup,o=this._pt,u,c,p,f,d,_,m;if((!n||n==="all")&&la(a,h))return we(this);for(u=this._op=this._op||[],n!=="all"&&(X(n)&&(d={},nt(n,function(g){return d[g]=1}),n=d),n=ka(a,n)),m=a.length;m--;)if(~h.indexOf(a[m])){c=l[m],n==="all"?(u[m]=n,f=c,p={}):(p=u[m]=u[m]||{},f=n);for(d in f)_=c&&c[d],_&&(!("kill"in _.d)||_.d.kill(d)===!0)&&(hi(this,_,"_pt"),delete c[d]),p!=="all"&&(p[d]=1)}return this._initted&&!this._pt&&o&&we(this),this},t.to=function(s,n){return new t(s,n,arguments[2])},t.from=function(s,n){return new t(s,le(arguments,1))},t.delayedCall=function(s,n,a,h){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:h})},t.fromTo=function(s,n,a){return new t(s,le(arguments,2))},t.set=function(s,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(s,n)},t.killTweensOf=function(s,n,a){return z.killTweensOf(s,n,a)},t}(de);ht($.prototype,{_targets:[],_initted:0,_lazy:0,_startAt:0,_op:0,_onInit:0});nt("staggerTo,staggerFrom,staggerFromTo",function(r){$[r]=function(){var t=new j,e=st(arguments);return e.splice(r==="staggerFromTo"?5:4,0,0),t[r].apply(t,e)}});var oi=function(t,e,i){return t[e]=i},Or=function(t,e,i){return t[e](i)},La=function(t,e,i,s){return t[e](s.fp,i)},Ra=function(t,e,i){return t.setAttribute(e,i)},ui=function(t,e){return U(t[e])?Or:ni(t[e])&&t.setAttribute?Ra:oi},kr=function(t,e){return e.set(e.t,e.p,~~((e.s+e.c*t)*1e4)/1e4,e)},$a=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Dr=function(t,e){var i=e._pt,s="";if(!t&&e.b)s=e.b;else if(t===1&&e.e)s=e.e;else{for(;i;)s=i.p+(i.m?i.m(i.s+i.c*t):~~((i.s+i.c*t)*1e4)/1e4)+s,i=i._next;s+=e.c}e.set(e.t,e.p,s,e)},ci=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},za=function(t,e,i,s){for(var n=this._pt,a;n;)a=n._next,n.p===s&&n.modifier(t,e,i),n=a},Ia=function(t){for(var e=this._pt,i,s;e;)s=e._next,e.p===t&&!e.op||e.op===t?hi(this,e,"_pt"):e.dep||(i=1),e=s;return!i},Ba=function(t,e,i,s){s.mSet(t,e,s.m.call(s.tween,i,s.mt),s)},Lr=function(t){for(var e=t._pt,i,s,n,a;e;){for(i=e._next,s=n;s&&s.pr>e.pr;)s=s._next;(e._prev=s?s._prev:a)?e._prev._next=e:n=e,(e._next=s)?s._prev=e:a=e,e=i}t._pt=n},G=function(){function r(e,i,s,n,a,h,l,o,u){this.t=i,this.s=n,this.c=a,this.p=s,this.r=h||kr,this.d=l||this,this.set=o||oi,this.pr=u||0,this._next=e,e&&(e._prev=this)}var t=r.prototype;return t.modifier=function(i,s,n){this.mSet=this.mSet||this.set,this.set=Ba,this.m=i,this.mt=n,this.tween=s},r}();nt(cr+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(r){fe[r]=1,r.substr(0,2)==="on"&&(fe[r+"Params"]=1)});at.TweenMax=at.TweenLite=$;at.TimelineLite=at.TimelineMax=j;z=new j({sortChildren:!1,defaults:Jt,autoRemoveChildren:!0,id:"root"});tt.stringFilter=Mr;var K={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(s){return Aa(s)})},timeline:function(t){return new j(t)},getTweensOf:function(t,e){return z.getTweensOf(t,e)},getProperty:function(t,e,i,s){X(t)&&(t=st(t)[0]);var n=jt(t||{}).get,a=i?na:pr;return i==="native"&&(i=""),t&&(e?a((W[e]&&W[e].get||n)(t,e,i,s)):function(h,l,o){return a((W[h]&&W[h].get||n)(t,h,l,o))})},quickSetter:function(t,e,i){if(t=st(t),t.length>1){var s=t.map(function(o){return K.quickSetter(o,e,i)}),n=s.length;return function(o){for(var u=n;u--;)s[u](o)}}t=t[0]||{};var a=W[e],h=jt(t),l=a?function(o){var u=new a;Wt._pt=0,u.init(t,i?o+i:o,Wt,0,[t]),u.render(1,u),Wt._pt&&ci(1,Wt)}:h.set(t,e);return a?l:function(o){return l(t,e,i?o+i:o,h,1)}},isTweening:function(t){return z.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Zt(t.ease,Jt.ease)),Bi(Jt,t||{})},config:function(t){return Bi(tt,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,s=t.plugins,n=t.defaults,a=t.extendTimeline;(s||"").split(",").forEach(function(h){return h&&!W[h]&&!at[h]&&or(e+" effect requires "+h+" plugin.")}),Ie[e]=function(h,l){return i(st(h),ht(l||{},n))},a&&(j.prototype[e]=function(h,l,o){return this.add(Ie[e](h,xt(l)?l:(o=l)&&{}),o)})},registerEase:function(t,e){O[t]=Zt(e)},parseEase:function(t,e){return arguments.length?Zt(t,e):O},getById:function(t){return z.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var i=new j(t),s,n;for(i.smoothChildTiming=Y(t.smoothChildTiming),z.remove(i),i._dp=0,i._time=i._tTime=z._time,s=z._first;s;)n=s._next,(e||!(!s._dur&&s instanceof $&&s.vars.onComplete===s._targets[0]))&&mt(i,s,s._start-s._delay),s=n;return mt(z,i,0),i},utils:{wrap:ba,wrapYoyo:wa,distribute:xr,random:wr,snap:br,normalize:ya,getUnit:yt,clamp:ga,splitColor:Er,toArray:st,mapRange:Ar,pipe:ma,unitize:xa,interpolate:va},install:hr,effects:Ie,ticker:ct,updateRoot:j.updateRoot,plugins:W,globalTimeline:z,core:{PropTween:G,globals:ur,Tween:$,Timeline:j,Animation:de,getCache:jt}};nt("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return K[r]=$[r]});ct.add(j.updateRoot);Wt=K.to({},{duration:0});var Va=function(t,e){var i=t._targets,s,n,a;for(s in e)for(n=i.length;n--;)a=t._ptLookup[n][s],a&&a.d.modifier&&a.d.modifier(e[s],t,i[n],s)},Ye=function(t,e){return{name:t,rawVars:1,init:function(s,n,a){a._onInit=function(h){var l,o;if(X(n)&&(l={},nt(n,function(u){return l[u]=1}),n=l),e){l={};for(o in n)l[o]=e(n[o]);n=l}Va(h,n)}}}};K.registerPlugin({name:"attr",init:function(t,e,i,s,n){for(var a in e)this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],s,n,0,0,a),this._props.push(a)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i],e[i])}},Ye("roundProps",yr),Ye("modifiers"),Ye("snap",br));$.version=j.version=K.version="3.0.1";ar=1;ir()&&me();O.Power0;O.Power1;O.Power2;O.Power3;O.Power4;O.Linear;O.Quad;O.Cubic;O.Quart;O.Quint;O.Strong;O.Elastic;O.Back;O.SteppedEase;O.Bounce;O.Sine;O.Expo;O.Circ;/*!
 * CSSPlugin 3.0.1
 * https://greensock.com
 *
 * Copyright 2008-2019, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Xi,ft,Kt,fi,Lt,he,Gi,Na=function(){return typeof window<"u"},Et={},kt=180/Math.PI,ue=Math.PI/180,qt=Math.atan2,qi=1e8,Rr=/([A-Z])/g,xe=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,Ua=/(?:left|right|width|margin|padding|x)/i,Ya=/[\s,\(]\S/,Vt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$r=function(t,e){return e.set(e.t,e.p,~~((e.s+e.c*t)*1e4)/1e4+e.u,e)},Xa=function(t,e){return e.set(e.t,e.p,t===1?e.e:~~((e.s+e.c*t)*1e4)/1e4+e.u,e)},Ga=function(t,e){return e.set(e.t,e.p,t?~~((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},qa=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},zr=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Ir=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},Wa=function(t,e,i){return t.style[e]=i},Ha=function(t,e,i){return t.style.setProperty(e,i)},ja=function(t,e,i){return t._gsap[e]=i},Wi=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},Za=function(t,e,i,s,n){var a=t._gsap;a.scaleX=a.scaleY=i,a.renderTransform(n,a)},Ka=function(t,e,i,s,n){var a=t._gsap;a[e]=i,a.renderTransform(n,a)},et="transform",Ut=et+"Origin",Br,ti=function(t,e){var i=ft.createElementNS?ft.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ft.createElement(t);return i.style?i:ft.createElement(t)},te=function(t,e){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Rr,"-$1").toLowerCase())||i.getPropertyValue(e)},ve=function(t,e){var i=e||Lt,s=i.style,n=5,a="O,Moz,ms,Ms,Webkit".split(",");if(t in s)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(a[n]+t in s););return n<0?null:(n===3?"ms":n>=0?a[n]:"")+t},ei=function(){Na()&&(Xi=window,ft=Xi.document,Kt=ft.documentElement,Lt=ti("div")||{style:{}},he=ti("div"),et=ve(et),Ut=ve(Ut),Lt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Br=!!ve("perspective"),fi=1)},Qa=function r(t){var e=ti("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,s=this.nextSibling,n=this.style.cssText,a;if(Kt.appendChild(e),e.appendChild(this),this.style.display="block",t)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=r}catch{}else this._gsapBBox&&(a=this._gsapBBox());return s?i.insertBefore(this,s):i.appendChild(this),Kt.removeChild(e),this.style.cssText=n,a},Hi=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},Vr=function(t){var e;try{e=t.getBBox()}catch{e=Qa.call(t,!0)}return e&&!e.width&&!e.x&&!e.y?{x:+Hi(t,["x","cx","x1"]),y:+Hi(t,["y","cy","y1"]),width:0,height:0}:e},Nr=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Vr(t))},ii=function(t,e){if(e){var i=t.style;e in Et&&(e=et),i.removeProperty?((e.substr(0,2)==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),i.removeProperty(e.replace(Rr,"-$1").toLowerCase())):i.removeAttribute(e)}},vt=function(t,e,i,s,n,a){var h=new G(t._pt,e,i,0,1,a?Ir:zr);return t._pt=h,h.b=s,h.e=n,t._props.push(i),h},ji={deg:1,rad:1,turn:1},Yt=function(t,e,i,s){var n=parseFloat(i),a=(i+"").substr((n+"").length)||"px",h=Lt.style,l=Ua.test(e),o=t.tagName.toLowerCase()==="svg",u=(o?"client":"offset")+(l?"Width":"Height"),c=100,p=s==="px",f,d,_,m;return s===a||ji[s]||ji[a]?n:(m=t.getCTM&&Nr(t),s==="%"&&Et[e]?D(n/(m?t.getBBox()[l?"width":"height"]:t[u])*c):(h[l?"width":"height"]=c+(p?a:s),d=s==="em"&&t.appendChild&&!o?t:t.parentNode,m&&(d=(t.ownerSVGElement||{}).parentNode),(!d||d===ft||!d.appendChild)&&(d=ft.body),_=d._gsap,_&&s==="%"&&_.width&&l&&_.time===ct.time?f=_.width*n/c:(d.appendChild(Lt),f=Lt[u],d.removeChild(Lt),l&&s==="%"&&(_=jt(d),_.time=ct.time,_.width=f/n*c)),D(p?f*n/c:c/f*n)))},ye=function(t,e,i,s){var n;return fi||ei(),e in Vt&&(e=Vt[e],~e.indexOf(",")&&(e=e.split(",")[0])),Et[e]?(n=Gr(t,s),n=e!=="transformOrigin"?n[e]:Ce(te(t,Ut))+n.zOrigin+"px"):(n=t.style[e],(!n||n==="auto"||s)&&(n=te(t,e)||fr(t,e))),i?Yt(t,e,n,i)+i:n},Ja=function(t,e,i,s){var n=new G(this._pt,t.style,e,0,1,Dr),a=0,h=0,l,o,u,c,p,f,d,_,m,g,x,y,b;if(n.b=i,n.e=s,i+="",s+="",s==="auto"&&(t.style[e]=s,s=te(t,e)||s,t.style[e]=i),l=[i,s],Mr(l),i=l[0],s=l[1],u=i.match(xe)||[],b=s.match(xe)||[],b.length){for(;o=xe.exec(s);)d=o[0],m=s.substring(a,o.index),p?p=(p+1)%5:m.substr(-5)==="rgba("&&(p=1),d!==(f=u[h++]||"")&&(c=parseFloat(f)||0,x=f.substr((c+"").length),y=d.charAt(1)==="="?+(d.charAt(0)+"1"):0,y&&(d=d.substr(2)),_=parseFloat(d),g=d.substr((_+"").length),a=xe.lastIndex-g.length,g||(g=g||tt.units[e]||x,a===s.length&&(s+=g,n.e+=g)),x!==g&&(c=Yt(t,e,f,g)),n._pt={_next:n._pt,p:m||h===1?m:",",s:c,c:y?y*_:_-c,m:p&&p<4?Math.round:0});n.c=a<s.length?s.substring(a,s.length):""}else n.r=e==="display"?Ir:zr;return sr.test(s)&&(n.e=0),this._pt=n,n},Zi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},th=function(t){var e=t.split(" "),i=e[0],s=e[1]||"50%";return(i==="top"||i==="bottom"||s==="left"||s==="right")&&(e=i,i=s,s=e),e[0]=Zi[i]||i,e[1]=Zi[s]||s,e.join(" ")},eh=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i=e.t,s=i.style,n=e.u,a,h,l;if(n==="all"||n===!0)s.cssText="",h=1;else for(n=n.split(","),l=n.length;--l>-1;)a=n[l],Et[a]&&(h=1,a=a==="transformOrigin"?Ut:et),ii(i,a);h&&(ii(i,et),h=i._gsap,h&&(h.svg&&i.removeAttribute("transform"),delete h.x))}},ih={clearProps:function(t,e,i,s,n){var a=t._pt=new G(t._pt,e,i,0,0,eh);return a.u=s,a.pr=-10,a.tween=n,t._props.push(i),1}},pe=[1,0,0,1,0,0],Ur={},Yr=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Ki=function(t){var e=te(t,et);return Yr(e)?pe:e.substr(7).match(rr).map(D)},Xr=function(t,e){var i=t._gsap,s=t.style,n=Ki(t),a,h,l,o;return i.svg&&t.getAttribute("transform")?(l=t.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?pe:n):(n===pe&&!t.offsetParent&&t!==Kt&&!i.svg&&(l=s.display,s.display="block",a=t.parentNode,(!a||!t.offsetParent)&&(o=1,h=t.nextSibling,Kt.appendChild(t)),n=Ki(t),l?s.display=l:ii(t,"display"),o&&(h?a.insertBefore(t,h):a?a.appendChild(t):Kt.removeChild(t))),e&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},ri=function(t,e,i,s,n,a){var h=t._gsap,l=n||Xr(t,!0),o=h.xOrigin||0,u=h.yOrigin||0,c=h.xOffset||0,p=h.yOffset||0,f=l[0],d=l[1],_=l[2],m=l[3],g=l[4],x=l[5],y=e.split(" "),b=parseFloat(y[0])||0,v=parseFloat(y[1])||0,w,E,M,A;i?l!==pe&&(E=f*m-d*_)&&(M=b*(m/E)+v*(-_/E)+(_*x-m*g)/E,A=b*(-d/E)+v*(f/E)-(f*x-d*g)/E,b=M,v=A):(w=Vr(t),b=w.x+(~y[0].indexOf("%")?b/100*w.width:b),v=w.y+(~(y[1]||y[0]).indexOf("%")?v/100*w.height:v)),s||s!==!1&&h.smooth?(g=b-o,x=v-u,h.xOffset+=g*f+x*_-g,h.yOffset+=g*d+x*m-x):h.xOffset=h.yOffset=0,h.xOrigin=b,h.yOrigin=v,h.smooth=!!s,h.origin=e,h.originIsAbsolute=!!i,a&&(vt(a,h,"xOrigin",o,b),vt(a,h,"yOrigin",u,v),vt(a,h,"xOffset",c,h.xOffset),vt(a,h,"yOffset",p,h.yOffset))},Gr=function(t,e){var i=t._gsap||new Cr(t);if("x"in i&&!e)return i;var s=t.style,n=i.scaleX<0,a=i.xOrigin||0,h=i.yOrigin||0,l="px",o="deg",u=te(t,Ut)||"0",c,p,f,d,_,m,g,x,y,b,v,w,E,M,A,C,P,F,k,S,R,it,lt,Gt,ie,re,St,di,pt,Tt;return c=p=f=m=g=x=y=b=v=0,d=_=1,i.svg=!!(t.getCTM&&Nr(t)),w=Xr(t,i.svg),i.svg&&ri(t,u,i.originIsAbsolute,i.smooth!==!1,w),w!==pe&&(C=w[0],P=w[1],F=w[2],k=w[3],c=S=w[4],p=R=w[5],w.length===6?(d=Math.sqrt(C*C+P*P),_=Math.sqrt(k*k+F*F),m=C||P?qt(P,C)*kt:i.rotation||0,y=F||k?qt(F,k)*kt+m:i.skewX||0,i.svg&&(c-=a-(a*C+h*F),p-=h-(a*P+h*k))):(Tt=w[6],di=w[7],ie=w[8],re=w[9],St=w[10],pt=w[11],c=w[12],p=w[13],f=w[14],E=qt(Tt,St),g=E*kt,E&&(M=Math.cos(-E),A=Math.sin(-E),it=S*M+ie*A,lt=R*M+re*A,Gt=Tt*M+St*A,ie=S*-A+ie*M,re=R*-A+re*M,St=Tt*-A+St*M,pt=di*-A+pt*M,S=it,R=lt,Tt=Gt),E=qt(-F,St),x=E*kt,E&&(M=Math.cos(-E),A=Math.sin(-E),it=C*M-ie*A,lt=P*M-re*A,Gt=F*M-St*A,pt=k*A+pt*M,C=it,P=lt,F=Gt),E=qt(P,C),m=E*kt,E&&(M=Math.cos(E),A=Math.sin(E),it=C*M+P*A,lt=S*M+R*A,P=P*M-C*A,R=R*M-S*A,C=it,S=lt),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,x=180-x),d=D(Math.sqrt(C*C+P*P+F*F)),_=D(Math.sqrt(R*R+Tt*Tt)),E=qt(S,R),y=Math.abs(E)>2e-4?E*kt:0,v=pt?1/(pt<0?-pt:pt):0),i.svg&&(w=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Yr(te(t,et)),w&&t.setAttribute("transform",w))),Math.abs(y)>90&&Math.abs(y)<270&&(n?(d*=-1,y+=m<=0?180:-180,m+=m<=0?180:-180):(_*=-1,y+=y<=0?180:-180)),i.x=((i.xPercent=c&&Math.round(t.offsetWidth/2)===Math.round(-c)?-50:0)?0:c)+l,i.y=((i.yPercent=p&&Math.round(t.offsetHeight/2)===Math.round(-p)?-50:0)?0:p)+l,i.z=f+l,i.scaleX=D(d),i.scaleY=D(_),i.rotation=D(m)+o,i.rotationX=D(g)+o,i.rotationY=D(x)+o,i.skewX=y+o,i.skewY=b+o,i.transformPerspective=v+l,(i.zOrigin=parseFloat(u.split(" ")[2])||0)&&(s[Ut]=Ce(u)),i.xOffset=i.yOffset=0,i.force3D=tt.force3D,i.renderTransform=i.svg?sh:Br?qr:rh,i},Ce=function(t){return(t=t.split(" "))[0]+" "+t[1]},Xe=function(t,e,i){var s=yt(e);return D(parseFloat(e)+parseFloat(Yt(t,"x",i+"px",s)))+s},rh=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,qr(t,e)},Pt="0deg",ne="0px",Ft=") ",qr=function(t,e){var i=e||this,s=i.xPercent,n=i.yPercent,a=i.x,h=i.y,l=i.z,o=i.rotation,u=i.rotationY,c=i.rotationX,p=i.skewX,f=i.skewY,d=i.scaleX,_=i.scaleY,m=i.transformPerspective,g=i.force3D,x=i.target,y=i.zOrigin,b="",v=g==="auto"&&t&&t!==1||g===!0;if(y&&(c!==Pt||u!==Pt)){var w=parseFloat(u)*ue,E=Math.sin(w),M=Math.cos(w),A;w=parseFloat(c)*ue,A=Math.cos(w),a=Xe(x,a,E*A*-y),h=Xe(x,h,-Math.sin(w)*-y),l=Xe(x,l,M*A*-y+y)}(s||n)&&(b="translate("+s+"%, "+n+"%) "),(v||a!==ne||h!==ne||l!==ne)&&(b+=l!==ne||v?"translate3d("+a+", "+h+", "+l+") ":"translate("+a+", "+h+Ft),m!==ne&&(b+="perspective("+m+Ft),o!==Pt&&(b+="rotate("+o+Ft),u!==Pt&&(b+="rotateY("+u+Ft),c!==Pt&&(b+="rotateX("+c+Ft),(p!==Pt||f!==Pt)&&(b+="skew("+p+", "+f+Ft),(d!==1||_!==1)&&(b+="scale("+d+", "+_+Ft),x.style[et]=b||"translate(0, 0)"},sh=function(t,e){var i=e||this,s=i.xPercent,n=i.yPercent,a=i.x,h=i.y,l=i.rotation,o=i.skewX,u=i.skewY,c=i.scaleX,p=i.scaleY,f=i.target,d=i.xOrigin,_=i.yOrigin,m=i.xOffset,g=i.yOffset,x=i.forceCSS,y=parseFloat(a),b=parseFloat(h),v,w,E,M,A;l=parseFloat(l),o=parseFloat(o),u=parseFloat(u),u&&(u=parseFloat(u),o+=u,l+=u),l||o?(l*=ue,o*=ue,v=Math.cos(l)*c,w=Math.sin(l)*c,E=Math.sin(l-o)*-p,M=Math.cos(l-o)*p,o&&(u*=ue,A=Math.tan(o-u),A=Math.sqrt(1+A*A),E*=A,M*=A,u&&(A=Math.tan(u),A=Math.sqrt(1+A*A),v*=A,w*=A)),v=D(v),w=D(w),E=D(E),M=D(M)):(v=c,M=p,w=E=0),(y&&!~(a+"").indexOf("px")||b&&!~(h+"").indexOf("px"))&&(y=Yt(f,"x",a,"px"),b=Yt(f,"y",h,"px")),(d||_||m||g)&&(y=D(y+d-(d*v+_*E)+m),b=D(b+_-(d*w+_*M)+g)),(s||n)&&(A=f.getBBox(),y=D(y+s/100*A.width),b=D(b+n/100*A.height)),A="matrix("+v+","+w+","+E+","+M+","+y+","+b+")",f.setAttribute("transform",A),x&&(f.style[et]=A)},nh=function(t,e,i,s,n,a){var h=360,l=X(n),o=parseFloat(n)*(l&&~n.indexOf("rad")?kt:1),u=a?o*a:o-s,c=s+u+"deg",p,f;return l&&(p=n.split("_")[1],p==="short"&&(u%=h,u!==u%(h/2)&&(u+=u<0?h:-h)),p==="cw"&&u<0?u=(u+h*qi)%h-~~(u/h)*h:p==="ccw"&&u>0&&(u=(u-h*qi)%h-~~(u/h)*h)),t._pt=f=new G(t._pt,e,i,s,u,Xa),f.e=c,f.u="deg",t._props.push(i),f},ah=function(t,e,i){var s=he.style,n=i._gsap,a,h,l,o,u,c,p,f;s.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",s[et]=e,ft.body.appendChild(he),a=Gr(he,1);for(h in Et)l=n[h],o=a[h],l!==o&&h!=="perspective"&&(p=yt(l),f=yt(o),u=p!==f?Yt(i,h,l,f):parseFloat(l),c=parseFloat(o),t._pt=new G(t._pt,n,h,u,c-u,$r),t._pt.u=f,t._props.push(h));ft.body.removeChild(he)},Wr={name:"css",register:ei,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,s,n){var a=this._props,h=t.style,l,o,u,c,p,f,d,_,m,g,x,y,b,v,w;fi||ei();for(d in e)if(d!=="autoRound"&&(o=e[d],!(W[d]&&Pr(d,e,i,s,t,n))))if(p=typeof o,f=ih[d],p==="function"&&(o=o.call(i,s,t,n),p=typeof o),p==="string"&&~o.indexOf("random(")&&(o=Fe(o)),f)f(this,t,d,o,i)&&(w=1);else if(d.substr(0,2)==="--")this.add(h,"setProperty",getComputedStyle(t).getPropertyValue(d)+"",o+"",s,n,0,0,d);else{if(l=ye(t,d),c=parseFloat(l),g=p==="string"&&o.charAt(1)==="="?+(o.charAt(0)+"1"):0,g&&(o=o.substr(2)),u=parseFloat(o),d in Vt&&(d==="autoAlpha"&&(c===1&&ye(t,"visibility")==="hidden"&&u&&(c=0),vt(this,h,"visibility",c?"inherit":"hidden",u?"inherit":"hidden",!u)),d!=="scale"&&(d=Vt[d],~d.indexOf(",")&&(d=d.split(",")[0]))),x=d in Et,x){if(y||(b=t._gsap,v=e.smoothOrigin!==!1&&b.smooth,y=this._pt=new G(this._pt,h,et,0,1,b.renderTransform,b),y.dep=1),d==="scale"){this._pt=new G(this._pt,t,"scale",c,g?g*u:u-c,0,0,Wi),a.push("scale");continue}else if(d==="transformOrigin"){o=th(o),b.svg?ri(t,o,0,v,0,this):(m=parseFloat(o.split(" ")[2]),m!==b.zOrigin&&vt(this,b,"zOrigin",b.zOrigin,m),vt(this,h,d,Ce(l),Ce(o)));continue}else if(d==="svgOrigin"){ri(t,o,1,v,0,this);continue}else if(d in Ur){nh(this,b,d,c,o,g);continue}else if(d==="smoothOrigin"){vt(this,b,"smooth",b.smooth,o);continue}else if(d==="force3D"){b[d]=o;continue}else if(d==="transform"){ah(this,o,t);continue}}if(x||(u||u===0)&&(c||c===0)&&!Ya.test(o)&&d in h)_=(l+"").substr((c+"").length),m=(o+"").substr((u+"").length)||(d in tt.units?tt.units[d]:_),_!==m&&(c=Yt(t,d,l,m)),this._pt=new G(this._pt,x?b:h,d,c,g?g*u:u-c,m==="px"&&e.autoRound!==!1&&!x?qa:$r),this._pt.u=m||0,_!==m&&(this._pt.b=l,this._pt.r=Ga);else if(d in h)Ja.call(this,t,d,l,o);else if(d in t)this.add(t,d,t[d],o,s,n);else{lr("Invalid "+d+" tween "+o+". Missing plugin? gsap.registerPlugin()");continue}a.push(d)}w&&Lr(this)},get:ye,aliases:Vt,getSetter:function(t,e,i){return e in Et&&e!==Ut&&(t._gsap.x||ye(t,"x"))?i&&Gi===i?e==="scale"?Wi:ja:(Gi=i||{})&&(e==="scale"?Za:Ka):t.style&&!ni(t.style[e])?Wa:~e.indexOf("-")?Ha:ui(t,e)}};K.utils.checkPrefix=ve;(function(r,t,e,i){var s=nt(r+","+t+","+e,function(n){Et[n]=1});nt(t,function(n){tt.units[n]="deg",Ur[n]=1}),Vt[s[13]]=r+","+t,nt(i,function(n){var a=n.split(":");Vt[a[1]]=s[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY");nt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){tt.units[r]="px"});K.registerPlugin(Wr);var Ot=K.registerPlugin(Wr)||K;function Ge(){return"standalone"in navigator||window.matchMedia("(pointer: coarse)").matches?!0:window.matchMedia("(pointer: fine)").matches?!1:"ontouchstart"in window||navigator.maxTouchPoints>0}var I,Rt,ge,N,ut,$t,zt,Qt,_e,bt,It;class hh{constructor(t,e,i){q(this,I,void 0);q(this,Rt,void 0);q(this,ge,void 0);q(this,N,void 0);q(this,ut,{bulge:0,strength:1.1,radius:.95,displacementMap:.3});q(this,$t,new Dt(0,0));q(this,zt,void 0);q(this,Qt,!0);q(this,_e,void 0);q(this,bt,void 0);q(this,It,void 0);Ct(this,"handleResize",()=>{const t=T(this,I).parentNode.offsetWidth,e=T(this,I).parentNode.offsetHeight;T(this,Rt).setSize(t,e),Q(this,zt,T(this,I).getBoundingClientRect()),T(this,N)&&(T(this,N).uniforms.uResolution.value=new Dt(t,e)),Q(this,It,Ge())});Ct(this,"handleMouseMove",t=>{if(!T(this,Qt))return;Q(this,zt,T(this,I).getBoundingClientRect());let e=T(this,It)?t.touches[0].pageX:t.clientX,i=T(this,It)?t.touches[0].pageY:t.clientY;const s=(e-T(this,zt).left)/T(this,I).offsetWidth,n=1-(i-T(this,zt).top+window.scrollY)/T(this,I).offsetHeight;T(this,$t).x=Ot.utils.clamp(0,1,s),T(this,$t).y=Ot.utils.clamp(0,1,n)});Ct(this,"handleMouseEnter",()=>{var t;T(this,Qt)&&((t=this.tlBulge)==null||t.kill(),Ot.fromTo(T(this,N).uniforms.uBulge,{value:0},{value:1,duration:1,ease:"expo.out"}))});Ct(this,"handleMouseLeave",()=>{T(this,Qt)&&Ot.to(T(this,N).uniforms.uBulge,{value:0,duration:1,ease:"expo.out"})});Ct(this,"handleRAF",t=>{requestAnimationFrame(this.handleRAF),T(this,N).uniforms.uTime.value=t*.001,T(this,N).uniforms.uMouse.value=T(this,$t),T(this,Rt).render({scene:T(this,ge)})});Q(this,I,t),Q(this,_e,e),Q(this,bt,i),this.setGUI(),this.setScene(),Q(this,It,Ge())}setGUI(){const t=new si,e=()=>{T(this,N).uniforms.uRadius.value=T(this,ut).radius,T(this,N).uniforms.uStrength.value=T(this,ut).strength};t.add(T(this,ut),"radius",0,1).onChange(e),t.add(T(this,ut),"strength",0,3).onChange(e)}async setScene(){Q(this,Rt,new Os({dpr:Math.min(window.devicePixelRatio,2),canvas:T(this,I),width:T(this,I).offsetWidth,height:T(this,I).offsetHeight}));const{gl:t}=T(this,Rt);await $i.load([{name:`image_${T(this,bt)}`,texture:`./img/${T(this,_e)}`}],t),t.clearColor(1,1,1,1),this.handleResize();const e=new Hn(t),i=$i.get(`image_${T(this,bt)}`);Q(this,N,new Ss(t,{vertex:jn,fragment:Zn,uniforms:{uTime:{value:0},uTexture:{value:i},uTextureResolution:{value:new Dt(i.image.width,i.image.height)},uResolution:{value:new Dt(t.canvas.offsetWidth,t.canvas.offsetHeight)},uMouse:{value:T(this,$t)},uMouseIntro:{value:new Dt(.5,0)},uIntro:{value:0},uBulge:{value:T(this,ut).bulge},uRadius:{value:T(this,ut).radius},uStrength:{value:T(this,ut).strength}}})),Q(this,ge,new Fn(t,{geometry:e,program:T(this,N)})),this.events(),this.intro()}intro(){let t=0;T(this,bt)===2?t=.25:T(this,bt)===0&&(t=.5),Ot.delayedCall(t,()=>{T(this,I).parentNode.parentNode.classList.add("is-visible")}),this.tlBulge=Ot.fromTo(T(this,N).uniforms.uBulge,{value:2},{value:0,duration:2,ease:"expo.out",onComplete:()=>{},delay:t}),Ot.to(T(this,N).uniforms.uIntro,{value:1,duration:3,delay:t})}events(){window.addEventListener("resize",this.handleResize,!1),Ge()?window.addEventListener("touchmove",this.handleMouseMove,!1):window.addEventListener("mousemove",this.handleMouseMove,!1),T(this,I).addEventListener("mouseenter",this.handleMouseEnter,!1),T(this,I).addEventListener("mouseleave",this.handleMouseLeave,!1),requestAnimationFrame(this.handleRAF)}}I=new WeakMap,Rt=new WeakMap,ge=new WeakMap,N=new WeakMap,ut=new WeakMap,$t=new WeakMap,zt=new WeakMap,Qt=new WeakMap,_e=new WeakMap,bt=new WeakMap,It=new WeakMap;var wt;class lh{constructor(t){q(this,wt,void 0);Q(this,wt,t),console.log(T(this,wt));const e=T(this,wt).innerHTML.split("");T(this,wt).innerHTML="",e.forEach(i=>{const s=document.createElement("span");s.classList.add("char"),s.innerHTML=i,T(this,wt).appendChild(s)})}}wt=new WeakMap;const oh=["image-7.jpg","image1.png","image-2.jpg"];document.querySelectorAll(".card-container").forEach((t,e)=>{const i=t.querySelector("canvas");new hh(i,oh[e],e);const s=t.querySelector(".text");new lh(s,e)});
